/*! For license information please see main.159a1949.js.LICENSE.txt */
!function(){var e={1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8926:function(e,t){e.exports=function(){var e=e||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(n||e.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,t)}}),a=r.enc={},u=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},c=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,c=e.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var d=r.splice(0,u);n.sigBytes-=c}return new s.init(d,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),f=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new f.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math);return e}()},3074:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],u=e[t+1],p=e[t+2],h=e[t+3],g=e[t+4],v=e[t+5],m=e[t+6],y=e[t+7],S=e[t+8],b=e[t+9],T=e[t+10],w=e[t+11],E=e[t+12],C=e[t+13],_=e[t+14],R=e[t+15],x=o[0],A=o[1],I=o[2],N=o[3];x=c(x,A,I,N,s,7,a[0]),N=c(N,x,A,I,u,12,a[1]),I=c(I,N,x,A,p,17,a[2]),A=c(A,I,N,x,h,22,a[3]),x=c(x,A,I,N,g,7,a[4]),N=c(N,x,A,I,v,12,a[5]),I=c(I,N,x,A,m,17,a[6]),A=c(A,I,N,x,y,22,a[7]),x=c(x,A,I,N,S,7,a[8]),N=c(N,x,A,I,b,12,a[9]),I=c(I,N,x,A,T,17,a[10]),A=c(A,I,N,x,w,22,a[11]),x=c(x,A,I,N,E,7,a[12]),N=c(N,x,A,I,C,12,a[13]),I=c(I,N,x,A,_,17,a[14]),x=l(x,A=c(A,I,N,x,R,22,a[15]),I,N,u,5,a[16]),N=l(N,x,A,I,m,9,a[17]),I=l(I,N,x,A,w,14,a[18]),A=l(A,I,N,x,s,20,a[19]),x=l(x,A,I,N,v,5,a[20]),N=l(N,x,A,I,T,9,a[21]),I=l(I,N,x,A,R,14,a[22]),A=l(A,I,N,x,g,20,a[23]),x=l(x,A,I,N,b,5,a[24]),N=l(N,x,A,I,_,9,a[25]),I=l(I,N,x,A,h,14,a[26]),A=l(A,I,N,x,S,20,a[27]),x=l(x,A,I,N,C,5,a[28]),N=l(N,x,A,I,p,9,a[29]),I=l(I,N,x,A,y,14,a[30]),x=d(x,A=l(A,I,N,x,E,20,a[31]),I,N,v,4,a[32]),N=d(N,x,A,I,S,11,a[33]),I=d(I,N,x,A,w,16,a[34]),A=d(A,I,N,x,_,23,a[35]),x=d(x,A,I,N,u,4,a[36]),N=d(N,x,A,I,g,11,a[37]),I=d(I,N,x,A,y,16,a[38]),A=d(A,I,N,x,T,23,a[39]),x=d(x,A,I,N,C,4,a[40]),N=d(N,x,A,I,s,11,a[41]),I=d(I,N,x,A,h,16,a[42]),A=d(A,I,N,x,m,23,a[43]),x=d(x,A,I,N,b,4,a[44]),N=d(N,x,A,I,E,11,a[45]),I=d(I,N,x,A,R,16,a[46]),x=f(x,A=d(A,I,N,x,p,23,a[47]),I,N,s,6,a[48]),N=f(N,x,A,I,y,10,a[49]),I=f(I,N,x,A,_,15,a[50]),A=f(A,I,N,x,v,21,a[51]),x=f(x,A,I,N,E,6,a[52]),N=f(N,x,A,I,h,10,a[53]),I=f(I,N,x,A,T,15,a[54]),A=f(A,I,N,x,u,21,a[55]),x=f(x,A,I,N,S,6,a[56]),N=f(N,x,A,I,R,10,a[57]),I=f(I,N,x,A,m,15,a[58]),A=f(A,I,N,x,C,21,a[59]),x=f(x,A,I,N,g,6,a[60]),N=f(N,x,A,I,w,10,a[61]),I=f(I,N,x,A,p,15,a[62]),A=f(A,I,N,x,b,21,a[63]),o[0]=o[0]+x|0,o[1]=o[1]+A|0,o[2]=o[2]+I|0,o[3]=o[3]+N|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(u),t.HmacMD5=o._createHmacHelper(u)}(Math),i.MD5)}()},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"===typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=h(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var s=l(n);d&&(s=s.concat(d(n)));for(var a=u(t),g=u(n),v=0;v<s.length;++v){var m=s[v];if(!o[m]&&(!r||!r[m])&&(!g||!g[m])&&(!a||!a[m])){var y=f(n,m);try{c(t,m,y)}catch(S){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function T(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case g:case u:return e;default:return t}}case i:return t}}}function w(e){return T(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||T(e)===l},t.isConcurrentMode=w,t.isContextConsumer=function(e){return T(e)===c},t.isContextProvider=function(e){return T(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return T(e)===f},t.isFragment=function(e){return T(e)===o},t.isLazy=function(e){return T(e)===v},t.isMemo=function(e){return T(e)===g},t.isPortal=function(e){return T(e)===i},t.isProfiler=function(e){return T(e)===a},t.isStrictMode=function(e){return T(e)===s},t.isSuspense=function(e){return T(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===S||e.$$typeof===b||e.$$typeof===m)},t.typeOf=T},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function S(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),x=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var $,j=Object.assign;function M(e){if(void 0===$)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var H=!1;function L(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var u="\n"+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=s&&0<=a);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function F(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case _:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function X(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Ce=null;function _e(e){if(e=Si(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=Ti(t),we(e.stateNode,e.type,t))}}function Re(e){Ee?Ce?Ce.push(e):Ce=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Ce;if(Ce=Ee=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function Ie(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Ce)&&(Ie(),xe())}}function ke(e,t){var n=e.stateNode;if(null===n)return null;var r=Ti(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Ue(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var $e=!1,je=null,Me=!1,He=null,Le={onError:function(e){$e=!0,je=e}};function Fe(e,t,n,r,i,o,s,a,u){$e=!1,je=null,Ue.apply(Le,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(qe(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ze(i),e;if(s===r)return ze(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ut|0)|0},at=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var St=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Tt,wt,Et,Ct,_t,Rt=!1,xt=[],At=null,It=null,Nt=null,Ot=new Map,kt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(t.pointerId)}}function $t(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Si(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void _t(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Si(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ht(e,t,n){Mt(e)&&n.delete(t)}function Lt(){Rt=!1,null!==At&&Mt(At)&&(At=null),null!==It&&Mt(It)&&(It=null),null!==Nt&&Mt(Nt)&&(Nt=null),Ot.forEach(Ht),kt.forEach(Ht)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lt)))}function qt(e){function t(t){return Ft(t,e)}if(0<xt.length){Ft(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Ft(At,e),null!==It&&Ft(It,e),null!==Nt&&Ft(Nt,e),Ot.forEach(t),kt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Bt=b.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=St,o=Bt.transition;Bt.transition=null;try{St=1,Vt(e,t,n,r)}finally{St=i,Bt.transition=o}}function Gt(e,t,n,r){var i=St,o=Bt.transition;Bt.transition=null;try{St=4,Vt(e,t,n,r)}finally{St=i,Bt.transition=o}}function Vt(e,t,n,r){if(zt){var i=Yt(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=$t(At,e,t,n,r,i),!0;case"dragenter":return It=$t(It,e,t,n,r,i),!0;case"mouseover":return Nt=$t(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,$t(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,kt.set(o,$t(kt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=Si(i);if(null!==o&&Tt(o),null===(o=Yt(e,t,n,r))&&zr(e,t,r,Kt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=Te(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=j({},cn,{view:0,detail:0}),fn=on(dn),pn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,an=e.screenY-un.screenY):an=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=on(pn),gn=on(j({},pn,{dataTransfer:0})),vn=on(j({},dn,{relatedTarget:0})),mn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=on(yn),bn=on(j({},cn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function _n(){return Cn}var Rn=j({},dn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Rn),An=on(j({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=j({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kn=on(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Un=null;l&&"documentMode"in document&&(Un=document.documentMode);var $n=l&&"TextEvent"in window&&!Un,jn=l&&(!Dn||Un&&8<Un&&11>=Un),Mn=String.fromCharCode(32),Hn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Re(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Vn=null;function Kn(e){Mr(e,0)}function Yn(e){if(V(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Vn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Vn)){var t=[];Wn(t,Vn,e,Te(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Vn)}function or(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,yr=null,Sr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},Er={},Cr={};function _r(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Er[e]=n[t];return e}l&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Rr=_r("animationend"),xr=_r("animationiteration"),Ar=_r("animationstart"),Ir=_r("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Nr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];kr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}kr(Rr,"onAnimationEnd"),kr(xr,"onAnimationIteration"),kr(Ar,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,u,c){if(Fe.apply(this,arguments),$e){if(!$e)throw Error(o(198));var l=je;$e=!1,je=null,Me||(Me=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;jr(i,a,c),o=u}}}if(Me)throw e=He,Me=!1,He=null,e}function Hr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Fr]){e[Fr]=!0,s.forEach((function(t){"selectionchange"!==t&&($r.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Lr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}Oe((function(){var r=o,i=Te(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Rr:case xr:case Ar:u=mn;break;case Ir:u=Nn;break;case"scroll":u=fn;break;case"wheel":u=kn;break;case"copy":case"cut":case"paste":u=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==a?a+"Capture":null:a;l=[];for(var p,h=r;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=ke(h,f))&&l.push(Wr(h,g,p)))),d)break;h=h.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[hi])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,g="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,g="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?a:bi(u),p=null==c?a:bi(c),(a=new l(g,h+"leave",u,n,i)).target=d,a.relatedTarget=p,g=null,yi(i)===r&&((l=new l(f,h+"enter",c,n,i)).target=p,l.relatedTarget=d,g=l),d=g,u&&c)e:{for(f=c,h=0,p=l=u;p;p=Vr(p))h++;for(p=0,g=f;g;g=Vr(g))p++;for(;0<h-p;)l=Vr(l),h--;for(;0<p-h;)f=Vr(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=Vr(l),f=Vr(f)}l=null}else l=null;null!==u&&Kr(s,a,u,l,!1),null!==c&&null!==d&&Kr(s,d,c,l,!0)}if("select"===(u=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var v=Qn;else if(zn(a))if(Jn)v=sr;else{v=ir;var m=rr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(v=or);switch(v&&(v=v(e,r))?Wn(s,v,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?bi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(vr=m,mr=r,yr=null);break;case"focusout":yr=mr=vr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else qn?Ln(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(jn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==S?"onCompositionEnd"===S&&qn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,qn=!0)),0<(m=Gr(r,S)).length&&(S=new bn(S,e,null,n,i),s.push({event:S,listeners:m}),y?S.data=y:null!==(y=Fn(n))&&(S.data=y))),(y=$n?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Hn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Dn&&Ln(e,t)?(e=en(),Zt=Xt=Jt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Mr(s,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=ke(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=ke(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=ke(n,o))&&s.unshift(Wr(n,u,a)):i||null!=(u=ke(n,o))&&s.push(Wr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,pi="__reactProps$"+di,hi="__reactContainer$"+di,gi="__reactEvents$"+di,vi="__reactListeners$"+di,mi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function Si(e){return!(e=e[fi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ti(e){return e[pi]||null}var wi=[],Ei=-1;function Ci(e){return{current:e}}function _i(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ri(e,t){Ei++,wi[Ei]=e.current,e.current=t}var xi={},Ai=Ci(xi),Ii=Ci(!1),Ni=xi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ki(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){_i(Ii),_i(Ai)}function Di(e,t,n){if(Ai.current!==xi)throw Error(o(168));Ri(Ai,t),Ri(Ii,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return j({},n,r)}function $i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ni=Ai.current,Ri(Ai,e),Ri(Ii,Ii.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ui(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,_i(Ii),_i(Ai),Ri(Ai,e)):_i(Ii),Ri(Ii,n)}var Mi=null,Hi=!1,Li=!1;function Fi(e){null===Mi?Mi=[e]:Mi.push(e)}function qi(){if(!Li&&null!==Mi){Li=!0;var e=0,t=St;try{var n=Mi;for(St=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Hi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ve(Ze,qi),i}finally{St=t,Li=!1}}return null}var Bi=[],zi=0,Wi=null,Gi=0,Vi=[],Ki=0,Yi=null,Qi=1,Ji="";function Xi(e,t){Bi[zi++]=Gi,Bi[zi++]=Wi,Wi=e,Gi=t}function Zi(e,t,n){Vi[Ki++]=Qi,Vi[Ki++]=Ji,Vi[Ki++]=Yi,Yi=e;var r=Qi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=Bi[--zi],Bi[zi]=null,Gi=Bi[--zi],Bi[zi]=null;for(;e===Yi;)Yi=Vi[--Ki],Vi[Ki]=null,Ji=Vi[--Ki],Vi[Ki]=null,Qi=Vi[--Ki],Vi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),So=null,bo=null,To=null;function wo(){To=bo=So=null}function Eo(e){var t=yo.current;_i(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){So=e,To=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===So)throw Error(o(308));bo=e,So.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var xo=null;function Ao(e){null===xo?xo=[e]:xo.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function $o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var u=a,c=u.next;u.next=null,null===s?o=c:s.next=c,s=u;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(s=0,l=c=u=null,a=o;;){var f=a.lane,p=a.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(f=t,p=n,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=g.payload)?h.call(p,d,f):h)||void 0===f)break e;d=j({},d,f);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=p,u=d):l=l.next=p,s|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=s,e.lanes=s,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Lo=(new r.Component).refs;function Fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(rc(t,e,i,r),$o(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,i))&&(rc(t,e,i,r),$o(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Uo(e,i,r))&&(rc(t,e,r,n),$o(t,e,r))}};function Bo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function zo(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=ki(t)?Ni:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Lo,ko(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=ki(t)?Ni:Ai.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Fo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Lo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ko(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===k&&Yo(o)===t.type)?((r=i(t,n.props)).ref=Vo(e,t,n),r.return=e,r):((r=Uc(n.type,n.key,n.props,null,e.mode,r)).ref=Vo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=$c(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case T:return(n=Uc(t.type,t.key,t.props,null,e.mode,n)).ref=Vo(e,null,t),n.return=e,n;case w:return(t=Hc(t,e.mode,n)).return=e,t;case k:return f(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=$c(t,e.mode,n,null)).return=e,t;Ko(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?c(e,t,n,r):null;case w:return n.key===i?l(e,t,n,r):null;case k:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:d(e,t,n,r,null);Ko(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case T:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return d(t,e=e.get(n)||null,r,i,null);Ko(t,r)}return null}function g(i,o,a,u){for(var c=null,l=null,d=o,g=o=0,v=null;null!==d&&g<a.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=p(i,d,a[g],u);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),o=s(m,o,g),null===l?c=m:l.sibling=m,l=m,d=v}if(g===a.length)return n(i,d),io&&Xi(i,g),c;if(null===d){for(;g<a.length;g++)null!==(d=f(i,a[g],u))&&(o=s(d,o,g),null===l?c=d:l.sibling=d,l=d);return io&&Xi(i,g),c}for(d=r(i,d);g<a.length;g++)null!==(v=h(d,i,g,a[g],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=s(v,o,g),null===l?c=v:l.sibling=v,l=v);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,g),c}function v(i,a,u,c){var l=U(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,g=a,v=a=0,m=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var S=p(i,g,y.value,c);if(null===S){null===g&&(g=m);break}e&&g&&null===S.alternate&&t(i,g),a=s(S,a,v),null===d?l=S:d.sibling=S,d=S,g=m}if(y.done)return n(i,g),io&&Xi(i,v),l;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=f(i,y.value,c))&&(a=s(y,a,v),null===d?l=y:d.sibling=y,d=y);return io&&Xi(i,v),l}for(g=r(i,g);!y.done;v++,y=u.next())null!==(y=h(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),a=s(y,a,v),null===d?l=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Xi(i,v),l}return function e(r,o,s,u){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case T:e:{for(var c=s.key,l=o;null!==l;){if(l.key===c){if((c=s.type)===E){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===k&&Yo(c)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Vo(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===E?((o=$c(s.props.children,r.mode,u,s.key)).return=r,r=o):((u=Uc(s.type,s.key,s.props,null,r.mode,u)).ref=Vo(r,o,s),u.return=r,r=u)}return a(r);case w:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Hc(s,r.mode,u)).return=r,r=o}return a(r);case k:return e(r,o,(l=s._init)(s._payload),u)}if(te(s))return g(r,o,s,u);if(U(s))return v(r,o,s,u);Ko(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Mc(s,r.mode,u)).return=r,r=o),a(r)):n(r,o)}}var Jo=Qo(!0),Xo=Qo(!1),Zo={},es=Ci(Zo),ts=Ci(Zo),ns=Ci(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ri(ns,t),Ri(ts,e),Ri(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(es),Ri(es,t)}function os(){_i(es),_i(ts),_i(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ue(t,e.type);t!==n&&(Ri(ts,e),Ri(es,n))}function as(e){ts.current===e&&(_i(es),_i(ts))}var us=Ci(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function ds(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var fs=b.ReactCurrentDispatcher,ps=b.ReactCurrentBatchConfig,hs=0,gs=null,vs=null,ms=null,ys=!1,Ss=!1,bs=0,Ts=0;function ws(){throw Error(o(321))}function Es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Cs(e,t,n,r,i,s){if(hs=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fs.current=null===e||null===e.memoizedState?aa:ua,e=n(r,i),Ss){s=0;do{if(Ss=!1,bs=0,25<=s)throw Error(o(301));s+=1,ms=vs=null,t.updateQueue=null,fs.current=ca,e=n(r,i)}while(Ss)}if(fs.current=sa,t=null!==vs&&null!==vs.next,hs=0,ms=vs=gs=null,ys=!1,t)throw Error(o(300));return e}function _s(){var e=0!==bs;return bs=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?gs.memoizedState=ms=e:ms=ms.next=e,ms}function xs(){if(null===vs){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=vs.next;var t=null===ms?gs.memoizedState:ms.next;if(null!==t)ms=t,vs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(vs=e).memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},null===ms?gs.memoizedState=ms=e:ms=ms.next=e}return ms}function As(e,t){return"function"===typeof t?t(e):t}function Is(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=vs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var u=a=null,c=null,l=s;do{var d=l.lane;if((hs&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,a=r):c=c.next=f,gs.lanes|=d,ju|=d}l=l.next}while(null!==l&&l!==s);null===c?a=r:c.next=u,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,ju|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=xs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Os(){}function ks(e,t){var n=gs,r=xs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,zs(Us.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Hs(9,Ds.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&hs)||Ps(n,t,i)}return i}function Ps(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,$s(t)&&js(e)}function Us(e,t,n){return n((function(){$s(t)&&js(e)}))}function $s(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function js(e){var t=No(e,1);null!==t&&rc(t,e,1,-1)}function Ms(e){var t=Rs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Hs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ls(){return xs().memoizedState}function Fs(e,t,n,r){var i=Rs();gs.flags|=e,i.memoizedState=Hs(1|t,n,void 0,void 0===r?null:r)}function qs(e,t,n,r){var i=xs();r=void 0===r?null:r;var o=void 0;if(null!==vs){var s=vs.memoizedState;if(o=s.destroy,null!==r&&Es(r,s.deps))return void(i.memoizedState=Hs(t,n,o,r))}gs.flags|=e,i.memoizedState=Hs(1|t,n,o,r)}function Bs(e,t){return Fs(8390656,8,e,t)}function zs(e,t){return qs(2048,8,e,t)}function Ws(e,t){return qs(4,2,e,t)}function Gs(e,t){return qs(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qs(4,4,Vs.bind(null,t,e),n)}function Ys(){}function Qs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Es(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xs(e,t,n){return 0===(21&hs)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,ju|=n,e.baseState=!0),t)}function Zs(e,t){var n=St;St=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{St=n,ps.transition=r}}function ea(){return xs().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Io(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var u=t.interleaved;return null===u?(i.next=i,Ao(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Io(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){Ss=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Ro,useCallback:ws,useContext:ws,useEffect:ws,useImperativeHandle:ws,useInsertionEffect:ws,useLayoutEffect:ws,useMemo:ws,useReducer:ws,useRef:ws,useState:ws,useDebugValue:ws,useDeferredValue:ws,useTransition:ws,useMutableSource:ws,useSyncExternalStore:ws,useId:ws,unstable_isNewReconciler:!1},aa={readContext:Ro,useCallback:function(e,t){return Rs().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Bs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fs(4194308,4,Vs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var n=Rs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Rs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Rs().memoizedState=e},useState:Ms,useDebugValue:Ys,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Zs.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Rs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&hs)||Ps(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Bs(Us.bind(null,r,s,e),[e]),r.flags|=2048,Hs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Rs(),t=Nu.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ts++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ua={readContext:Ro,useCallback:Qs,useContext:Ro,useEffect:zs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Gs,useMemo:Js,useReducer:Is,useRef:Ls,useState:function(){return Is(As)},useDebugValue:Ys,useDeferredValue:function(e){return Xs(xs(),vs.memoizedState,e)},useTransition:function(){return[Is(As)[0],xs().memoizedState]},useMutableSource:Os,useSyncExternalStore:ks,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ro,useCallback:Qs,useContext:Ro,useEffect:zs,useImperativeHandle:Ks,useInsertionEffect:Ws,useLayoutEffect:Gs,useMemo:Js,useReducer:Ns,useRef:Ls,useState:function(){return Ns(As)},useDebugValue:Ys,useDeferredValue:function(e){var t=xs();return null===vs?t.memoizedState=e:Xs(t,vs.memoizedState,e)},useTransition:function(){return[Ns(As)[0],xs().memoizedState]},useMutableSource:Os,useSyncExternalStore:ks,useId:ea,unstable_isNewReconciler:!1};function la(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Gu=r),fa(0,t)},n}function ga(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fa(0,t),"function"!==typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function va(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Sa=b.ReactCurrentOwner,ba=!1;function Ta(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function wa(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=Cs(e,t,n,r,o,i),n=_s(),null===e||ba?(io&&n&&eo(t),t.flags|=1,Ta(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Uc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ca(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return xa(e,t,n,r,i)}function _a(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(Du,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ri(Du,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(Du,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ri(Du,Pu),Pu|=r;return Ta(e,t,i,n),t.child}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,i){var o=ki(n)?Ni:Ai.current;return o=Oi(t,o),_o(t,i),n=Cs(e,t,n,r,o,i),r=_s(),null===e||ba?(io&&r&&eo(t),t.flags|=1,Ta(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Aa(e,t,n,r,i){if(ki(n)){var o=!0;$i(t)}else o=!1;if(_o(t,i),null===t.stateNode)za(e,t),zo(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ro(c):c=Oi(t,c=ki(n)?Ni:Ai.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==c)&&Wo(t,s,r,c),Oo=!1;var f=t.memoizedState;s.state=f,Mo(t,r,s,i),u=t.memoizedState,a!==r||f!==u||Ii.current||Oo?("function"===typeof l&&(Fo(t,n,l,r),u=t.memoizedState),(a=Oo||Bo(t,n,a,r,f,u,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Po(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:mo(t.type,a),s.props=c,d=t.pendingProps,f=s.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ro(u):u=Oi(t,u=ki(n)?Ni:Ai.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==u)&&Wo(t,s,r,u),Oo=!1,f=t.memoizedState,s.state=f,Mo(t,r,s,i);var h=t.memoizedState;a!==d||f!==h||Ii.current||Oo?("function"===typeof p&&(Fo(t,n,p,r),h=t.memoizedState),(c=Oo||Bo(t,n,c,r,f,h,u)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,u),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=u,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Ra(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&ji(t,n,!1),Wa(e,t,o);r=t.stateNode,Sa.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,a,o)):Ta(e,t,a,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Oa(e,t,n,r,i){return ho(),go(i),t.flags|=256,Ta(e,t,n,r),t.child}var ka,Pa,Da,Ua,$a={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ma(e,t,n){var r,i=t.pendingProps,s=us.current,a=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ri(us,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=u):a=jc(u,i,0,null),e=$c(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=$a,e):Ha(t,u));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,La(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(s=$c(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=$a,s);if(0===(1&t.mode))return La(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,La(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(u=0!==(a&e.childLanes),ba||u){if(null!==(r=Nu)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,No(e,i),rc(r,e,i,-1))}return vc(),La(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Vi[Ki++]=Qi,Vi[Ki++]=Ji,Vi[Ki++]=Yi,Qi=e.id,Ji=e.overflow,Yi=t),t=Ha(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,s,n);if(a){a=i.fallback,u=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=$c(a,u,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=null===(u=e.child.memoizedState)?ja(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=$a,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ha(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function La(e,t,n,r){return null!==r&&go(r),Jo(t,e.child,null,n),(e=Ha(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function qa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ta(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ri(us,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Va(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(t),null;case 1:case 17:return ki(t.type)&&Pi(),Va(t),null;case 3:return r=t.stateNode,os(),_i(Ii),_i(Ai),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Pa(e,t),Va(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Va(t),null}if(e=rs(es.current),fo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":Hr("cancel",r),Hr("close",r);break;case"iframe":case"object":case"embed":Hr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Hr(Ur[i],r);break;case"source":Hr("error",r);break;case"img":case"image":case"link":Hr("error",r),Hr("load",r);break;case"details":Hr("toggle",r);break;case"input":Q(r,s),Hr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Hr("invalid",r);break;case"textarea":ie(r,s),Hr("invalid",r)}for(var u in ye(n,s),i=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Hr("scroll",r)}switch(n){case"input":G(r),Z(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[pi]=r,ka(e,t,!1,!1),t.stateNode=e;e:{switch(u=Se(n,r),n){case"dialog":Hr("cancel",e),Hr("close",e),i=r;break;case"iframe":case"object":case"embed":Hr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Hr(Ur[i],e);i=r;break;case"source":Hr("error",e),i=r;break;case"img":case"image":case"link":Hr("error",e),Hr("load",e),i=r;break;case"details":Hr("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Hr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Hr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Hr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?ve(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Hr("scroll",e):null!=l&&S(e,s,l,u))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Va(t),null;case 6:if(e&&null!=t.stateNode)Ua(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Va(t),null;case 13:if(_i(us),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),ho(),t.flags|=98560,s=!1;else if(s=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[fi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Va(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&us.current)?0===Uu&&(Uu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Va(t),null);case 4:return os(),Pa(e,t),null===e&&qr(t.stateNode.containerInfo),Va(t),null;case 10:return Eo(t.type._context),Va(t),null;case 19:if(_i(us),null===(s=t.memoizedState))return Va(t),null;if(r=0!==(128&t.flags),null===(u=s.rendering))if(r)Ga(s,!1);else{if(0!==Uu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=cs(e))){for(t.flags|=128,Ga(s,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ri(us,1&us.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Bu&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!io)return Va(t),null}else 2*Je()-s.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Ga(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=us.current,Ri(us,r?1&n|2:1&n),t):(Va(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Va(t),6&t.subtreeFlags&&(t.flags|=8192)):Va(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ya(e,t){switch(to(t),t.tag){case 1:return ki(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),_i(Ii),_i(Ai),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(_i(us),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(us),null;case 4:return os(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Hr("scroll",e),s||u===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Ua=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[gi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var du=null,fu=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||eu(n,t);case 6:var r=du,i=fu;du=null,pu(e,t,n),fu=i,null!==(du=r)&&(fu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(e=du,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),qt(e)):ui(du,n.stateNode));break;case 4:r=du,i=fu,du=n.stateNode.containerInfo,fu=!0,pu(e,t,n),du=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tu(n,t,s),i=i.next}while(i!==r)}pu(e,t,n);break;case 1:if(!Ja&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,pu(e,t,n),Ja=r):pu(e,t,n);break;default:pu(e,t,n)}}function gu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,u=a;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(o(160));hu(s,a,i),du=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(v){_c(e,e.return,v)}try{ru(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===s.type&&null!=s.name&&J(i,s),Se(u,a);var l=Se(u,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];"style"===d?ve(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):S(i,d,f,l)}switch(u){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(i,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(v){_c(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){_c(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Je())),4&r&&gu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(l=Ja)||d,vu(t,e),Ja=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(f=Za=d;null!==Za;){switch(h=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){_c(r,n,v)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){wu(f);continue}}null!==h?(h.return=p,Za=h):wu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(u=f.stateNode,a=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ge("display",a))}catch(v){_c(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&gu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cu(e,uu(e),s);break;default:throw Error(o(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Su(e,t,n){Za=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,u=null!==a&&null!==a.memoizedState||Ja;a=Qa;var c=Ja;if(Qa=s,(Ja=u)&&!c)for(Za=i;null!==Za;)u=(s=Za).child,22===s.tag&&null!==s.memoizedState?Eu(i):null!==u?(u.return=s,Za=u):Eu(i);for(;null!==o;)Za=o,bu(o,t,n),o=o.sibling;Za=i,Qa=a,Ja=c}Tu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):Tu(e)}}function Tu(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,a,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&ou(t)}catch(p){_c(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wu(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Eu(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){_c(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_c(t,i,u)}}var o=t.return;try{ou(t)}catch(u){_c(t,o,u)}break;case 5:var s=t.return;try{ou(t)}catch(u){_c(t,s,u)}}}catch(u){_c(t,t.return,u)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Cu,_u=Math.ceil,Ru=b.ReactCurrentDispatcher,xu=b.ReactCurrentOwner,Au=b.ReactCurrentBatchConfig,Iu=0,Nu=null,Ou=null,ku=0,Pu=0,Du=Ci(0),Uu=0,$u=null,ju=0,Mu=0,Hu=0,Lu=null,Fu=null,qu=0,Bu=1/0,zu=null,Wu=!1,Gu=null,Vu=null,Ku=!1,Yu=null,Qu=0,Ju=0,Xu=null,Zu=-1,ec=0;function tc(){return 0!==(6&Iu)?Je():-1!==Zu?Zu:Zu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==ku?ku&-ku:null!==vo.transition?(0===ec&&(ec=gt()),ec):0!==(e=St)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Xu=null,Error(o(185));mt(e,n,r),0!==(2&Iu)&&e===Nu||(e===Nu&&(0===(2&Iu)&&(Mu|=n),4===Uu&&uc(e,ku)),ic(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=Je()+500,Hi&&qi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,u=i[s];-1===u?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ft(e,e===Nu?ku:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Hi=!0,Fi(e)}(cc.bind(null,e)):Fi(cc.bind(null,e)),si((function(){0===(6&Iu)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zu=-1,ec=0,0!==(6&Iu))throw Error(o(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ft(e,e===Nu?ku:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Iu;Iu|=2;var s=gc();for(Nu===e&&ku===t||(zu=null,Bu=Je()+500,pc(e,t));;)try{Sc();break}catch(u){hc(e,u)}wo(),Ru.current=s,Iu=i,null!==Ou?t=0:(Nu=null,ku=0,t=Uu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=sc(e,i))),1===t)throw n=$u,pc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(s=ht(e))&&(r=s,t=sc(e,s))),1===t))throw n=$u,pc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Fu,zu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=qu+500-Je())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Fu,zu),t);break}wc(e,Fu,zu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Fu,zu),r);break}wc(e,Fu,zu);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Fu,Fu=n,null!==t&&ac(t)),e}function ac(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function uc(e,t){for(t&=~Hu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Iu))throw Error(o(327));Ec();var t=ft(e,0);if(0===(1&t))return ic(e,Je()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=$u,pc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fu,zu),ic(e,Je()),null}function lc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=Je()+500,Hi&&qi())}}function dc(e){null!==Yu&&0===Yu.tag&&0===(6&Iu)&&Ec();var t=Iu;Iu|=1;var n=Au.transition,r=St;try{if(Au.transition=null,St=1,e)return e()}finally{St=r,Au.transition=n,0===(6&(Iu=t))&&qi()}}function fc(){Pu=Du.current,_i(Du)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:os(),_i(Ii),_i(Ai),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:_i(us);break;case 10:Eo(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Nu=e,Ou=e=Dc(e.current,null),ku=Pu=t,Uu=0,$u=null,Hu=Mu=ju=0,Fu=Lu=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}xo=null}return e}function hc(e,t){for(;;){var n=Ou;try{if(wo(),fs.current=sa,ys){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(hs=0,ms=vs=gs=null,Ss=!1,bs=0,xu.current=null,null===n||null===n.return){Uu=1,$u=t,Ou=null;break}e:{var s=e,a=n.return,u=n,c=t;if(t=ku,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ma(a);if(null!==h){h.flags&=-257,ya(h,a,u,0,t),1&h.mode&&va(s,l,t),c=l;var g=(t=h).updateQueue;if(null===g){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}if(0===(1&t)){va(s,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var m=ma(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ya(m,a,u,0,t),go(la(c,u));break e}}s=c=la(c,u),4!==Uu&&(Uu=2),null===Lu?Lu=[s]:Lu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ha(0,c,t));break e;case 1:u=c;var y=s.type,S=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Vu||!Vu.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ga(s,u,t));break e}}s=s.return}while(null!==s)}Tc(n)}catch(b){t=b,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function gc(){var e=Ru.current;return Ru.current=sa,null===e?sa:e}function vc(){0!==Uu&&3!==Uu&&2!==Uu||(Uu=4),null===Nu||0===(268435455&ju)&&0===(268435455&Mu)||uc(Nu,ku)}function mc(e,t){var n=Iu;Iu|=2;var r=gc();for(Nu===e&&ku===t||(zu=null,pc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(wo(),Iu=n,Ru.current=r,null!==Ou)throw Error(o(261));return Nu=null,ku=0,Uu}function yc(){for(;null!==Ou;)bc(Ou)}function Sc(){for(;null!==Ou&&!Ye();)bc(Ou)}function bc(e){var t=Cu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?Tc(e):Ou=t,xu.current=null}function Tc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Pu)))return void(Ou=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Uu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Uu&&(Uu=5)}function wc(e,t,n){var r=St,i=Au.transition;try{Au.transition=null,St=1,function(e,t,n,r){do{Ec()}while(null!==Yu);if(0!==(6&Iu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Nu&&(Ou=Nu=null,ku=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Nc(tt,(function(){return Ec(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Au.transition,Au.transition=null;var a=St;St=1;var u=Iu;Iu|=4,xu.current=null,function(e,t){if(ei=zt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(T){n=null;break e}var a=0,u=-1,c=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==i&&3!==f.nodeType||(u=a+i),f!==s||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===i&&(u=a),p===s&&++d===r&&(c=a),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,m=g.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:mo(t.type,v),m);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(T){_c(t,t.return,T)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nu,nu=!1}(e,n),mu(n,e),hr(ti),zt=!!ei,ti=ei=null,e.current=n,Su(n,e,i),Qe(),Iu=u,St=a,Au.transition=s}else e.current=n;if(Ku&&(Ku=!1,Yu=e,Qu=i),s=e.pendingLanes,0===s&&(Vu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Gu,Gu=null,e;0!==(1&Qu)&&0!==e.tag&&Ec(),s=e.pendingLanes,0!==(1&s)?e===Xu?Ju++:(Ju=0,Xu=e):Ju=0,qi()}(e,t,n,r)}finally{Au.transition=i,St=r}return null}function Ec(){if(null!==Yu){var e=bt(Qu),t=Au.transition,n=St;try{if(Au.transition=null,St=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Iu))throw Error(o(331));var i=Iu;for(Iu|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var u=s.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Za=l;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:ru(8,d,s)}var f=d.child;if(null!==f)f.return=d,Za=f;else for(;null!==Za;){var p=(d=Za).sibling,h=d.return;if(su(d),d===l){Za=null;break}if(null!==p){p.return=h,Za=p;break}Za=h}}}var g=s.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(null!==v)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var S=e.current;for(Za=S;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=S;null!==Za;){if(0!==(2048&(u=Za).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){_c(u,u.return,w)}if(u===a){Za=null;break e}var T=u.sibling;if(null!==T){T.return=u.return,Za=T;break e}Za=u.return}}if(Iu=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{St=n,Au.transition=t}}return!1}function Cc(e,t,n){e=Uo(e,t=ha(0,t=la(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function _c(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){t=Uo(t,e=ga(t,e=la(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(ku&n)===n&&(4===Uu||3===Uu&&(130023424&ku)===ku&&500>Je()-qu?pc(e,0):Hu|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=No(e,t))&&(mt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),xc(e,n)}function Nc(e,t){return Ve(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Oc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Uc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return $c(n.children,i,s,t);case C:a=8,i|=8;break;case _:return(e=kc(12,n,t,2|i)).elementType=_,e.lanes=s,e;case I:return(e=kc(13,n,t,i)).elementType=I,e.lanes=s,e;case N:return(e=kc(19,n,t,i)).elementType=N,e.lanes=s,e;case P:return jc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:a=10;break e;case x:a=9;break e;case A:a=11;break e;case O:a=14;break e;case k:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=kc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function $c(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=kc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,s,a,u){return e=new Lc(e,t,n,a,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=kc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ko(o),e}function qc(e){if(!e)return xi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ki(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(ki(n))return Ui(e,n,t)}return t}function Bc(e,t,n,r,i,o,s,a,u){return(e=Fc(n,r,!0,e,0,o,0,a,u)).context=qc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function zc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(i,t,s))&&(rc(e,i,s,o),$o(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Cu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),ho();break;case 5:ss(t);break;case 1:ki(t.type)&&$i(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ri(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ri(us,1&us.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ma(e,t,n):(Ri(us,1&us.current),null!==(e=Wa(e,t,n))?e.sibling:null);Ri(us,1&us.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Wa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var i=Oi(t,Ai.current);_o(t,n),i=Cs(null,t,r,e,i,n);var s=_s();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ki(r)?(s=!0,$i(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ko(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),Ta(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===O)return 14}return 2}(r),e=mo(r,e),i){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Aa(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Po(e,t),Mo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Oa(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Wa(e,t,n);break e}Ta(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ra(e,t),Ta(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ma(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):Ta(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wa(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Ta(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ta(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ri(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Wa(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){a=s.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Co(s.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Co(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ta(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=Ro(i)),t.flags|=1,Ta(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),Ea(e,t,r,i=mo(r.type,i),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),za(e,t),t.tag=1,ki(r)?(e=!0,$i(t)):e=!1,_o(t,n),zo(t,r,i),Go(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return _a(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}zc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}var s=Bc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[hi]=s.current,qr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Wc(u);a.call(e)}}var u=Fc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[hi]=u.current,qr(8===e.nodeType?e.parentNode:e),dc((function(){zc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(s)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){zc(null,e,null,null)})),t[hi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},Tt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Iu)&&(Bu=Je()+500,qi()))}break;case 13:dc((function(){var t=No(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)rc(t,e,134217728,tc());Vc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=No(e,t);if(null!==n)rc(n,e,t,tc());Vc(e,t)}},Ct=function(){return St},_t=function(e,t){var n=St;try{return St=e,t()}finally{St=n}},we=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ti(r);if(!i)throw Error(o(90));V(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=lc,Ie=dc;var tl={usingClientEntryPoint:!1,Events:[Si,bi,Ti,Re,xe,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,s,a),e[hi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case f:case p:return e;default:switch(e=e&&e.$$typeof){case l:case c:case d:case g:case h:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function S(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=S.prototype=new y;b.constructor=S,g(b,m.prototype),b.isPureReactComponent=!0;var T=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:E.current}}function R(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return s=s(u=e),e=""===o?"."+A(u,0):o,T(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(R(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=""===o?".":o+":",T(e))for(var c=0;c<e.length;c++){var l=o+A(a=e[c],c);u+=I(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=I(a=a.value,t,i,l=o+A(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var k={current:null},P={transition:null},D={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=S,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=R,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return k.current.useCallback(e,t)},t.useContext=function(e){return k.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return k.current.useDeferredValue(e)},t.useEffect=function(e,t){return k.current.useEffect(e,t)},t.useId=function(){return k.current.useId()},t.useImperativeHandle=function(e,t,n){return k.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.current.useMemo(e,t)},t.useReducer=function(e,t,n){return k.current.useReducer(e,t,n)},t.useRef=function(e){return k.current.useRef(e)},t.useState=function(e){return k.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,u=e[a],c=a+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[a]=n,r=a);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var c=[],l=[],d=1,f=null,p=3,h=!1,g=!1,v=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function T(e){if(v=!1,b(e),!g)if(null!==r(c))g=!0,P(w);else{var t=r(l);null!==t&&D(T,t.startTime-e)}}function w(e,n){g=!1,v&&(v=!1,y(R),R=-1),h=!0;var o=p;try{for(b(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!I());){var s=f.callback;if("function"===typeof s){f.callback=null,p=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(c)&&i(c),b(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&D(T,d.startTime-n),u=!1}return u}finally{f=null,p=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,_=null,R=-1,x=5,A=-1;function I(){return!(t.unstable_now()-A<x)}function N(){if(null!==_){var e=t.unstable_now();A=e;var n=!0;try{n=_(!0,e)}finally{n?E():(C=!1,_=null)}}else C=!1}if("function"===typeof S)E=function(){S(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,k=O.port2;O.port1.onmessage=N,E=function(){k.postMessage(null)}}else E=function(){m(N,0)};function P(e){_=e,C||(C=!0,E())}function D(e,n){R=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(v?(y(R),R=-1):v=!0,D(T,o-s))):(e.sortIndex=a,n(c,e),g||h||(g=!0,P(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},346:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(4510),s=n(8769),a=n(8491),u=n(2765),c=function(e){function t(n,r,i,o){var s=e.call(this)||this;return s.data={},t.initializer(s,n,r,i,o),s}return r.__extends(t,e),t.initializer=function(e,t,n,r,i){if(e.type=a.TypeStrings.ClientContext,void 0===r)throw new TypeError("Not enough arguments");e.ua=t,e.logger=t.getLogger("sip.clientcontext"),e.method=n;var o=t.normalizeTarget(r);if(!o)throw new TypeError("Invalid target: "+r);var c=t.userAgentCore.configuration.aor;if(i&&i.params&&i.params.fromUri&&!(c="string"===typeof i.params.fromUri?s.Grammar.URIParse(i.params.fromUri):i.params.fromUri))throw new TypeError("Invalid from URI: "+i.params.fromUri);var l=o;if(i&&i.params&&i.params.toUri&&!(l="string"===typeof i.params.toUri?s.Grammar.URIParse(i.params.toUri):i.params.toUri))throw new TypeError("Invalid to URI: "+i.params.toUri);var d,f,p=((i=(i=Object.create(i||Object.prototype))||{}).extraHeaders||[]).slice(),h=i.params||{};i.body&&(d={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"},e.body=d),d&&(f=u.Utils.fromBodyObj(d)),e.request=t.userAgentCore.makeOutgoingRequestMessage(n,o,c,l,h,p,f),e.request.from&&(e.localIdentity=e.request.from),e.request.to&&(e.remoteIdentity=e.request.to)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.request(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.receiveResponse=function(e){var t=e.statusCode||0,n=u.Utils.getReasonPhrase(t);switch(!0){case/^1[0-9]{2}$/.test(t.toString()):this.emit("progress",e,n);break;case/^2[0-9]{2}$/.test(t.toString()):this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("accepted",e,n);break;default:this.ua.applicants[this.toString()]&&delete this.ua.applicants[this.toString()],this.emit("rejected",e,n),this.emit("failed",e,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,o.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,o.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ClientContext=c},4510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6544);!function(e){e.USER_AGENT=r.title+"/"+r.version,e.SIP="sip",e.SIPS="sips",function(e){e.CONNECTION_ERROR="Connection Error",e.INTERNAL_ERROR="Internal Error",e.REQUEST_TIMEOUT="Request Timeout",e.SIP_FAILURE_CODE="SIP Failure Code",e.ADDRESS_INCOMPLETE="Address Incomplete",e.AUTHENTICATION_ERROR="Authentication Error",e.BUSY="Busy",e.DIALOG_ERROR="Dialog Error",e.INCOMPATIBLE_SDP="Incompatible SDP",e.NOT_FOUND="Not Found",e.REDIRECTED="Redirected",e.REJECTED="Rejected",e.UNAVAILABLE="Unavailable",e.BAD_MEDIA_DESCRIPTION="Bad Media Description",e.CANCELED="Canceled",e.EXPIRES="Expires",e.NO_ACK="No ACK",e.NO_ANSWER="No Answer",e.NO_PRACK="No PRACK",e.RTP_TIMEOUT="RTP Timeout",e.USER_DENIED_MEDIA_ACCESS="User Denied Media Access",e.WEBRTC_ERROR="WebRTC Error",e.WEBRTC_NOT_SUPPORTED="WebRTC Not Supported"}(e.causes||(e.causes={})),function(e){e.REQUIRED="required",e.SUPPORTED="supported",e.UNSUPPORTED="none"}(e.supported||(e.supported={})),e.SIP_ERROR_CAUSES={ADDRESS_INCOMPLETE:[484],AUTHENTICATION_ERROR:[401,407],BUSY:[486,600],INCOMPATIBLE_SDP:[488,606],NOT_FOUND:[404,604],REDIRECTED:[300,301,302,305,380],REJECTED:[403,603],UNAVAILABLE:[480,410,408,430]},e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK",e.REASON_PHRASE={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"},e.OPTION_TAGS={"100rel":!0,199:!0,answermode:!0,"early-session":!0,eventlist:!0,explicitsub:!0,"from-change":!0,"geolocation-http":!0,"geolocation-sip":!0,gin:!0,gruu:!0,histinfo:!0,ice:!0,join:!0,"multiple-refer":!0,norefersub:!0,nosub:!0,outbound:!0,path:!0,policy:!0,precondition:!0,pref:!0,privacy:!0,"recipient-list-invite":!0,"recipient-list-message":!0,"recipient-list-subscribe":!0,replaces:!0,"resource-priority":!0,"sdp-anat":!0,"sec-agree":!0,tdialog:!0,timer:!0,uui:!0},function(e){e.INFO="info",e.RTP="rtp"}(e.dtmfType||(e.dtmfType={}))}(t.C||(t.C={}))},8491:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.STATUS_EARLY=1]="STATUS_EARLY",e[e.STATUS_CONFIRMED=2]="STATUS_CONFIRMED"}(t.DialogStatus||(t.DialogStatus={})),function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_INVITE_SENT=1]="STATUS_INVITE_SENT",e[e.STATUS_1XX_RECEIVED=2]="STATUS_1XX_RECEIVED",e[e.STATUS_INVITE_RECEIVED=3]="STATUS_INVITE_RECEIVED",e[e.STATUS_WAITING_FOR_ANSWER=4]="STATUS_WAITING_FOR_ANSWER",e[e.STATUS_ANSWERED=5]="STATUS_ANSWERED",e[e.STATUS_WAITING_FOR_PRACK=6]="STATUS_WAITING_FOR_PRACK",e[e.STATUS_WAITING_FOR_ACK=7]="STATUS_WAITING_FOR_ACK",e[e.STATUS_CANCELED=8]="STATUS_CANCELED",e[e.STATUS_TERMINATED=9]="STATUS_TERMINATED",e[e.STATUS_ANSWERED_WAITING_FOR_PRACK=10]="STATUS_ANSWERED_WAITING_FOR_PRACK",e[e.STATUS_EARLY_MEDIA=11]="STATUS_EARLY_MEDIA",e[e.STATUS_CONFIRMED=12]="STATUS_CONFIRMED"}(t.SessionStatus||(t.SessionStatus={})),function(e){e[e.ClientContext=0]="ClientContext",e[e.ConfigurationError=1]="ConfigurationError",e[e.Dialog=2]="Dialog",e[e.DigestAuthentication=3]="DigestAuthentication",e[e.DTMF=4]="DTMF",e[e.IncomingMessage=5]="IncomingMessage",e[e.IncomingRequest=6]="IncomingRequest",e[e.IncomingResponse=7]="IncomingResponse",e[e.InvalidStateError=8]="InvalidStateError",e[e.InviteClientContext=9]="InviteClientContext",e[e.InviteServerContext=10]="InviteServerContext",e[e.Logger=11]="Logger",e[e.LoggerFactory=12]="LoggerFactory",e[e.MethodParameterError=13]="MethodParameterError",e[e.NameAddrHeader=14]="NameAddrHeader",e[e.NotSupportedError=15]="NotSupportedError",e[e.OutgoingRequest=16]="OutgoingRequest",e[e.Parameters=17]="Parameters",e[e.PublishContext=18]="PublishContext",e[e.ReferClientContext=19]="ReferClientContext",e[e.ReferServerContext=20]="ReferServerContext",e[e.RegisterContext=21]="RegisterContext",e[e.RenegotiationError=22]="RenegotiationError",e[e.RequestSender=23]="RequestSender",e[e.ServerContext=24]="ServerContext",e[e.Session=25]="Session",e[e.SessionDescriptionHandler=26]="SessionDescriptionHandler",e[e.SessionDescriptionHandlerError=27]="SessionDescriptionHandlerError",e[e.SessionDescriptionHandlerObserver=28]="SessionDescriptionHandlerObserver",e[e.Subscription=29]="Subscription",e[e.Transport=30]="Transport",e[e.UA=31]="UA",e[e.URI=32]="URI"}(t.TypeStrings||(t.TypeStrings={})),function(e){e[e.STATUS_INIT=0]="STATUS_INIT",e[e.STATUS_STARTING=1]="STATUS_STARTING",e[e.STATUS_READY=2]="STATUS_READY",e[e.STATUS_USER_CLOSED=3]="STATUS_USER_CLOSED",e[e.STATUS_NOT_READY=4]="STATUS_NOT_READY"}(t.UAStatus||(t.UAStatus={}))},3847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(8769),o=n(8491);!function(e){var t=function(e){function t(){return e.call(this,"The session description handler has closed.")||this}return r.__extends(t,e),t}(i.Exception);e.ClosedSessionDescriptionHandlerError=t;var n=function(e){function t(){return e.call(this,"The session has terminated.")||this}return r.__extends(t,e),t}(i.Exception);e.TerminatedSessionError=n;var o=function(e){function t(t){return e.call(this,t||"Unsupported session description content type.")||this}return r.__extends(t,e),t}(i.Exception);e.UnsupportedSessionDescriptionContentTypeError=o}(t.Exceptions||(t.Exceptions={}));var s=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.code=t,i.name=n,i.message=r,i}return r.__extends(t,e),t}(i.Exception);!function(e){var t=function(e){function t(t,n){var r=e.call(this,1,"CONFIGURATION_ERROR",n?"Invalid value "+JSON.stringify(n)+" for parameter '"+t+"'":"Missing parameter: "+t)||this;return r.type=o.TypeStrings.ConfigurationError,r.parameter=t,r.value=n,r}return r.__extends(t,e),t}(s);e.ConfigurationError=t;var n=function(e){function t(t){var n=e.call(this,2,"INVALID_STATE_ERROR","Invalid status: "+t)||this;return n.type=o.TypeStrings.InvalidStateError,n.status=t,n}return r.__extends(t,e),t}(s);e.InvalidStateError=n;var i=function(e){function t(t){var n=e.call(this,3,"NOT_SUPPORTED_ERROR",t)||this;return n.type=o.TypeStrings.NotSupportedError,n}return r.__extends(t,e),t}(s);e.NotSupportedError=i;var a=function(e){function t(t){var n=e.call(this,5,"RENEGOTIATION_ERROR",t)||this;return n.type=o.TypeStrings.RenegotiationError,n}return r.__extends(t,e),t}(s);e.RenegotiationError=a;var u=function(e){function t(t,n,r){var i=e.call(this,6,"METHOD_PARAMETER_ERROR",r?"Invalid value "+JSON.stringify(r)+" for parameter '"+n+"'":"Missing parameter: "+n)||this;return i.type=o.TypeStrings.MethodParameterError,i.method=t,i.parameter=n,i.value=r,i}return r.__extends(t,e),t}(s);e.MethodParameterError=u;var c=function(e){function t(t,n,r){var i=e.call(this,8,"SESSION_DESCRIPTION_HANDLER_ERROR",r||"Error with Session Description Handler")||this;return i.type=o.TypeStrings.SessionDescriptionHandlerError,i.method=t,i.error=n,i}return r.__extends(t,e),t}(s);e.SessionDescriptionHandlerError=c}(t.Exceptions||(t.Exceptions={}))},8392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8769);!function(e){function t(e,t){var n=t,r=0,i=0;if(e.substring(n,n+2).match(/(^\r\n)/))return-2;for(;0===r;){if(-1===(i=e.indexOf("\r\n",n)))return i;!e.substring(i+2,i+4).match(/(^\r\n)/)&&e.charAt(i+2).match(/(^\s+)/)?n=i+2:r=i}return r}function n(e,t,n,i){var o,s=t.indexOf(":",n),a=t.substring(n,s).trim(),u=t.substring(s+1,i).trim();switch(a.toLowerCase()){case"via":case"v":e.addHeader("via",u),1===e.getHeaders("via").length?(o=e.parseHeader("Via"))&&(e.via=o,e.viaBranch=o.branch):o=0;break;case"from":case"f":e.setHeader("from",u),(o=e.parseHeader("from"))&&(e.from=o,e.fromTag=o.getParam("tag"));break;case"to":case"t":e.setHeader("to",u),(o=e.parseHeader("to"))&&(e.to=o,e.toTag=o.getParam("tag"));break;case"record-route":if(-1===(o=r.Grammar.parse(u,"Record_Route"))){o=void 0;break}for(var c in o)o[c]&&(e.addHeader("record-route",u.substring(o[c].position,o[c].offset)),e.headers["Record-Route"][e.getHeaders("record-route").length-1].parsed=o[c].parsed);break;case"call-id":case"i":e.setHeader("call-id",u),(o=e.parseHeader("call-id"))&&(e.callId=u);break;case"contact":case"m":if(-1===(o=r.Grammar.parse(u,"Contact"))){o=void 0;break}if(!(o instanceof Array)){o=void 0;break}o.forEach((function(t){e.addHeader("contact",u.substring(t.position,t.offset)),e.headers.Contact[e.getHeaders("contact").length-1].parsed=t.parsed}));break;case"content-length":case"l":e.setHeader("content-length",u),o=e.parseHeader("content-length");break;case"content-type":case"c":e.setHeader("content-type",u),o=e.parseHeader("content-type");break;case"cseq":e.setHeader("cseq",u),(o=e.parseHeader("cseq"))&&(e.cseq=o.value),e instanceof r.IncomingResponseMessage&&(e.method=o.method);break;case"max-forwards":e.setHeader("max-forwards",u),o=e.parseHeader("max-forwards");break;case"www-authenticate":e.setHeader("www-authenticate",u),o=e.parseHeader("www-authenticate");break;case"proxy-authenticate":e.setHeader("proxy-authenticate",u),o=e.parseHeader("proxy-authenticate");break;case"refer-to":case"r":e.setHeader("refer-to",u),(o=e.parseHeader("refer-to"))&&(e.referTo=o);break;default:e.setHeader(a,u),o=0}return void 0!==o||{error:"error parsing header '"+a+"'"}}e.getHeader=t,e.parseHeader=n,e.parseMessage=function(e,i){var o=0,s=e.indexOf("\r\n");if(-1!==s){var a,u=e.substring(0,s),c=r.Grammar.parse(u,"Request_Response");if(-1!==c){var l;for(c.status_code?((a=new r.IncomingResponseMessage).statusCode=c.status_code,a.reasonPhrase=c.reason_phrase):((a=new r.IncomingRequestMessage).method=c.method,a.ruri=c.uri),a.data=e,o=s+2;;){if(-2===(s=t(e,o))){l=o+2;break}if(-1===s)return void i.error("malformed message");if(!0!==n(a,e,o,s))return void i.error(c.error);o=s+2}return a.hasHeader("content-length")?a.body=e.substr(l,Number(a.getHeader("content-length"))):a.body=e.substring(l),a}i.warn('error parsing first line of SIP message: "'+u+'"')}else i.warn("no CRLF found, not a SIP message, discarded")}}(t.Parser||(t.Parser={}))},8134:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(346),o=n(4510),s=n(8769),a=n(8491),u=n(3847),c=n(2765),l=function(e){function t(t,n,r,i){void 0===i&&(i={});var s=this;if(i.extraHeaders=(i.extraHeaders||[]).slice(),i.contentType=i.contentType||"text/plain","number"!==typeof i.expires||i.expires%1!==0?i.expires=3600:i.expires=Number(i.expires),"boolean"!==typeof i.unpublishOnClose&&(i.unpublishOnClose=!0),void 0===n||null===n||""===n)throw new u.Exceptions.MethodParameterError("Publish","Target",n);if(void 0===(n=t.normalizeTarget(n)))throw new u.Exceptions.MethodParameterError("Publish","Target",n);if((s=e.call(this,t,o.C.PUBLISH,n,i)||this).type=a.TypeStrings.PublishContext,s.options=i,s.target=n,void 0===r||null===r||""===r)throw new u.Exceptions.MethodParameterError("Publish","Event",r);return s.event=r,s.logger=t.getLogger("sip.publish"),s.pubRequestExpires=s.options.expires,s}return r.__extends(t,e),t.prototype.publish=function(e){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.options.body=e,this.pubRequestBody=this.options.body,0===this.pubRequestExpires&&(this.pubRequestExpires=this.options.expires,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]||(this.ua.publishers[this.target.toString()+":"+this.event]=this),this.sendPublishRequest()},t.prototype.unpublish=function(){this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,void 0!==this.pubRequestEtag&&this.sendPublishRequest()},t.prototype.close=function(){this.options.unpublishOnClose?this.unpublish():(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestExpires=0,this.pubRequestEtag=void 0),this.ua.publishers[this.target.toString()+":"+this.event]&&delete this.ua.publishers[this.target.toString()+":"+this.event]},t.prototype.onRequestTimeout=function(){e.prototype.onRequestTimeout.call(this),this.emit("unpublished",void 0,o.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){e.prototype.onTransportError.call(this),this.emit("unpublished",void 0,o.C.causes.CONNECTION_ERROR)},t.prototype.receiveResponse=function(e){var t=this,n=e.statusCode||0,r=c.Utils.getReasonPhrase(n);switch(!0){case/^1[0-9]{2}$/.test(n.toString()):this.emit("progress",e,r);break;case/^2[0-9]{2}$/.test(n.toString()):if(e.hasHeader("SIP-ETag")?this.pubRequestEtag=e.getHeader("SIP-ETag"):this.logger.warn("SIP-ETag header missing in a 200-class response to PUBLISH"),e.hasHeader("Expires")){var i=Number(e.getHeader("Expires"));"number"===typeof i&&i>=0&&i<=this.pubRequestExpires?this.pubRequestExpires=i:this.logger.warn("Bad Expires header in a 200-class response to PUBLISH")}else this.logger.warn("Expires header missing in a 200-class response to PUBLISH");0!==this.pubRequestExpires?(this.publishRefreshTimer=setTimeout((function(){return t.refreshRequest()}),900*this.pubRequestExpires),this.emit("published",e,r)):this.emit("unpublished",e,r);break;case/^412$/.test(n.toString()):void 0!==this.pubRequestEtag&&0!==this.pubRequestExpires?(this.logger.warn("412 response to PUBLISH, recovering"),this.pubRequestEtag=void 0,this.emit("progress",e,r),this.publish(this.options.body)):(this.logger.warn("412 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,r),this.emit("unpublished",e,r));break;case/^423$/.test(n.toString()):if(0!==this.pubRequestExpires&&e.hasHeader("Min-Expires")){var o=Number(e.getHeader("Min-Expires"));"number"===typeof o||o>this.pubRequestExpires?(this.logger.warn("423 code in response to PUBLISH, adjusting the Expires value and trying to recover"),this.pubRequestExpires=o,this.emit("progress",e,r),this.publish(this.options.body)):(this.logger.warn("Bad 423 response Min-Expires header received for PUBLISH"),this.pubRequestExpires=0,this.emit("failed",e,r),this.emit("unpublished",e,r))}else this.logger.warn("423 response to PUBLISH, recovery failed"),this.pubRequestExpires=0,this.emit("failed",e,r),this.emit("unpublished",e,r);break;default:this.pubRequestExpires=0,this.emit("failed",e,r),this.emit("unpublished",e,r)}0===this.pubRequestExpires&&(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,this.pubRequestEtag=void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.publish(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.refreshRequest=function(){if(this.publishRefreshTimer&&(clearTimeout(this.publishRefreshTimer),this.publishRefreshTimer=void 0),this.pubRequestBody=void 0,void 0===this.pubRequestEtag)throw new u.Exceptions.MethodParameterError("Publish","Body",void 0);if(0===this.pubRequestExpires)throw new u.Exceptions.MethodParameterError("Publish","Expire",this.pubRequestExpires);this.sendPublishRequest()},t.prototype.sendPublishRequest=function(){var e=Object.create(this.options||Object.prototype);e.extraHeaders=(this.options.extraHeaders||[]).slice(),e.extraHeaders.push("Event: "+this.event),e.extraHeaders.push("Expires: "+this.pubRequestExpires),void 0!==this.pubRequestEtag&&e.extraHeaders.push("SIP-If-Match: "+this.pubRequestEtag);var t=this.target instanceof s.URI?this.target:this.ua.normalizeTarget(this.target);if(!t)throw new Error("ruri undefined.");var n,r,i=this.options.params||{};void 0!==this.pubRequestBody&&(n={body:this.pubRequestBody,contentType:this.options.contentType}),n&&(r=c.Utils.fromBodyObj(n)),this.request=this.ua.userAgentCore.makeOutgoingRequestMessage(o.C.PUBLISH,t,i.fromUri?i.fromUri:this.ua.userAgentCore.configuration.aor,i.toUri?i.toUri:this.target,i,e.extraHeaders,r),this.send()},t}(i.ClientContext);t.PublishContext=l},3291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(346),o=n(4510),s=n(8769),a=n(8491),u=n(3847),c=n(5203),l=function(e){function t(t,n,r,i){void 0===i&&(i={});var s=this;if(void 0===t||void 0===n||void 0===r)throw new TypeError("Not enough arguments");return(s=e.call(this,t,o.C.REFER,n.remoteIdentity.uri.toString(),i)||this).type=a.TypeStrings.ReferClientContext,s.options=i,s.extraHeaders=(s.options.extraHeaders||[]).slice(),s.applicant=n,s.target=s.initReferTo(r),s.ua&&s.extraHeaders.push("Referred-By: <"+s.ua.configuration.uri+">"),s.extraHeaders.push("Contact: "+n.contact),s.extraHeaders.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),s.extraHeaders.push("Refer-To: "+s.target),s.errorListener=s.onTransportError.bind(s),t.transport&&t.transport.on("transportError",s.errorListener),s}return r.__extends(t,e),t.prototype.refer=function(e){var t=this;void 0===e&&(e={});var n=(this.extraHeaders||[]).slice();return e.extraHeaders&&n.concat(e.extraHeaders),this.applicant.sendRequest(o.C.REFER,{extraHeaders:this.extraHeaders,receiveResponse:function(n){var r=n&&n.statusCode?n.statusCode.toString():"";/^1[0-9]{2}$/.test(r)?t.emit("referRequestProgress",t):/^2[0-9]{2}$/.test(r)?t.emit("referRequestAccepted",t):/^[4-6][0-9]{2}$/.test(r)&&t.emit("referRequestRejected",t),e.receiveResponse&&e.receiveResponse(n)}}),this},t.prototype.receiveNotify=function(e){var t=e.message.hasHeader("Content-Type")?e.message.getHeader("Content-Type"):void 0;if(t&&-1!==t.search(/^message\/sipfrag/)){var n=s.Grammar.parse(e.message.body,"sipfrag");if(-1===n)return void e.reject({statusCode:489,reasonPhrase:"Bad Event"});switch(!0){case/^1[0-9]{2}$/.test(n.status_code):this.emit("referProgress",this);break;case/^2[0-9]{2}$/.test(n.status_code):this.emit("referAccepted",this),!this.options.activeAfterTransfer&&this.applicant.terminate&&this.applicant.terminate();break;default:this.emit("referRejected",this)}return e.accept(),void this.emit("notify",e.message)}e.reject({statusCode:489,reasonPhrase:"Bad Event"})},t.prototype.initReferTo=function(e){var t;if("string"===typeof e){var n=s.Grammar.parse(e,"Refer_To");t=n&&n.uri?n.uri:e;var r=this.ua.normalizeTarget(e);if(!r)throw new TypeError("Invalid target: "+e);t=r}else{if(!e.session)throw new Error("Session undefined.");var i=e.remoteIdentity.friendlyName,o=e.session.remoteTarget.toString(),a=e.session.callId,u=e.session.remoteTag,c=e.session.localTag;t='"'+i+'" <'+o+"?Replaces="+encodeURIComponent(a+";to-tag="+u+";from-tag="+c)+">"}return t},t}(i.ClientContext);t.ReferClientContext=l;var d=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.session=r,i.type=a.TypeStrings.ReferServerContext,i.ua=t,i.status=a.SessionStatus.STATUS_INVITE_RECEIVED,i.fromTag=i.request.fromTag,i.id=i.request.callId+i.fromTag,i.contact=i.ua.contact.toString(),i.logger=t.getLogger("sip.referservercontext",i.id),i.cseq=Math.floor(1e4*Math.random()),i.callId=i.request.callId,i.fromUri=i.request.to.uri,i.fromTag=i.request.to.parameters.tag,i.remoteTarget=i.request.headers.Contact[0].parsed.uri,i.toUri=i.request.from.uri,i.toTag=i.request.fromTag,i.routeSet=i.request.getHeaders("record-route"),i.request.hasHeader("refer-to")?(i.referTo=i.request.parseHeader("refer-to"),i.referredSession=i.ua.findSession(i.request),i.request.hasHeader("referred-by")&&(i.referredBy=i.request.getHeader("referred-by")),i.referTo.uri.hasHeader("replaces")&&(i.replaces=i.referTo.uri.getHeader("replaces")),i.errorListener=i.onTransportError.bind(i),t.transport&&t.transport.on("transportError",i.errorListener),i.status=a.SessionStatus.STATUS_WAITING_FOR_ANSWER,i):(i.logger.warn("Invalid REFER packet. A refer-to header is required. Rejecting refer."),i.reject(),i)}return r.__extends(t,e),t.prototype.progress=function(){if(this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new u.Exceptions.InvalidStateError(this.status);this.incomingRequest.trying()},t.prototype.reject=function(t){if(void 0===t&&(t={}),this.status===a.SessionStatus.STATUS_TERMINATED)throw new u.Exceptions.InvalidStateError(this.status);this.logger.log("Rejecting refer"),this.status=a.SessionStatus.STATUS_TERMINATED,e.prototype.reject.call(this,t),this.emit("referRequestRejected",this)},t.prototype.accept=function(e,t){var n=this;if(void 0===e&&(e={}),this.status!==a.SessionStatus.STATUS_WAITING_FOR_ANSWER)throw new u.Exceptions.InvalidStateError(this.status);if(this.status=a.SessionStatus.STATUS_ANSWERED,this.incomingRequest.accept({statusCode:202,reasonPhrase:"Accepted"}),this.emit("referRequestAccepted",this),e.followRefer){this.logger.log("Accepted refer, attempting to automatically follow it");var r=this.referTo.uri;if(!r.scheme||!r.scheme.match("^sips?$"))return this.logger.error("SIP.js can only automatically follow SIP refer target"),void this.reject();var i=e.inviteOptions||{},o=(i.extraHeaders||[]).slice();if(this.replaces&&o.push("Replaces: "+decodeURIComponent(this.replaces)),this.referredBy&&o.push("Referred-By: "+this.referredBy),i.extraHeaders=o,r.clearHeaders(),this.targetSession=this.ua.invite(r.toString(),i,t),this.emit("referInviteSent",this),this.targetSession){this.targetSession.once("progress",(function(e){var t=e.statusCode||100,r=e.reasonPhrase;n.sendNotify(("SIP/2.0 "+t+" "+r).trim()),n.emit("referProgress",n),n.referredSession&&n.referredSession.emit("referProgress",n)})),this.targetSession.once("accepted",(function(){n.logger.log("Successfully followed the refer"),n.sendNotify("SIP/2.0 200 OK"),n.emit("referAccepted",n),n.referredSession&&n.referredSession.emit("referAccepted",n)}));var s=function(e){if(n.status!==a.SessionStatus.STATUS_TERMINATED){if(n.logger.log("Refer was not successful. Resuming session"),e&&429===e.statusCode)return n.logger.log("Alerting referrer that identity is required."),void n.sendNotify("SIP/2.0 429 Provide Referrer Identity");n.sendNotify("SIP/2.0 603 Declined"),n.status=a.SessionStatus.STATUS_TERMINATED,n.emit("referRejected",n),n.referredSession&&n.referredSession.emit("referRejected")}};this.targetSession.once("rejected",s),this.targetSession.once("failed",s)}}else this.logger.log("Accepted refer, but did not automatically follow it"),this.sendNotify("SIP/2.0 200 OK"),this.emit("referAccepted",this),this.referredSession&&this.referredSession.emit("referAccepted",this)},t.prototype.sendNotify=function(e){if(this.status!==a.SessionStatus.STATUS_ANSWERED)throw new u.Exceptions.InvalidStateError(this.status);if(-1===s.Grammar.parse(e,"sipfrag"))throw new Error("sipfrag body is required to send notify for refer");var t={contentDisposition:"render",contentType:"message/sipfrag",content:e};if(this.session)this.session.notify(void 0,{extraHeaders:["Event: refer","Subscription-State: terminated"],body:t});else{var n=this.ua.userAgentCore.makeOutgoingRequestMessage(o.C.NOTIFY,this.remoteTarget,this.fromUri,this.toUri,{cseq:this.cseq+=1,callId:this.callId,fromTag:this.fromTag,toTag:this.toTag,routeSet:this.routeSet},["Event: refer","Subscription-State: terminated","Content-Type: message/sipfrag"],t),r=this.ua.transport;if(!r)throw new Error("Transport undefined.");var i={loggerFactory:this.ua.getLoggerFactory()};new s.NonInviteClientTransaction(n,r,i)}},t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t}(c.ServerContext);t.ReferServerContext=d},5354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(346),o=n(4510),s=n(8769),a=n(8491),u=n(3847),c=n(2765);function l(e){var t={expires:600,extraContactHeaderParams:[],instanceId:void 0,params:{},regId:void 0,registrar:void 0},n={mandatory:{},optional:{expires:function(e){if(c.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},extraContactHeaderParams:function(e){if(e instanceof Array)return e.filter((function(e){return"string"===typeof e}))},instanceId:function(e){if("string"===typeof e)return/^uuid:/i.test(e)&&(e=e.substr(5)),-1===s.Grammar.parse(e,"uuid")?void 0:e},params:function(e){if("object"===typeof e)return e},regId:function(e){if(c.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},registrar:function(e){if("string"===typeof e){/^sip:/i.test(e)||(e=o.C.SIP+":"+e);var t=s.Grammar.URIParse(e);return t?t.user?void 0:t:void 0}}}};for(var r in n.mandatory){if(!e.hasOwnProperty(r))throw new u.Exceptions.ConfigurationError(r);var i=e[r];if(void 0===(a=n.mandatory[r](i)))throw new u.Exceptions.ConfigurationError(r,i);t[r]=a}for(var r in n.optional)if(e.hasOwnProperty(r)){var a;if((i=e[r])instanceof Array&&0===i.length)continue;if(null===i||""===i||void 0===i||"number"===typeof i&&isNaN(i))continue;if(void 0===(a=n.optional[r](i)))throw new u.Exceptions.ConfigurationError(r,i);t[r]=a}return t}var d=function(e){function t(t,n){void 0===n&&(n={});var r=this,i=l(n);if(i.regId&&!i.instanceId?i.instanceId=c.Utils.newUUID():!i.regId&&i.instanceId&&(i.regId=1),i.params.toUri=i.params.toUri||t.configuration.uri,i.params.toDisplayName=i.params.toDisplayName||t.configuration.displayName,i.params.callId=i.params.callId||c.Utils.createRandomToken(22),i.params.cseq=i.params.cseq||Math.floor(1e4*Math.random()),!i.registrar){var s={};"object"===typeof t.configuration.uri?(s=t.configuration.uri.clone()).user=void 0:s=t.configuration.uri,i.registrar=s}for(var u in(r=e.call(this,t,o.C.REGISTER,i.registrar,i)||this).type=a.TypeStrings.RegisterContext,r.options=i,r.logger=t.getLogger("sip.registercontext"),r.logger.log("configuration parameters for RegisterContext after validation:"),i)i.hasOwnProperty(u)&&r.logger.log("\xb7 "+u+": "+JSON.stringify(i[u]));return r.expires=i.expires,r.contact=t.contact.toString(),r.registered=!1,t.transport.on("disconnected",(function(){return r.onTransportDisconnected()})),r}return r.__extends(t,e),t.prototype.register=function(e){var t=this;void 0===e&&(e={}),this.options=r.__assign({},this.options,e);var n=(this.options.extraHeaders||[]).slice();n.push("Contact: "+this.generateContactHeader(this.expires)),n.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.closeHeaders=this.options.closeWithHeaders?(this.options.extraHeaders||[]).slice():[],this.receiveResponse=function(e){if(e.cseq===t.request.cseq){void 0!==t.registrationTimer&&(clearTimeout(t.registrationTimer),t.registrationTimer=void 0);var n=(e.statusCode||0).toString();switch(!0){case/^1[0-9]{2}$/.test(n):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(n):t.emit("accepted",e);var r=void 0;e.hasHeader("expires")&&(r=Number(e.getHeader("expires"))),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0);var i=e.getHeaders("contact").length;if(!i){t.logger.warn("no Contact header in response to REGISTER, response ignored");break}for(var a=void 0;i--;){if((a=e.parseHeader("contact",i)).uri.user===t.ua.contact.uri.user){r=a.getParam("expires");break}a=void 0}if(!a){t.logger.warn("no Contact header pointing to us, response ignored");break}void 0===r&&(r=t.expires),t.registrationTimer=setTimeout((function(){t.registrationTimer=void 0,t.register(t.options)}),1e3*r-3e3),t.registrationExpiredTimer=setTimeout((function(){t.logger.warn("registration expired"),t.registered&&t.unregistered(void 0,o.C.causes.EXPIRES)}),1e3*r),a.hasParam("temp-gruu")&&(t.ua.contact.tempGruu=s.Grammar.URIParse(a.getParam("temp-gruu").replace(/"/g,""))),a.hasParam("pub-gruu")&&(t.ua.contact.pubGruu=s.Grammar.URIParse(a.getParam("pub-gruu").replace(/"/g,""))),t.registered=!0,t.emit("registered",e||void 0);break;case/^423$/.test(n):e.hasHeader("min-expires")?(t.expires=Number(e.getHeader("min-expires")),t.register(t.options)):(t.logger.warn("423 response received for REGISTER without Min-Expires"),t.registrationFailure(e,o.C.causes.SIP_FAILURE_CODE));break;default:t.registrationFailure(e,c.Utils.sipErrorCause(e.statusCode||0))}}},this.onRequestTimeout=function(){t.registrationFailure(void 0,o.C.causes.REQUEST_TIMEOUT)},this.onTransportError=function(){t.registrationFailure(void 0,o.C.causes.CONNECTION_ERROR)},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()},t.prototype.close=function(){var e={all:!1,extraHeaders:this.closeHeaders};this.registeredBefore=this.registered,this.registered&&this.unregister(e)},t.prototype.unregister=function(e){var t=this;void 0===e&&(e={}),this.registered||e.all||this.logger.warn("Already unregistered, but sending an unregister anyways.");var n=(e.extraHeaders||[]).slice();this.registered=!1,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),e.all?(n.push("Contact: *"),n.push("Expires: 0")):n.push("Contact: "+this.generateContactHeader(0)),this.receiveResponse=function(e){var n=e&&e.statusCode?e.statusCode.toString():"";switch(!0){case/^1[0-9]{2}$/.test(n):t.emit("progress",e);break;case/^2[0-9]{2}$/.test(n):t.emit("accepted",e),void 0!==t.registrationExpiredTimer&&(clearTimeout(t.registrationExpiredTimer),t.registrationExpiredTimer=void 0),t.unregistered(e);break;default:t.unregistered(e,c.Utils.sipErrorCause(e.statusCode||0))}},this.onRequestTimeout=function(){},this.request.cseq++,this.request.setHeader("cseq",this.request.cseq+" REGISTER"),this.request.extraHeaders=n,this.send()},t.prototype.unregistered=function(e,t){this.registered=!1,this.emit("unregistered",e||void 0,t||void 0)},t.prototype.send=function(){var e=this;return this.ua.userAgentCore.register(this.request,{onAccept:function(t){return e.receiveResponse(t.message)},onProgress:function(t){return e.receiveResponse(t.message)},onRedirect:function(t){return e.receiveResponse(t.message)},onReject:function(t){return e.receiveResponse(t.message)},onTrying:function(t){return e.receiveResponse(t.message)}}),this},t.prototype.registrationFailure=function(e,t){this.emit("failed",e||void 0,t||void 0)},t.prototype.onTransportDisconnected=function(){this.registeredBefore=this.registered,void 0!==this.registrationTimer&&(clearTimeout(this.registrationTimer),this.registrationTimer=void 0),void 0!==this.registrationExpiredTimer&&(clearTimeout(this.registrationExpiredTimer),this.registrationExpiredTimer=void 0),this.registered&&this.unregistered(void 0,o.C.causes.CONNECTION_ERROR)},t.prototype.generateContactHeader=function(e){void 0===e&&(e=0);var t=this.contact;return this.options.regId&&this.options.instanceId&&(t+=";reg-id="+this.options.regId,t+=';+sip.instance="<urn:uuid:'+this.options.instanceId+'>"'),this.options.extraContactHeaderParams&&this.options.extraContactHeaderParams.forEach((function(e){t+=";"+e})),t+=";expires="+e},t}(i.ClientContext);t.RegisterContext=d},5203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(4510),s=n(8769),a=n(8491),u=n(2765),c=function(e){function t(n,r){var i=e.call(this)||this;return i.incomingRequest=r,i.data={},t.initializer(i,n,r),i}return r.__extends(t,e),t.initializer=function(e,t,n){var r=n.message;if(e.type=a.TypeStrings.ServerContext,e.ua=t,e.logger=t.getLogger("sip.servercontext"),e.request=r,r.body&&(e.body=r.body),r.hasHeader("Content-Type")&&(e.contentType=r.getHeader("Content-Type")),e.method=r.method,e.localIdentity=r.to,e.remoteIdentity=r.from,r.hasHeader("P-Asserted-Identity")){var i=r.getHeader("P-Asserted-Identity");i&&(e.assertedIdentity=s.Grammar.nameAddrHeaderParse(i))}},t.prototype.progress=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||180,e.minCode=100,e.maxCode=199,e.events=["progress"],this.reply(e)},t.prototype.accept=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||200,e.minCode=200,e.maxCode=299,e.events=["accepted"],this.reply(e)},t.prototype.reject=function(e){return void 0===e&&(e={}),e.statusCode=e.statusCode||480,e.minCode=300,e.maxCode=699,e.events=["rejected","failed"],this.reply(e)},t.prototype.reply=function(e){var t=this;void 0===e&&(e={});var n=e.statusCode||100,r=e.minCode||100,i=e.maxCode||699,o=u.Utils.getReasonPhrase(n,e.reasonPhrase),a=e.extraHeaders||[],c=e.body?s.fromBodyLegacy(e.body):void 0,l=e.events||[];if(n<r||n>i)throw new TypeError("Invalid statusCode: "+n);var d,f={statusCode:n,reasonPhrase:o,extraHeaders:a,body:c},p=n.toString();switch(!0){case/^100$/.test(p):d=this.incomingRequest.trying(f).message;break;case/^1[0-9]{2}$/.test(p):d=this.incomingRequest.progress(f).message;break;case/^2[0-9]{2}$/.test(p):d=this.incomingRequest.accept(f).message;break;case/^3[0-9]{2}$/.test(p):d=this.incomingRequest.redirect([],f).message;break;case/^[4-6][0-9]{2}$/.test(p):d=this.incomingRequest.reject(f).message;break;default:throw new Error("Invalid status code "+n)}return l.forEach((function(e){t.emit(e,d,o)})),this},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,o.C.causes.REQUEST_TIMEOUT)},t.prototype.onTransportError=function(){this.emit("failed",void 0,o.C.causes.CONNECTION_ERROR)},t}(i.EventEmitter);t.ServerContext=c},1524:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(346),s=n(4510),a=n(8769),u=n(8491),c=n(3847),l=n(3291),d=n(5203),f=n(9740),p=n(2765),h=function(e){function t(n){var r=e.call(this)||this;if(r.data={},r.type=u.TypeStrings.Session,!n)throw new c.Exceptions.SessionDescriptionHandlerError("A session description handler is required for the session to function");return r.status=t.C.STATUS_NULL,r.pendingReinvite=!1,r.sessionDescriptionHandlerFactory=n,r.hasOffer=!1,r.hasAnswer=!1,r.timers={ackTimer:void 0,expiresTimer:void 0,invite2xxTimer:void 0,userNoAnswerTimer:void 0,rel1xxTimer:void 0,prackTimer:void 0},r.startTime=void 0,r.endTime=void 0,r.tones=void 0,r.localHold=!1,r.earlySdp=void 0,r.rel100=s.C.supported.UNSUPPORTED,r}return r.__extends(t,e),t.prototype.dtmf=function(e,t){var n=this;if(void 0===t&&(t={}),this.status!==u.SessionStatus.STATUS_CONFIRMED&&this.status!==u.SessionStatus.STATUS_WAITING_FOR_ACK)throw new c.Exceptions.InvalidStateError(this.status);if(!e||!e.toString().match(/^[0-9A-D#*,]+$/i))throw new TypeError("Invalid tones: "+e);e=e.toString();var r=this.ua.configuration.dtmfType;this.sessionDescriptionHandler&&r===s.C.dtmfType.RTP&&(this.sessionDescriptionHandler.sendDtmf(e,t)||(this.logger.warn("Attempt to use dtmfType 'RTP' has failed, falling back to INFO packet method"),r=s.C.dtmfType.INFO));if(r===s.C.dtmfType.INFO){for(var i=[],o=e.split("");o.length>0;)i.push(new f.DTMF(this,o.shift(),t));if(this.tones)return this.tones=this.tones.concat(i),this;this.tones=i,function e(){if(n.status!==u.SessionStatus.STATUS_TERMINATED&&n.tones&&0!==n.tones.length){var r,i=n.tones.shift();","===i.tone?r=2e3:(i.on("failed",(function(){n.tones=void 0})),i.send(t),r=i.duration+i.interToneGap),setTimeout(e,r)}else n.tones=void 0}()}return this},t.prototype.bye=function(e){if(void 0===e&&(e={}),this.status===u.SessionStatus.STATUS_TERMINATED)return this.logger.error("Error: Attempted to send BYE in a terminated session."),this;this.logger.log("terminating Session");var t=e.statusCode;if(t&&(t<200||t>=700))throw new TypeError("Invalid statusCode: "+t);return e.receiveResponse=function(){},this.sendRequest(s.C.BYE,e).terminated()},t.prototype.refer=function(e,t){if(void 0===t&&(t={}),this.status!==u.SessionStatus.STATUS_CONFIRMED)throw new c.Exceptions.InvalidStateError(this.status);return this.referContext=new l.ReferClientContext(this.ua,this,e,t),this.emit("referRequested",this.referContext),this.referContext.refer(t),this.referContext},t.prototype.sendRequest=function(e,t){if(void 0===t&&(t={}),!this.session)throw new Error("Session undefined.");var n;t.body&&(t.body=p.Utils.fromBodyObj(t.body));var r,i=t.receiveResponse;i&&(n={onAccept:function(e){return i(e.message)},onProgress:function(e){return i(e.message)},onRedirect:function(e){return i(e.message)},onReject:function(e){return i(e.message)},onTrying:function(e){return i(e.message)}});var o=t;switch(e){case s.C.BYE:r=this.session.bye(n,o);break;case s.C.INVITE:r=this.session.invite(n,o);break;case s.C.REFER:r=this.session.refer(n,o);break;default:throw new Error("Unexpected "+e+". Method not implemented by user agent core.")}return this.emit(e.toLowerCase(),r.message),this},t.prototype.close=function(){if(this.status===u.SessionStatus.STATUS_TERMINATED)return this;for(var e in this.logger.log("closing INVITE session "+this.id),this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.timers)this.timers[e]&&clearTimeout(this.timers[e]);return this.status=u.SessionStatus.STATUS_TERMINATED,this.ua.transport&&this.ua.transport.removeListener("transportError",this.errorListener),delete this.ua.sessions[this.id],this},t.prototype.hold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==u.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==u.SessionStatus.STATUS_CONFIRMED)throw new c.Exceptions.InvalidStateError(this.status);this.localHold?this.logger.log("Session is already on hold, cannot put it on hold again"):(e.modifiers=t,this.sessionDescriptionHandler&&e.modifiers.push(this.sessionDescriptionHandler.holdModifier),this.localHold=!0,this.sendReinvite(e))},t.prototype.unhold=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=[]),this.status!==u.SessionStatus.STATUS_WAITING_FOR_ACK&&this.status!==u.SessionStatus.STATUS_CONFIRMED)throw new c.Exceptions.InvalidStateError(this.status);this.localHold?(e.modifiers=t,this.localHold=!1,this.sendReinvite(e)):this.logger.log("Session is not on hold, cannot unhold it")},t.prototype.reinvite=function(e,t){return void 0===e&&(e={}),void 0===t&&(t=[]),e.modifiers=t,this.sendReinvite(e)},t.prototype.terminate=function(e){return this},t.prototype.onTransportError=function(){this.status!==u.SessionStatus.STATUS_CONFIRMED&&this.status!==u.SessionStatus.STATUS_TERMINATED&&this.failed(void 0,s.C.causes.CONNECTION_ERROR)},t.prototype.onRequestTimeout=function(){this.status===u.SessionStatus.STATUS_CONFIRMED?this.terminated(void 0,s.C.causes.REQUEST_TIMEOUT):this.status!==u.SessionStatus.STATUS_TERMINATED&&(this.failed(void 0,s.C.causes.REQUEST_TIMEOUT),this.terminated(void 0,s.C.causes.REQUEST_TIMEOUT))},t.prototype.onDialogError=function(e){this.status===u.SessionStatus.STATUS_CONFIRMED?this.terminated(e,s.C.causes.DIALOG_ERROR):this.status!==u.SessionStatus.STATUS_TERMINATED&&(this.failed(e,s.C.causes.DIALOG_ERROR),this.terminated(e,s.C.causes.DIALOG_ERROR))},t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t.prototype.onAck=function(e){var t=this,n=function(){clearTimeout(t.timers.ackTimer),clearTimeout(t.timers.invite2xxTimer),t.status=u.SessionStatus.STATUS_CONFIRMED;var n=e.message.getHeader("Content-Disposition");n&&"render"===n.type&&(t.renderbody=e.message.body,t.rendertype=e.message.getHeader("Content-Type")),t.emit("confirmed",e.message)};this.status===u.SessionStatus.STATUS_WAITING_FOR_ACK&&(this.sessionDescriptionHandler&&this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).catch((function(n){throw t.logger.warn(n),t.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),t.failed(e.message,s.C.causes.BAD_MEDIA_DESCRIPTION),t.terminated(e.message,s.C.causes.BAD_MEDIA_DESCRIPTION),n})).then((function(){return n()}))):n())},t.prototype.receiveRequest=function(e){switch(e.message.method){case s.C.BYE:e.accept(),this.status===u.SessionStatus.STATUS_CONFIRMED&&(this.emit("bye",e.message),this.terminated(e.message,s.C.BYE));break;case s.C.INVITE:this.status===u.SessionStatus.STATUS_CONFIRMED&&(this.logger.log("re-INVITE received"),this.receiveReinvite(e));break;case s.C.INFO:if(this.status===u.SessionStatus.STATUS_CONFIRMED||this.status===u.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.onInfo)return this.onInfo(e.message);var t=e.message.getHeader("content-type");if(t)if(t.match(/^application\/dtmf-relay/i)){if(e.message.body){var n=e.message.body.split("\r\n",2);if(2===n.length){var r=void 0,i=void 0,o=/^(Signal\s*?=\s*?)([0-9A-D#*]{1})(\s)?.*/;o.test(n[0])&&(r=n[0].replace(o,"$2"));var a=/^(Duration\s?=\s?)([0-9]{1,4})(\s)?.*/;a.test(n[1])&&(i=parseInt(n[1].replace(a,"$2"),10)),r&&i&&new f.DTMF(this,r,{duration:i}).init_incoming(e)}}}else e.reject({statusCode:415,extraHeaders:["Accept: application/dtmf-relay"]})}break;case s.C.REFER:if(this.status===u.SessionStatus.STATUS_CONFIRMED)if(this.logger.log("REFER received"),this.referContext=new l.ReferServerContext(this.ua,e,this.session),this.listeners("referRequested").length)this.emit("referRequested",this.referContext);else{this.logger.log("No referRequested listeners, automatically accepting and following the refer");var c={followRefer:!0};this.passedOptions&&(c.inviteOptions=this.passedOptions),this.referContext.accept(c,this.modifiers)}break;case s.C.NOTIFY:if(this.referContext&&this.referContext.type===u.TypeStrings.ReferClientContext&&e.message.hasHeader("event")&&/^refer(;.*)?$/.test(e.message.getHeader("event")))return void this.referContext.receiveNotify(e);e.accept(),this.emit("notify",e.message)}},t.prototype.receiveReinvite=function(e){var t,n=this;if(this.emit("reinvite",this,e.message),e.message.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(e.message.getHeader("P-Asserted-Identity"))),this.sessionDescriptionHandler){if("0"!==e.message.getHeader("Content-Length")||e.message.getHeader("Content-Type")){if(!this.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return e.reject({statusCode:415}),void this.emit("reinviteFailed",this);t=this.sessionDescriptionHandler.setDescription(e.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then(this.sessionDescriptionHandler.getDescription.bind(this.sessionDescriptionHandler,this.sessionDescriptionHandlerOptions,this.modifiers))}else t=this.sessionDescriptionHandler.getDescription(this.sessionDescriptionHandlerOptions,this.modifiers);t.catch((function(t){var r;throw t.type===u.TypeStrings.SessionDescriptionHandlerError?r=500:t.type===u.TypeStrings.RenegotiationError?(n.emit("renegotiationError",t),n.logger.warn(t.toString()),r=488):(n.logger.error(t),r=488),e.reject({statusCode:r}),n.emit("reinviteFailed",n),t})).then((function(t){var r=["Contact: "+n.contact];e.accept({statusCode:200,extraHeaders:r,body:p.Utils.fromBodyObj(t)}),n.status=u.SessionStatus.STATUS_WAITING_FOR_ACK,n.emit("reinviteAccepted",n)}))}else this.logger.warn("No SessionDescriptionHandler to reinvite")},t.prototype.sendReinvite=function(e){var t=this;if(void 0===e&&(e={}),this.pendingReinvite)this.logger.warn("Reinvite in progress. Please wait until complete, then try again.");else if(this.sessionDescriptionHandler){this.pendingReinvite=!0,e.modifiers=e.modifiers||[];var n=(e.extraHeaders||[]).slice();n.push("Contact: "+this.contact),n.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),this.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){if(!t.session)throw new Error("Session undefined.");var r={onAccept:function(e){if(t.status!==u.SessionStatus.STATUS_TERMINATED)if(t.pendingReinvite){if(t.status=u.SessionStatus.STATUS_CONFIRMED,t.emit("ack",e.ack()),t.pendingReinvite=!1,clearTimeout(t.timers.invite2xxTimer),!t.sessionDescriptionHandler||!t.sessionDescriptionHandler.hasDescription(e.message.getHeader("Content-Type")||""))return t.logger.error("2XX response received to re-invite but did not have a description"),t.emit("reinviteFailed",t),void t.emit("renegotiationError",new c.Exceptions.RenegotiationError("2XX response received to re-invite but did not have a description"));t.sessionDescriptionHandler.setDescription(e.message.body,t.sessionDescriptionHandlerOptions,t.modifiers).catch((function(e){throw t.logger.error("Could not set the description in 2XX response"),t.logger.error(e),t.emit("reinviteFailed",t),t.emit("renegotiationError",e),t.sendRequest(s.C.BYE,{extraHeaders:["Reason: "+p.Utils.getReasonHeaderValue(488,"Not Acceptable Here")]}),t.terminated(void 0,s.C.causes.INCOMPATIBLE_SDP),e})).then((function(){t.emit("reinviteAccepted",t)}))}else t.logger.error("Received reinvite response, but have no pending reinvite");else t.logger.error("Received reinvite response, but in STATUS_TERMINATED")},onProgress:function(e){},onRedirect:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new c.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onReject:function(e){t.pendingReinvite=!1,t.logger.log("Received a non 1XX or 2XX response to a re-invite"),t.emit("reinviteFailed",t),t.emit("renegotiationError",new c.Exceptions.RenegotiationError("Invalid response to a re-invite"))},onTrying:function(e){}},i={extraHeaders:n,body:p.Utils.fromBodyObj(e)};t.session.invite(r,i)})).catch((function(e){if(e.type===u.TypeStrings.RenegotiationError)throw t.pendingReinvite=!1,t.emit("renegotiationError",e),t.logger.warn("Renegotiation Error"),t.logger.warn(e.toString()),e;throw t.logger.error("sessionDescriptionHandler error"),t.logger.error(e),e}))}else this.logger.warn("No SessionDescriptionHandler, can't reinvite..")},t.prototype.failed=function(e,t){return this.status===u.SessionStatus.STATUS_TERMINATED||this.emit("failed",e,t),this},t.prototype.rejected=function(e,t){return this.emit("rejected",e,t),this},t.prototype.canceled=function(){return this.sessionDescriptionHandler&&this.sessionDescriptionHandler.close(),this.emit("cancel"),this},t.prototype.accepted=function(e,t){return e instanceof String||(t=p.Utils.getReasonPhrase(e&&e.statusCode||0,t)),this.startTime=new Date,this.replacee&&(this.replacee.emit("replaced",this),this.replacee.terminate()),this.emit("accepted",e,t),this},t.prototype.terminated=function(e,t){return this.status===u.SessionStatus.STATUS_TERMINATED||(this.endTime=new Date,this.close(),this.emit("terminated",e,t)),this},t.prototype.connecting=function(e){return this.emit("connecting",{request:e}),this},t.C=u.SessionStatus,t}(i.EventEmitter);t.Session=h;var g=function(e){function t(t,n){var r=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ISC Constructor Failed");(r=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this)._canceled=!1,r.rseq=Math.floor(1e4*Math.random()),r.incomingRequest=n;var i=n.message;d.ServerContext.initializer(r,t,n),r.type=u.TypeStrings.InviteServerContext;var o=i.parseHeader("Content-Disposition");o&&"render"===o.type&&(r.renderbody=i.body,r.rendertype=i.getHeader("Content-Type")),r.status=u.SessionStatus.STATUS_INVITE_RECEIVED,r.fromTag=i.fromTag,r.id=i.callId+r.fromTag,r.request=i,r.contact=r.ua.contact.toString(),r.logger=t.getLogger("sip.inviteservercontext",r.id),r.ua.sessions[r.id]=r;var a=function(e,t){i.hasHeader(e)&&i.getHeader(e).toLowerCase().indexOf("100rel")>=0&&(r.rel100=t)};if(a("require",s.C.supported.REQUIRED),a("supported",s.C.supported.SUPPORTED),r.request.toTag=n.toTag,r.status=u.SessionStatus.STATUS_WAITING_FOR_ANSWER,r.timers.userNoAnswerTimer=setTimeout((function(){n.reject({statusCode:408}),r.failed(i,s.C.causes.NO_ANSWER),r.terminated(i,s.C.causes.NO_ANSWER)}),r.ua.configuration.noAnswerTimeout||60),i.hasHeader("expires")){var c=1e3*Number(i.getHeader("expires")||0);r.timers.expiresTimer=setTimeout((function(){r.status===u.SessionStatus.STATUS_WAITING_FOR_ANSWER&&(n.reject({statusCode:487}),r.failed(i,s.C.causes.EXPIRES),r.terminated(i,s.C.causes.EXPIRES))}),c)}return r.errorListener=r.onTransportError.bind(r),t.transport&&t.transport.on("transportError",r.errorListener),r}return r.__extends(t,e),Object.defineProperty(t.prototype,"autoSendAnInitialProvisionalResponse",{get:function(){return this.rel100!==s.C.supported.REQUIRED},enumerable:!0,configurable:!0}),t.prototype.reply=function(e){return void 0===e&&(e={}),this},t.prototype.reject=function(e){var t=this;if(void 0===e&&(e={}),this.status===u.SessionStatus.STATUS_TERMINATED)throw new c.Exceptions.InvalidStateError(this.status);this.logger.log("rejecting RTCSession");var n=e.statusCode||480,r=p.Utils.getReasonPhrase(n,e.reasonPhrase),i=e.extraHeaders||[];if(n<300||n>699)throw new TypeError("Invalid statusCode: "+n);var o=e.body?a.fromBodyLegacy(e.body):void 0,s=n<400?this.incomingRequest.redirect([],{statusCode:n,reasonPhrase:r,extraHeaders:i,body:o}):this.incomingRequest.reject({statusCode:n,reasonPhrase:r,extraHeaders:i,body:o});return["rejected","failed"].forEach((function(e){t.emit(e,s.message,r)})),this.terminated()},t.prototype.accept=function(e){var t=this;return void 0===e&&(e={}),this._accept(e).then((function(e){var n=e.message,r=e.session;r.delegate={onAck:function(e){return t.onAck(e)},onAckTimeout:function(){return t.onAckTimeout()},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},t.session=r,t.status=u.SessionStatus.STATUS_WAITING_FOR_ACK,t.accepted(n,p.Utils.getReasonPhrase(200))})).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this},t.prototype.progress=function(e){var t=this;void 0===e&&(e={});var n=e.statusCode||180;if(n<100||n>199)throw new TypeError("Invalid statusCode: "+n);if(this.status===u.SessionStatus.STATUS_TERMINATED)return this.logger.warn("Unexpected call for progress while terminated, ignoring"),this;if(this.status===u.SessionStatus.STATUS_ANSWERED)return this.logger.warn("Unexpected call for progress while answered, ignoring"),this;if(this.status===u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while answered (waiting for prack), ignoring"),this;if(this.status===u.SessionStatus.STATUS_WAITING_FOR_PRACK)return this.logger.warn("Unexpected call for progress while waiting for prack, ignoring"),this;if(100===e.statusCode){try{this.incomingRequest.trying()}catch(r){if(this.onContextError(r),!this._canceled)throw r}return this}return this.rel100===s.C.supported.REQUIRED||this.rel100===s.C.supported.SUPPORTED&&e.rel100||this.rel100===s.C.supported.SUPPORTED&&this.ua.configuration.rel100===s.C.supported.REQUIRED?(this._reliableProgressWaitForPrack(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this):(this._progress(e).catch((function(e){if(t.onContextError(e),!t._canceled)throw e})),this)},t.prototype.terminate=function(e){var t=this;if(void 0===e&&(e={}),!this.session)return this.reject(e),this;switch(this.session.sessionState){case a.SessionState.Initial:case a.SessionState.Early:return this.reject(e),this;case a.SessionState.AckWait:return this.session.delegate={onAck:function(){t.sendRequest(s.C.BYE,e)},onAckTimeout:function(){t.sendRequest(s.C.BYE,e)}},this.emit("bye",this.request),this.terminated(),this;case a.SessionState.Confirmed:return this.bye(e),this;case a.SessionState.Terminated:default:return this}},t.prototype.onCancel=function(e){this.status!==u.SessionStatus.STATUS_WAITING_FOR_ANSWER&&this.status!==u.SessionStatus.STATUS_WAITING_FOR_PRACK&&this.status!==u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&this.status!==u.SessionStatus.STATUS_EARLY_MEDIA&&this.status!==u.SessionStatus.STATUS_ANSWERED||(this.status=u.SessionStatus.STATUS_CANCELED,this.incomingRequest.reject({statusCode:487}),this.canceled(),this.rejected(e,s.C.causes.CANCELED),this.failed(e,s.C.causes.CANCELED),this.terminated(e,s.C.causes.CANCELED))},t.prototype.receiveRequest=function(t){var n=this;if(t.message.method===s.C.PRACK)this.status===u.SessionStatus.STATUS_WAITING_FOR_PRACK||this.status===u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK?this.hasAnswer?(clearTimeout(this.timers.rel1xxTimer),clearTimeout(this.timers.prackTimer),t.accept(),this.status===u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(this.status=u.SessionStatus.STATUS_EARLY_MEDIA,this.accept()),this.status=u.SessionStatus.STATUS_EARLY_MEDIA):(this.sessionDescriptionHandler=this.setupSessionDescriptionHandler(),this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),this.sessionDescriptionHandler.hasDescription(t.message.getHeader("Content-Type")||"")?(this.hasAnswer=!0,this.sessionDescriptionHandler.setDescription(t.message.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){clearTimeout(n.timers.rel1xxTimer),clearTimeout(n.timers.prackTimer),t.accept(),n.status===u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK&&(n.status=u.SessionStatus.STATUS_EARLY_MEDIA,n.accept()),n.status=u.SessionStatus.STATUS_EARLY_MEDIA}),(function(e){n.logger.warn(e),n.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),n.failed(t.message,s.C.causes.BAD_MEDIA_DESCRIPTION),n.terminated(t.message,s.C.causes.BAD_MEDIA_DESCRIPTION)}))):(this.terminate({statusCode:"488",reasonPhrase:"Bad Media Description"}),this.failed(t.message,s.C.causes.BAD_MEDIA_DESCRIPTION),this.terminated(t.message,s.C.causes.BAD_MEDIA_DESCRIPTION))):this.status===u.SessionStatus.STATUS_EARLY_MEDIA&&t.accept();else e.prototype.receiveRequest.call(this,t)},t.prototype.setupSessionDescriptionHandler=function(){return this.sessionDescriptionHandler?this.sessionDescriptionHandler:this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions)},t.prototype.generateResponseOfferAnswer=function(e){if(!this.session){var t=a.getBody(this.incomingRequest.message);return t&&"session"===t.contentDisposition?this.setOfferAndGetAnswer(t,e):this.getOffer(e)}switch(this.session.signalingState){case a.SignalingState.Initial:return this.getOffer(e);case a.SignalingState.Stable:case a.SignalingState.HaveLocalOffer:return Promise.resolve(void 0);case a.SignalingState.HaveRemoteOffer:if(!this.session.offer)throw new Error("Session offer undefined");return this.setOfferAndGetAnswer(this.session.offer,e);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.handlePrackOfferAnswer=function(e,t){if(!this.session)throw new Error("Session undefined.");var n=a.getBody(e.message);if(!n||"session"!==n.contentDisposition)return Promise.resolve(void 0);switch(this.session.signalingState){case a.SignalingState.Initial:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.Stable:return this.setAnswer(n,t).then((function(){}));case a.SignalingState.HaveLocalOffer:throw new Error("Invalid signaling state "+this.session.signalingState+".");case a.SignalingState.HaveRemoteOffer:return this.setOfferAndGetAnswer(n,t);case a.SignalingState.Closed:default:throw new Error("Invalid signaling state "+this.session.signalingState+".")}},t.prototype.canceled=function(){return this._canceled=!0,e.prototype.canceled.call(this)},t.prototype.terminated=function(t,n){return this.prackNeverArrived(),e.prototype.terminated.call(this,t,n)},t.prototype._accept=function(e){var t=this;return void 0===e&&(e={}),this.onInfo=e.onInfo,this.status===u.SessionStatus.STATUS_WAITING_FOR_PRACK?(this.status=u.SessionStatus.STATUS_ANSWERED_WAITING_FOR_PRACK,this.waitForArrivalOfPrack().then((function(){t.status=u.SessionStatus.STATUS_ANSWERED,clearTimeout(t.timers.userNoAnswerTimer)})).then((function(){return t.generateResponseOfferAnswer(e)})).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})}))):this.status!==u.SessionStatus.STATUS_WAITING_FOR_ANSWER?Promise.reject(new c.Exceptions.InvalidStateError(this.status)):(this.status=u.SessionStatus.STATUS_ANSWERED,this.status=u.SessionStatus.STATUS_ANSWERED,clearTimeout(this.timers.userNoAnswerTimer),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.accept({statusCode:200,body:e})})))},t.prototype._progress=function(e){void 0===e&&(e={});var t=e.statusCode||180,n=e.reasonPhrase,r=(e.extraHeaders||[]).slice(),i=e.body?a.fromBodyLegacy(e.body):void 0;if(183===t&&!i)return this._progressWithSDP(e);try{var o=this.incomingRequest.progress({statusCode:t,reasonPhrase:n,extraHeaders:r,body:i});return this.emit("progress",o.message,n),this.session=o.session,Promise.resolve(o)}catch(s){return Promise.reject(s)}},t.prototype._progressWithSDP=function(e){var t=this;void 0===e&&(e={});var n=e.statusCode||183,r=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,r),t.session=e.session,e}))},t.prototype._reliableProgress=function(e){var t=this;void 0===e&&(e={});var n=e.statusCode||183,r=e.reasonPhrase,i=(e.extraHeaders||[]).slice();return i.push("Require: 100rel"),i.push("RSeq: "+Math.floor(1e4*Math.random())),this.generateResponseOfferAnswer(e).then((function(e){return t.incomingRequest.progress({statusCode:n,reasonPhrase:r,extraHeaders:i,body:e})})).then((function(e){return t.emit("progress",e.message,r),t.session=e.session,e}))},t.prototype._reliableProgressWaitForPrack=function(e){var t=this;void 0===e&&(e={});var n,r=e.statusCode||183,i=e.reasonPhrase,o=(e.extraHeaders||[]).slice();return o.push("Require: 100rel"),o.push("RSeq: "+this.rseq++),this.status=u.SessionStatus.STATUS_WAITING_FOR_PRACK,new Promise((function(l,d){var f=!0;return t.generateResponseOfferAnswer(e).then((function(e){return n=e,t.incomingRequest.progress({statusCode:r,reasonPhrase:i,extraHeaders:o,body:n})})).then((function(p){var h,g;t.emit("progress",p.message,i),t.session=p.session,p.session.delegate={onPrack:function(n){h=n,clearTimeout(v),clearTimeout(y),f&&(f=!1,t.handlePrackOfferAnswer(h,e).then((function(e){try{g=h.accept({statusCode:200,body:e}),t.status===u.SessionStatus.STATUS_WAITING_FOR_PRACK&&(t.status=u.SessionStatus.STATUS_WAITING_FOR_ANSWER),t.prackArrived(),l({prackRequest:h,prackResponse:g,progressResponse:p})}catch(n){d(n)}})))}};var v=setTimeout((function(){if(f){f=!1,t.logger.warn("No PRACK received, rejecting INVITE."),clearTimeout(y);try{t.incomingRequest.reject({statusCode:504}),t.terminated(void 0,s.C.causes.NO_PRACK),d(new c.Exceptions.TerminatedSessionError)}catch(e){d(e)}}}),64*a.Timers.T1),m=a.Timers.T1,y=setTimeout((function e(){try{t.incomingRequest.progress({statusCode:r,reasonPhrase:i,extraHeaders:o,body:n})}catch(s){return f=!1,void d(s)}y=setTimeout(e,m*=2)}),m)}))}))},t.prototype.onAckTimeout=function(){if(this.status===u.SessionStatus.STATUS_WAITING_FOR_ACK){if(this.logger.log("no ACK received for an extended period of time, terminating the call"),!this.session)throw new Error("Session undefined.");this.session.bye(),this.terminated(void 0,s.C.causes.NO_ACK)}},t.prototype.onContextError=function(e){var t=480;e instanceof a.Exception?e instanceof c.Exceptions.SessionDescriptionHandlerError?(this.logger.error(e.message),e.error&&this.logger.error(e.error)):e instanceof c.Exceptions.TerminatedSessionError?this.logger.warn("Incoming session terminated while waiting for PRACK."):e instanceof c.Exceptions.UnsupportedSessionDescriptionContentTypeError?t=415:e instanceof a.Exception&&this.logger.error(e.message):e instanceof Error?this.logger.error(e.message):(this.logger.error("An error occurred in the session description handler."),this.logger.error(e));try{this.incomingRequest.reject({statusCode:t}),this.failed(this.incomingRequest.message,e.message),this.terminated(this.incomingRequest.message,e.message)}catch(e){return}},t.prototype.prackArrived=function(){this.waitingForPrackResolve&&this.waitingForPrackResolve(),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.prackNeverArrived=function(){this.waitingForPrackReject&&this.waitingForPrackReject(new c.Exceptions.TerminatedSessionError),this.waitingForPrackPromise=void 0,this.waitingForPrackResolve=void 0,this.waitingForPrackReject=void 0},t.prototype.waitForArrivalOfPrack=function(){var e=this;if(this.waitingForPrackPromise)throw new Error("Already waiting for PRACK");return this.waitingForPrackPromise=new Promise((function(t,n){e.waitingForPrackResolve=t,e.waitingForPrackReject=n})),this.waitingForPrackPromise},t.prototype.getOffer=function(e){return this.hasOffer=!0,this.getSessionDescriptionHandler().getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(e){return p.Utils.fromBodyObj(e)}))},t.prototype.setAnswer=function(e,t){this.hasAnswer=!0;var n=this.getSessionDescriptionHandler();return n.hasDescription(e.contentType)?n.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers):Promise.reject(new c.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.setOfferAndGetAnswer=function(e,t){this.hasOffer=!0,this.hasAnswer=!0;var n=this.getSessionDescriptionHandler();return n.hasDescription(e.contentType)?n.setDescription(e.content,t.sessionDescriptionHandlerOptions,t.modifiers).then((function(){return n.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(e){return p.Utils.fromBodyObj(e)})):Promise.reject(new c.Exceptions.UnsupportedSessionDescriptionContentTypeError)},t.prototype.getSessionDescriptionHandler=function(){var e=this.sessionDescriptionHandler=this.setupSessionDescriptionHandler();return this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),e},t}(h);t.InviteServerContext=g;var v=function(e){function t(t,n,r,i){void 0===r&&(r={}),void 0===i&&(i=[]);var a=this;if(!t.configuration.sessionDescriptionHandlerFactory)throw t.logger.warn("Can't build ISC without SDH Factory"),new Error("ICC Constructor Failed");r.params=r.params||{};var l=r.anonymous||!1,d=p.Utils.newTag();r.params.fromTag=d;var f=t.contact.toString({anonymous:l,outbound:l?!t.contact.tempGruu:!t.contact.pubGruu}),h=(r.extraHeaders||[]).slice();if(l&&t.configuration.uri&&(r.params.fromDisplayName="Anonymous",r.params.fromUri="sip:anonymous@anonymous.invalid",h.push("P-Preferred-Identity: "+t.configuration.uri.toString()),h.push("Privacy: id")),h.push("Contact: "+f),h.push("Allow: "+["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"].toString()),t.configuration.rel100===s.C.supported.REQUIRED&&h.push("Require: 100rel"),t.configuration.replaces===s.C.supported.REQUIRED&&h.push("Require: replaces"),r.extraHeaders=h,a=e.call(this,t.configuration.sessionDescriptionHandlerFactory)||this,o.ClientContext.initializer(a,t,s.C.INVITE,n,r),a.earlyMediaSessionDescriptionHandlers=new Map,a.type=u.TypeStrings.InviteClientContext,a.passedOptions=r,a.sessionDescriptionHandlerOptions=r.sessionDescriptionHandlerOptions||{},a.modifiers=i,a.inviteWithoutSdp=r.inviteWithoutSdp||!1,a.anonymous=r.anonymous||!1,a.renderbody=r.renderbody||void 0,a.rendertype=r.rendertype||"text/plain",a.fromTag=d,a.contact=f,a.status!==u.SessionStatus.STATUS_NULL)throw new c.Exceptions.InvalidStateError(a.status);return a.isCanceled=!1,a.received100=!1,a.method=s.C.INVITE,a.logger=t.getLogger("sip.inviteclientcontext"),t.applicants[a.toString()]=a,a.id=a.request.callId+a.fromTag,a.onInfo=r.onInfo,a.errorListener=a.onTransportError.bind(a),t.transport&&t.transport.on("transportError",a.errorListener),a}return r.__extends(t,e),t.prototype.receiveResponse=function(e){throw new Error("Unimplemented.")},t.prototype.send=function(){return this.sendInvite(),this},t.prototype.invite=function(){var e=this;return this.ua.sessions[this.id]=this,Promise.resolve().then((function(){e.isCanceled||e.status===u.SessionStatus.STATUS_TERMINATED||(e.inviteWithoutSdp?(e.renderbody&&e.rendertype&&(e.request.body={body:e.renderbody,contentType:e.rendertype}),e.status=u.SessionStatus.STATUS_INVITE_SENT,e.send()):(e.sessionDescriptionHandler=e.sessionDescriptionHandlerFactory(e,e.ua.configuration.sessionDescriptionHandlerFactoryOptions||{}),e.emit("SessionDescriptionHandler-created",e.sessionDescriptionHandler),e.sessionDescriptionHandler.getDescription(e.sessionDescriptionHandlerOptions,e.modifiers).then((function(t){e.isCanceled||e.status===u.SessionStatus.STATUS_TERMINATED||(e.hasOffer=!0,e.request.body=t,e.status=u.SessionStatus.STATUS_INVITE_SENT,e.send())}),(function(t){t.type===u.TypeStrings.SessionDescriptionHandlerError&&(e.logger.log(t.message),t.error&&e.logger.log(t.error)),e.status!==u.SessionStatus.STATUS_TERMINATED&&(e.failed(void 0,s.C.causes.WEBRTC_ERROR),e.terminated(void 0,s.C.causes.WEBRTC_ERROR))}))))})),this},t.prototype.cancel=function(e){if(void 0===e&&(e={}),this.status===u.SessionStatus.STATUS_TERMINATED||this.status===u.SessionStatus.STATUS_CONFIRMED)throw new c.Exceptions.InvalidStateError(this.status);if(this.isCanceled)throw new c.Exceptions.InvalidStateError(u.SessionStatus.STATUS_CANCELED);this.isCanceled=!0,this.logger.log("Canceling session");var t=p.Utils.getCancelReason(e.statusCode,e.reasonPhrase);return e.extraHeaders=(e.extraHeaders||[]).slice(),this.outgoingInviteRequest&&(this.logger.warn("Canceling session before it was created"),this.outgoingInviteRequest.cancel(t,e)),this.canceled()},t.prototype.terminate=function(e){return this.status===u.SessionStatus.STATUS_TERMINATED||(this.status===u.SessionStatus.STATUS_WAITING_FOR_ACK||this.status===u.SessionStatus.STATUS_CONFIRMED?this.bye(e):this.cancel(e)),this},t.prototype.sendInvite=function(){var e=this;this.outgoingInviteRequest=this.ua.userAgentCore.invite(this.request,{onAccept:function(t){return e.onAccept(t)},onProgress:function(t){return e.onProgress(t)},onRedirect:function(t){return e.onRedirect(t)},onReject:function(t){return e.onReject(t)},onTrying:function(t){return e.onTrying(t)}})},t.prototype.ackAndBye=function(e,t,n,r){if(!this.ua.userAgentCore)throw new Error("Method requires user agent core.");var i=[];n&&i.push("Reason: "+p.Utils.getReasonHeaderValue(n,r));var o=e.ack();this.emit("ack",o.message);var s=t.bye(void 0,{extraHeaders:i});this.emit("bye",s.message)},t.prototype.disposeEarlyMedia=function(){if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");this.earlyMediaSessionDescriptionHandlers.forEach((function(e){e.close()}))},t.prototype.onAccept=function(e){var t=this;if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var n=e.message,r=e.session;if(this.session)this.ackAndBye(e,r);else{if(this.isCanceled)return this.ackAndBye(e,r),void this.emit("bye",this.request);switch(n.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity"))),this.session=r,this.session.delegate={onAck:function(e){return t.onAck(e)},onBye:function(e){return t.receiveRequest(e)},onInfo:function(e){return t.receiveRequest(e)},onInvite:function(e){return t.receiveRequest(e)},onNotify:function(e){return t.receiveRequest(e)},onPrack:function(e){return t.receiveRequest(e)},onRefer:function(e){return t.receiveRequest(e)}},r.signalingState){case a.SignalingState.Initial:case a.SignalingState.HaveLocalOffer:this.ackAndBye(e,r,400,"Missing session description"),this.failed(n,s.C.causes.BAD_MEDIA_DESCRIPTION);break;case a.SignalingState.HaveRemoteOffer:var i=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});if(this.sessionDescriptionHandler=i,this.emit("SessionDescriptionHandler-created",this.sessionDescriptionHandler),!i.hasDescription(n.getHeader("Content-Type")||"")){this.ackAndBye(e,r,400,"Missing session description"),this.failed(n,s.C.causes.BAD_MEDIA_DESCRIPTION);break}this.hasOffer=!0,i.setDescription(n.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return i.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(r){if(!t.isCanceled&&t.status!==u.SessionStatus.STATUS_TERMINATED){t.status=u.SessionStatus.STATUS_CONFIRMED,t.hasAnswer=!0;var i={contentDisposition:"session",contentType:r.contentType,content:r.body},o=e.ack({body:i});t.emit("ack",o.message),t.accepted(n)}})).catch((function(i){if(i.type!==u.TypeStrings.SessionDescriptionHandlerError)throw i;t.logger.warn("invalid description"),t.logger.warn(i.toString()),t.ackAndBye(e,r,488,"Invalid session description"),t.failed(n,s.C.causes.BAD_MEDIA_DESCRIPTION)}));break;case a.SignalingState.Stable:var o;if(this.renderbody&&this.rendertype&&(o={body:{contentDisposition:"render",contentType:this.rendertype,content:this.renderbody}}),this.hasOffer&&!this.hasAnswer){if(!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");var c=r.answer;if(!c)throw new Error("Answer is undefined.");this.sessionDescriptionHandler.setDescription(c.content,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){t.hasAnswer=!0,t.status=u.SessionStatus.STATUS_CONFIRMED;var r=e.ack(o);t.emit("ack",r.message),t.accepted(n)})).catch((function(i){t.logger.error(i),t.ackAndBye(e,r,488,"Not Acceptable Here"),t.failed(n,s.C.causes.BAD_MEDIA_DESCRIPTION)}))}else{if(this.sessionDescriptionHandler=this.earlyMediaSessionDescriptionHandlers.get(r.id),!this.sessionDescriptionHandler)throw new Error("Session description handler undefined.");this.earlyMediaSessionDescriptionHandlers.delete(r.id),this.hasOffer=!0,this.hasAnswer=!0,this.status=u.SessionStatus.STATUS_CONFIRMED;var l=e.ack();this.emit("ack",l.message),this.accepted(n)}break;case a.SignalingState.Closed:break;default:throw new Error("Unknown session signaling state.")}this.disposeEarlyMedia()}},t.prototype.onProgress=function(e){var t=this;if(!this.isCanceled){if(!this.outgoingInviteRequest)throw new Error("Outgoing INVITE request undefined.");if(!this.earlyMediaSessionDescriptionHandlers)throw new Error("Early media session description handlers undefined.");var n=e.message,r=e.session;if(this.status=u.SessionStatus.STATUS_1XX_RECEIVED,n.hasHeader("P-Asserted-Identity")&&(this.assertedIdentity=a.Grammar.nameAddrHeaderParse(n.getHeader("P-Asserted-Identity"))),!r)throw new Error("Session undefined.");var i=n.getHeader("require"),o=n.getHeader("rseq"),c=!!(i&&i.includes("100rel")&&o?Number(o):void 0),l=[];if(c&&l.push("RAck: "+n.getHeader("rseq")+" "+n.getHeader("cseq")),r.signalingState===a.SignalingState.Initial)return c&&(this.logger.warn("First reliable provisional response received MUST contain an offer when INVITE does not contain an offer."),e.prack({extraHeaders:l})),void this.emit("progress",n);if(r.signalingState===a.SignalingState.HaveLocalOffer)return c&&e.prack({extraHeaders:l}),void this.emit("progress",n);if(r.signalingState===a.SignalingState.HaveRemoteOffer){if(!c)return void this.logger.warn("Non-reliable provisional response MUST NOT contain an initial offer, discarding response.");var d=this.sessionDescriptionHandlerFactory(this,this.ua.configuration.sessionDescriptionHandlerFactoryOptions||{});return this.emit("SessionDescriptionHandler-created",d),this.earlyMediaSessionDescriptionHandlers.set(r.id,d),void d.setDescription(n.body,this.sessionDescriptionHandlerOptions,this.modifiers).then((function(){return d.getDescription(t.sessionDescriptionHandlerOptions,t.modifiers)})).then((function(r){var i={contentDisposition:"session",contentType:r.contentType,content:r.body};e.prack({extraHeaders:l,body:i}),t.status=u.SessionStatus.STATUS_EARLY_MEDIA,t.emit("progress",n)})).catch((function(e){t.status!==u.SessionStatus.STATUS_TERMINATED&&(t.failed(void 0,s.C.causes.WEBRTC_ERROR),t.terminated(void 0,s.C.causes.WEBRTC_ERROR))}))}return r.signalingState===a.SignalingState.Stable?(c&&e.prack({extraHeaders:l}),void this.emit("progress",n)):void 0}},t.prototype.onRedirect=function(e){this.disposeEarlyMedia();var t=e.message,n=t.statusCode,r=p.Utils.sipErrorCause(n||0);this.rejected(t,r),this.failed(t,r),this.terminated(t,r)},t.prototype.onReject=function(e){this.disposeEarlyMedia();var t=e.message,n=t.statusCode,r=p.Utils.sipErrorCause(n||0);this.rejected(t,r),this.failed(t,r),this.terminated(t,r)},t.prototype.onTrying=function(e){this.received100=!0,this.emit("progress",e.message)},t}(h);t.InviteClientContext=v},9740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(4510),s=n(8491),a=n(3847),u=n(2765),c=function(e){function t(t,n,r){void 0===r&&(r={});var i=e.call(this)||this;if(i.C={MIN_DURATION:70,MAX_DURATION:6e3,DEFAULT_DURATION:100,MIN_INTER_TONE_GAP:50,DEFAULT_INTER_TONE_GAP:500},i.type=s.TypeStrings.DTMF,void 0===n)throw new TypeError("Not enough arguments");if(i.logger=t.ua.getLogger("sip.invitecontext.dtmf",t.id),i.owner=t,"string"===typeof n)n=n.toUpperCase();else{if("number"!==typeof n)throw new TypeError("Invalid tone: "+n);n=n.toString()}if(!n.match(/^[0-9A-D#*]$/))throw new TypeError("Invalid tone: "+n);i.tone=n;var o=r.duration,a=r.interToneGap;if(o&&!u.Utils.isDecimal(o))throw new TypeError("Invalid tone duration: "+o);if(o?o<i.C.MIN_DURATION?(i.logger.warn("'duration' value is lower than the minimum allowed, setting it to "+i.C.MIN_DURATION+" milliseconds"),o=i.C.MIN_DURATION):o>i.C.MAX_DURATION?(i.logger.warn("'duration' value is greater than the maximum allowed, setting it to "+i.C.MAX_DURATION+" milliseconds"),o=i.C.MAX_DURATION):o=Math.abs(o):o=i.C.DEFAULT_DURATION,i.duration=o,a&&!u.Utils.isDecimal(a))throw new TypeError("Invalid interToneGap: "+a);return a?a<i.C.MIN_INTER_TONE_GAP?(i.logger.warn("'interToneGap' value is lower than the minimum allowed, setting it to "+i.C.MIN_INTER_TONE_GAP+" milliseconds"),a=i.C.MIN_INTER_TONE_GAP):a=Math.abs(a):a=i.C.DEFAULT_INTER_TONE_GAP,i.interToneGap=a,i}return r.__extends(t,e),t.prototype.send=function(e){if(void 0===e&&(e={}),this.owner.status!==s.SessionStatus.STATUS_CONFIRMED&&this.owner.status!==s.SessionStatus.STATUS_WAITING_FOR_ACK)throw new a.Exceptions.InvalidStateError(this.owner.status);var t=e.extraHeaders?e.extraHeaders.slice():[],n={contentType:"application/dtmf-relay",body:"Signal= "+this.tone+"\r\nDuration= "+this.duration};if(this.owner.session){var r=this.owner.session.info(void 0,{extraHeaders:t,body:u.Utils.fromBodyObj(n)});this.owner.emit("dtmf",r.message,this)}else;},t.prototype.init_incoming=function(e){e.accept(),this.tone&&this.duration?this.owner.emit("dtmf",e.message,this):this.logger.warn("invalid INFO DTMF received, discarded")},t.prototype.receiveResponse=function(e){var t=e&&e.statusCode?e.statusCode:0;switch(!0){case/^1[0-9]{2}$/.test(t.toString()):break;case/^2[0-9]{2}$/.test(t.toString()):this.emit("succeeded",{originator:"remote",response:e});break;default:var n=u.Utils.sipErrorCause(t);this.emit("failed",e,n)}},t.prototype.onRequestTimeout=function(){this.emit("failed",void 0,o.C.causes.REQUEST_TIMEOUT),this.owner.onRequestTimeout()},t.prototype.onTransportError=function(){this.emit("failed",void 0,o.C.causes.CONNECTION_ERROR),this.owner.onTransportError()},t.prototype.onDialogError=function(e){this.emit("failed",e,o.C.causes.DIALOG_ERROR),this.owner.onDialogError(e)},t}(i.EventEmitter);t.DTMF=c},1645:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(4510),s=n(8769),a=n(8623),u=n(8491),c=n(2765),l=function(e){function t(t,n,r,i){void 0===i&&(i={});var s=e.call(this)||this;s.data={},s.method=o.C.SUBSCRIBE,s.body=void 0,s.type=u.TypeStrings.Subscription,s.ua=t,s.logger=t.getLogger("sip.subscription"),i.body&&(s.body={body:i.body,contentType:i.contentType?i.contentType:"application/sdp"});var a=t.normalizeTarget(n);if(!a)throw new TypeError("Invalid target: "+n);if(s.uri=a,s.event=r,void 0===i.expires?s.expires=3600:"number"!==typeof i.expires?(t.logger.warn('Option "expires" must be a number. Using default of 3600.'),s.expires=3600):s.expires=i.expires,s.extraHeaders=(i.extraHeaders||[]).slice(),s.context=s.initContext(),s.disposed=!1,s.request=s.context.message,!s.request.from)throw new Error("From undefined.");if(!s.request.to)throw new Error("From undefined.");return s.localIdentity=s.request.from,s.remoteIdentity=s.request.to,s.id=s.request.callId+s.request.from.parameters.tag+s.event,s.ua.subscriptions[s.id]=s,s}return r.__extends(t,e),t.prototype.dispose=function(){this.disposed||(this.retryAfterTimer&&(clearTimeout(this.retryAfterTimer),this.retryAfterTimer=void 0),this.context.dispose(),this.disposed=!0,delete this.ua.subscriptions[this.id])},t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.prototype.emit.apply(this,[t].concat(n))},t.prototype.close=function(){if(!this.disposed)switch(this.dispose(),this.context.state){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:this.onTerminated();break;case s.SubscriptionState.Pending:case s.SubscriptionState.Active:this.unsubscribe();break;case s.SubscriptionState.Terminated:this.onTerminated()}},t.prototype.refresh=function(){var e=this;switch(this.context.state){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:case s.SubscriptionState.Pending:break;case s.SubscriptionState.Active:if(this.subscription)this.subscription.refresh().delegate={onAccept:function(t){return e.onAccepted(t)},onRedirect:function(t){return e.onFailed(t)},onReject:function(t){return e.onFailed(t)}};case s.SubscriptionState.Terminated:}},t.prototype.subscribe=function(){var e=this;switch(this.context.state){case s.SubscriptionState.Initial:this.context.subscribe().then((function(t){t.success?(t.success.subscription&&(e.subscription=t.success.subscription,e.subscription.delegate={onNotify:function(t){return e.onNotify(t)},onRefresh:function(t){return e.onRefresh(t)},onTerminated:function(){return e.close()}}),e.onNotify(t.success.request)):t.failure&&e.onFailed(t.failure.response)}));break;case s.SubscriptionState.NotifyWait:case s.SubscriptionState.Pending:break;case s.SubscriptionState.Active:this.refresh();case s.SubscriptionState.Terminated:}return this},t.prototype.unsubscribe=function(){switch(this.dispose(),this.context.state){case s.SubscriptionState.Initial:case s.SubscriptionState.NotifyWait:break;case s.SubscriptionState.Pending:case s.SubscriptionState.Active:this.subscription&&this.subscription.unsubscribe();case s.SubscriptionState.Terminated:}this.onTerminated()},t.prototype.onAccepted=function(e){var t=e.message.statusCode?e.message.statusCode:0,n=c.Utils.getReasonPhrase(t);this.emit("accepted",e.message,n)},t.prototype.onFailed=function(e){if(this.close(),e){var t=e.message.statusCode?e.message.statusCode:0,n=c.Utils.getReasonPhrase(t);this.emit("failed",e.message,n),this.emit("rejected",e.message,n)}},t.prototype.onNotify=function(e){var t=this;if(e.accept(),this.emit("notify",{request:e.message}),!this.disposed){var n=e.message.parseHeader("Subscription-State");if(n&&n.state&&"terminated"===n.state){if(n.reason)switch(this.logger.log("Terminated subscription with reason "+n.reason),n.reason){case"deactivated":case"timeout":return this.initContext(),void this.subscribe();case"probation":case"giveup":return this.initContext(),void(n.params&&n.params["retry-after"]?this.retryAfterTimer=setTimeout((function(){return t.subscribe()}),n.params["retry-after"]):this.subscribe())}this.close()}}},t.prototype.onRefresh=function(e){var t=this;e.delegate={onAccept:function(e){return t.onAccepted(e)}}},t.prototype.onTerminated=function(){this.emit("terminated")},t.prototype.initContext=function(){var e=this,t={extraHeaders:this.extraHeaders,body:this.body?c.Utils.fromBodyObj(this.body):void 0};return this.context=new d(this.ua.userAgentCore,this.uri,this.event,this.expires,t),this.context.delegate={onAccept:function(t){return e.onAccepted(t)}},this.context},t}(i.EventEmitter);t.Subscription=l;var d=function(){function e(e,t,n,r,i,s){this.core=e,this.target=t,this.event=n,this.expires=r,this.subscribed=!1,this.logger=e.loggerFactory.getLogger("sip.subscription"),this.delegate=s;var u="Allow: "+a.AllowedMethods.toString(),c=(i&&i.extraHeaders||[]).slice();c.push(u),c.push("Event: "+this.event),c.push("Expires: "+this.expires),c.push("Contact: "+this.core.configuration.contact.toString());var l=i&&i.body;this.message=e.makeOutgoingRequestMessage(o.C.SUBSCRIBE,this.target,this.core.configuration.aor,this.target,{},c,l)}return e.prototype.dispose=function(){this.subscription&&this.subscription.dispose(),this.request&&(this.request.waitNotifyStop(),this.request.dispose())},Object.defineProperty(e.prototype,"state",{get:function(){return this.subscription?this.subscription.subscriptionState:this.subscribed?s.SubscriptionState.NotifyWait:s.SubscriptionState.Initial},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(){var e=this;return this.subscribed?Promise.reject(new Error("Not in initial state. Did you call subscribe more than once?")):(this.subscribed=!0,new Promise((function(t,n){if(!e.message)throw new Error("Message undefined.");e.request=e.core.subscribe(e.message,{onAccept:function(t){e.delegate&&e.delegate.onAccept&&e.delegate.onAccept(t)},onNotify:function(n){e.subscription=n.subscription,e.subscription&&(e.subscription.autoRefresh=!0),t({success:n})},onNotifyTimeout:function(){t({failure:{}})},onRedirect:function(e){t({failure:{response:e}})},onReject:function(e){t({failure:{response:e}})}})})))},e}()},8783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(346),s=n(4510),a=n(8769),u=n(8491),c=n(3847),l=n(8392),d=n(8134),f=n(3291),p=n(5354),h=n(5203),g=n(1524),v=n(1645),m=n(2765),y=n(402),S=n(4280),b=function(e){function t(n){var r=e.call(this)||this;if(r.unloadListener=function(){r.stop()},r.type=u.TypeStrings.UA,r.log=new a.LoggerFactory,r.logger=r.getLogger("sip.ua"),r.configuration={},r.applicants={},r.data={},r.sessions={},r.subscriptions={},r.publishers={},r.status=u.UAStatus.STATUS_INIT,void 0===n?n={}:("string"===typeof n||n instanceof String)&&(n={uri:n}),n.log&&(n.log.hasOwnProperty("builtinEnabled")&&(r.log.builtinEnabled=n.log.builtinEnabled),n.log.hasOwnProperty("connector")&&(r.log.connector=n.log.connector),n.log.hasOwnProperty("level"))){var i=n.log.level,o=void 0;if("string"===typeof i)switch(i){case"error":o=a.Levels.error;break;case"warn":o=a.Levels.warn;break;case"log":o=a.Levels.log;break;case"debug":o=a.Levels.debug}else switch(i){case 0:o=a.Levels.error;break;case 1:o=a.Levels.warn;break;case 2:o=a.Levels.log;break;case 3:o=a.Levels.debug}void 0===o?r.logger.error('Invalid "level" parameter value: '+JSON.stringify(i)):r.log.level=o}try{r.loadConfig(n)}catch(d){throw r.status=u.UAStatus.STATUS_NOT_READY,r.error=t.C.CONFIGURATION_ERROR,d}if(!r.configuration.transportConstructor)throw new a.TransportError("Transport constructor not set");r.transport=new r.configuration.transportConstructor(r.getLogger("sip.transport"),r.configuration.transportOptions);var c=T(r),l={onInvite:function(e){e.trying(),e.delegate={onCancel:function(e){t.onCancel(e)},onTransportError:function(e){t.onTransportError()}};var t=new g.InviteServerContext(r,e);!function(e,t){if(r.configuration.replaces!==s.C.supported.UNSUPPORTED){var n=t.parseHeader("replaces");if(n){var i=r.sessions[n.call_id+n.replaces_from_tag]||r.sessions[n.call_id+n.replaces_to_tag]||void 0;if(!i)return void r.userAgentCore.replyStateless(t,{statusCode:481});if(i.status===u.SessionStatus.STATUS_TERMINATED)return void r.userAgentCore.replyStateless(t,{statusCode:603});var o=n.call_id+n.replaces_to_tag+n.replaces_from_tag,a=r.userAgentCore.dialogs.get(o);if(!a)return void r.userAgentCore.replyStateless(t,{statusCode:481});if(!a.early&&n.early_only)return void r.userAgentCore.replyStateless(t,{statusCode:486});e.replacee=i}}}(t,e.message),t.autoSendAnInitialProvisionalResponse&&t.progress(),r.emit("invite",t)},onMessage:function(e){var t=new h.ServerContext(r,e);t.body=e.message.body,t.contentType=e.message.getHeader("Content-Type")||"text/plain",e.accept(),r.emit("message",t)},onNotify:function(e){r.configuration.allowLegacyNotifications&&r.listeners("notify").length>0?(e.accept(),r.emit("notify",{request:e.message})):e.reject({statusCode:481})},onRefer:function(e){r.logger.log("Received an out of dialog refer"),r.configuration.allowOutOfDialogRefers||e.reject({statusCode:405}),r.logger.log("Allow out of dialog refers is enabled on the UA");var t=new f.ReferServerContext(r,e);r.listeners("outOfDialogReferRequested").length?r.emit("outOfDialogReferRequested",t):(r.logger.log("No outOfDialogReferRequest listeners, automatically accepting and following the out of dialog refer"),t.accept({followRefer:!0}))},onSubscribe:function(e){r.emit("subscribe",e)}};return r.userAgentCore=new a.UserAgentCore(c,l),r.registerContext=new p.RegisterContext(r,n.registerOptions),r.registerContext.on("failed",r.emit.bind(r,"registrationFailed")),r.registerContext.on("registered",r.emit.bind(r,"registered")),r.registerContext.on("unregistered",r.emit.bind(r,"unregistered")),r.configuration.autostart&&r.start(),r}return r.__extends(t,e),t.prototype.register=function(e){return void 0===e&&(e={}),e.register&&(this.configuration.register=!0),this.registerContext.register(e),this},t.prototype.unregister=function(e){var t=this;return this.configuration.register=!1,this.transport.afterConnected((function(){t.registerContext.unregister(e)})),this},t.prototype.isRegistered=function(){return this.registerContext.registered},t.prototype.invite=function(e,t,n){var r=this,i=new g.InviteClientContext(this,e,t,n);return this.transport.afterConnected((function(){i.invite(),r.emit("inviteSent",i)})),i},t.prototype.subscribe=function(e,t,n){var r=new v.Subscription(this,e,t,n);return this.transport.afterConnected((function(){return r.subscribe()})),r},t.prototype.publish=function(e,t,n,r){var i=new d.PublishContext(this,e,t,r);return this.transport.afterConnected((function(){i.publish(n)})),i},t.prototype.message=function(e,t,n){if(void 0===n&&(n={}),void 0===t)throw new TypeError("Not enough arguments");return n.contentType=n.contentType||"text/plain",n.body=t,this.request(s.C.MESSAGE,e,n)},t.prototype.request=function(e,t,n){var r=new o.ClientContext(this,e,t,n);return this.transport.afterConnected((function(){return r.send()})),r},t.prototype.stop=function(){if(this.logger.log("user requested closure..."),this.status===u.UAStatus.STATUS_USER_CLOSED)return this.logger.warn("UA already closed"),this;for(var e in this.logger.log("closing registerContext"),this.registerContext.close(),this.sessions)this.sessions[e]&&(this.logger.log("closing session "+e),this.sessions[e].terminate());for(var t in this.subscriptions)this.subscriptions[t]&&(this.logger.log("unsubscribe "+t),this.subscriptions[t].unsubscribe());for(var n in this.publishers)this.publishers[n]&&(this.logger.log("unpublish "+n),this.publishers[n].close());for(var r in this.applicants)this.applicants[r]&&this.applicants[r].close();if(this.status=u.UAStatus.STATUS_USER_CLOSED,this.transport.disconnect(),this.userAgentCore.reset(),this.configuration.autostop){var i=!("undefined"===typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"===typeof window||i||window.removeEventListener("unload",this.unloadListener)}return this},t.prototype.start=function(){if(this.logger.log("user requested startup..."),this.status===u.UAStatus.STATUS_INIT?(this.status=u.UAStatus.STATUS_STARTING,this.setTransportListeners(),this.emit("transportCreated",this.transport),this.transport.connect()):this.status===u.UAStatus.STATUS_USER_CLOSED?(this.logger.log("resuming"),this.status=u.UAStatus.STATUS_READY,this.transport.connect()):this.status===u.UAStatus.STATUS_STARTING?this.logger.log("UA is in STARTING status, not opening new connection"):this.status===u.UAStatus.STATUS_READY?this.logger.log("UA is in READY status, not resuming"):this.logger.error("Connection is down. Auto-Recovery system is trying to connect"),this.configuration.autostop){var e=!("undefined"===typeof chrome||!chrome.app||!chrome.app.runtime);"undefined"===typeof window||e||window.addEventListener("unload",this.unloadListener)}return this},t.prototype.normalizeTarget=function(e){return m.Utils.normalizeTarget(e,this.configuration.hostportParams)},t.prototype.getLogger=function(e,t){return this.log.getLogger(e,t)},t.prototype.getLoggerFactory=function(){return this.log},t.prototype.getSupportedResponseOptions=function(){var e=[];(this.contact.pubGruu||this.contact.tempGruu)&&e.push("gruu"),this.configuration.rel100===s.C.supported.SUPPORTED&&e.push("100rel"),this.configuration.replaces===s.C.supported.SUPPORTED&&e.push("replaces"),e.push("outbound"),e=e.concat(this.configuration.extraSupported||[]);var t=this.configuration.hackAllowUnregisteredOptionTags||!1,n={};return e=e.filter((function(e){var r=s.C.OPTION_TAGS[e],i=!n[e];return n[e]=!0,(r||t)&&i}))},t.prototype.findSession=function(e){return this.sessions[e.callId+e.fromTag]||this.sessions[e.callId+e.toTag]||void 0},t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t.prototype.onTransportError=function(){this.status!==u.UAStatus.STATUS_USER_CLOSED&&(this.error&&this.error===t.C.NETWORK_ERROR||(this.status=u.UAStatus.STATUS_NOT_READY,this.error=t.C.NETWORK_ERROR))},t.prototype.setTransportListeners=function(){var e=this;this.transport.on("connected",(function(){return e.onTransportConnected()})),this.transport.on("message",(function(t){return e.onTransportReceiveMsg(t)})),this.transport.on("transportError",(function(){return e.onTransportError()}))},t.prototype.onTransportConnected=function(){var e=this;this.configuration.register&&Promise.resolve().then((function(){return e.registerContext.register()}))},t.prototype.onTransportReceiveMsg=function(e){var t=this,n=l.Parser.parseMessage(e,this.getLogger("sip.parser"));if(n)if(this.status===u.UAStatus.STATUS_USER_CLOSED&&n instanceof a.IncomingRequestMessage)this.logger.warn("UA received message when status = USER_CLOSED - aborting");else{var r=function(){for(var e=0,r=["from","to","call_id","cseq","via"];e<r.length;e++){var i=r[e];if(!n.hasHeader(i))return t.logger.warn("Missing mandatory header field : "+i+"."),!1}return!0};if(n instanceof a.IncomingRequestMessage){if(!r())return void this.logger.warn("Request missing mandatory header field. Dropping.");if(!n.toTag&&n.callId.substr(0,5)===this.configuration.sipjsId)return void this.userAgentCore.replyStateless(n,{statusCode:482});var i=m.Utils.str_utf8_length(n.body);if((o=n.getHeader("content-length"))&&i<Number(o))return void this.userAgentCore.replyStateless(n,{statusCode:400})}if(n instanceof a.IncomingResponseMessage){if(!r())return void this.logger.warn("Response missing mandatory header field. Dropping.");if(n.getHeaders("via").length>1)return void this.logger.warn("More than one Via header field present in the response. Dropping.");if(n.via.host!==this.configuration.viaHost||void 0!==n.via.port)return void this.logger.warn("Via sent-by in the response does not match UA Via host value. Dropping.");var o;i=m.Utils.str_utf8_length(n.body);if((o=n.getHeader("content-length"))&&i<Number(o))return void this.logger.warn("Message body length is lower than the value in Content-Length header field. Dropping.")}if(n instanceof a.IncomingRequestMessage)this.userAgentCore.receiveIncomingRequestFromTransport(n);else{if(!(n instanceof a.IncomingResponseMessage))throw new Error("Invalid message type.");this.userAgentCore.receiveIncomingResponseFromTransport(n)}}else this.logger.warn("UA failed to parse incoming SIP message - discarding.")},t.prototype.checkAuthenticationFactory=function(e){if(e instanceof Function)return e.initialize||(e.initialize=function(){return Promise.resolve()}),e},t.prototype.loadConfig=function(e){var t=this,n={viaHost:m.Utils.createRandomToken(12)+".invalid",uri:new a.URI("sip","anonymous."+m.Utils.createRandomToken(6),"anonymous.invalid",void 0,void 0),custom:{},displayName:"",password:void 0,register:!0,registerOptions:{},transportConstructor:S.Transport,transportOptions:{},usePreloadedRoute:!1,userAgentString:s.C.USER_AGENT,noAnswerTimeout:60,hackViaTcp:!1,hackIpInContact:!1,hackWssInTransport:!1,hackAllowUnregisteredOptionTags:!1,sessionDescriptionHandlerFactoryOptions:{constraints:{},peerConnectionOptions:{}},extraSupported:[],contactName:m.Utils.createRandomToken(8),contactTransport:"ws",forceRport:!1,autostart:!0,autostop:!0,rel100:s.C.supported.UNSUPPORTED,dtmfType:s.C.dtmfType.INFO,replaces:s.C.supported.UNSUPPORTED,sessionDescriptionHandlerFactory:y.SessionDescriptionHandler.defaultFactory,authenticationFactory:this.checkAuthenticationFactory((function(e){return new a.DigestAuthentication(e.getLoggerFactory(),t.configuration.authorizationUser,t.configuration.password)})),allowLegacyNotifications:!1,allowOutOfDialogRefers:!1,experimentalFeatures:!1},r=this.getConfigurationCheck();for(var i in r.mandatory){if(!e.hasOwnProperty(i))throw new c.Exceptions.ConfigurationError(i);var o=e[i];if(void 0===(u=r.mandatory[i](o)))throw new c.Exceptions.ConfigurationError(i,o);n[i]=u}for(var i in r.optional)if(e.hasOwnProperty(i)){var u;if((o=e[i])instanceof Array&&0===o.length||null===o||""===o||void 0===o||"number"===typeof o&&isNaN(o))continue;if(void 0===(u=r.optional[i](o)))throw new c.Exceptions.ConfigurationError(i,o);n[i]=u}0===n.displayName&&(n.displayName="0"),n.sipjsId=m.Utils.createRandomToken(5);var l=n.uri.clone();if(l.user=void 0,n.hostportParams=l.toRaw().replace(/^sip:/i,""),n.authorizationUser||(n.authorizationUser=n.uri.user),n.noAnswerTimeout=1e3*n.noAnswerTimeout,n.hackIpInContact)if("boolean"===typeof n.hackIpInContact){var d=Math.floor(254*Math.random()+1);n.viaHost="192.0.2."+d}else"string"===typeof n.hackIpInContact&&(n.viaHost=n.hackIpInContact);n.hackWssInTransport&&(n.contactTransport="wss"),this.contact={pubGruu:void 0,tempGruu:void 0,uri:new a.URI("sip",n.contactName,n.viaHost,void 0,{transport:n.contactTransport}),toString:function(e){void 0===e&&(e={});var r=e.anonymous||!1,i=e.outbound||!1,o="<";return o+=r?(t.contact.tempGruu||"sip:anonymous@anonymous.invalid;transport="+n.contactTransport).toString():(t.contact.pubGruu||t.contact.uri).toString(),i&&(o+=";ob"),o+=">"}};var f={};for(var i in n)n.hasOwnProperty(i)&&(f[i]=n[i]);for(var i in Object.assign(this.configuration,f),this.logger.log("configuration parameters after validation:"),n)if(n.hasOwnProperty(i))switch(i){case"uri":case"sessionDescriptionHandlerFactory":this.logger.log("\xb7 "+i+": "+n[i]);break;case"password":this.logger.log("\xb7 "+i+": NOT SHOWN");break;case"transportConstructor":this.logger.log("\xb7 "+i+": "+n[i].name);break;default:this.logger.log("\xb7 "+i+": "+JSON.stringify(n[i]))}},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{uri:function(e){/^sip:/i.test(e)||(e=s.C.SIP+":"+e);var t=a.Grammar.URIParse(e);return t&&t.user?t:void 0},transportConstructor:function(e){if(e instanceof Function)return e},transportOptions:function(e){if("object"===typeof e)return e},authorizationUser:function(e){return-1===a.Grammar.parse('"'+e+'"',"quoted_string")?void 0:e},displayName:function(e){return-1===a.Grammar.parse('"'+e+'"',"displayName")?void 0:e},dtmfType:function(e){switch(e){case s.C.dtmfType.RTP:return s.C.dtmfType.RTP;case s.C.dtmfType.INFO:default:return s.C.dtmfType.INFO}},hackViaTcp:function(e){if("boolean"===typeof e)return e},hackIpInContact:function(e){return"boolean"===typeof e||"string"===typeof e&&-1!==a.Grammar.parse(e,"host")?e:void 0},hackWssInTransport:function(e){if("boolean"===typeof e)return e},hackAllowUnregisteredOptionTags:function(e){if("boolean"===typeof e)return e},contactTransport:function(e){if("string"===typeof e)return e},extraSupported:function(e){if(e instanceof Array){for(var t=0,n=e;t<n.length;t++){if("string"!==typeof n[t])return}return e}},forceRport:function(e){if("boolean"===typeof e)return e},noAnswerTimeout:function(e){if(m.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},password:function(e){return String(e)},rel100:function(e){return e===s.C.supported.REQUIRED?s.C.supported.REQUIRED:e===s.C.supported.SUPPORTED?s.C.supported.SUPPORTED:s.C.supported.UNSUPPORTED},replaces:function(e){return e===s.C.supported.REQUIRED?s.C.supported.REQUIRED:e===s.C.supported.SUPPORTED?s.C.supported.SUPPORTED:s.C.supported.UNSUPPORTED},register:function(e){if("boolean"===typeof e)return e},registerOptions:function(e){if("object"===typeof e)return e},usePreloadedRoute:function(e){if("boolean"===typeof e)return e},userAgentString:function(e){if("string"===typeof e)return e},autostart:function(e){if("boolean"===typeof e)return e},autostop:function(e){if("boolean"===typeof e)return e},sessionDescriptionHandlerFactory:function(e){if(e instanceof Function)return e},sessionDescriptionHandlerFactoryOptions:function(e){if("object"===typeof e)return e},authenticationFactory:this.checkAuthenticationFactory,allowLegacyNotifications:function(e){if("boolean"===typeof e)return e},custom:function(e){if("object"===typeof e)return e},contactName:function(e){if("string"===typeof e)return e},experimentalFeatures:function(e){if("boolean"===typeof e)return e}}}},t.C={STATUS_INIT:0,STATUS_STARTING:1,STATUS_READY:2,STATUS_USER_CLOSED:3,STATUS_NOT_READY:4,CONFIGURATION_ERROR:1,NETWORK_ERROR:2,ALLOWED_METHODS:["ACK","CANCEL","INVITE","MESSAGE","BYE","OPTIONS","INFO","NOTIFY","REFER"],ACCEPTED_BODY_TYPES:["application/sdp","application/dtmf-relay"],MAX_FORWARDS:70,TAG_LENGTH:10},t}(i.EventEmitter);function T(e){if(!(e.configuration.uri instanceof a.URI))throw new Error("Configuration URI not instance of URI.");var t=e.configuration.uri,n=e.contact,r=e.configuration.displayName?e.configuration.displayName:"",i=!!e.configuration.hackViaTcp,o=e.configuration.usePreloadedRoute&&e.transport.server&&e.transport.server.sipUri?[e.transport.server.sipUri]:[],u=e.configuration.sipjsId||m.Utils.createRandomToken(5),c=[];c.push("outbound"),e.configuration.rel100===s.C.supported.SUPPORTED&&c.push("100rel"),e.configuration.replaces===s.C.supported.SUPPORTED&&c.push("replaces"),e.configuration.extraSupported&&c.push.apply(c,e.configuration.extraSupported),e.configuration.hackAllowUnregisteredOptionTags||(c=c.filter((function(e){return s.C.OPTION_TAGS[e]}))),c=Array.from(new Set(c));var l=e.getSupportedResponseOptions(),d=e.configuration.userAgentString||"sipjs";if(!e.configuration.viaHost)throw new Error("Configuration via host undefined");var f=!!e.configuration.forceRport,p=e.configuration.viaHost;return{aor:t,contact:n,displayName:r,hackViaTcp:i,loggerFactory:e.getLoggerFactory(),routeSet:o,sipjsId:u,supportedOptionTags:c,supportedOptionTagsResponse:l,userAgentHeaderFieldValue:d,viaForceRport:f,viaHost:p,authenticationFactory:function(){if(e.configuration.authenticationFactory)return e.configuration.authenticationFactory(e)},transportAccessor:function(){return e.transport}}}t.UA=b,function(e){!function(e){e.RTP="rtp",e.INFO="info"}(e.DtmfType||(e.DtmfType={}))}(b=t.UA||(t.UA={})),t.UA=b,t.makeUserAgentCoreConfigurationFromUA=T},2765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4510),i=n(1629),o=n(4065);!function(e){e.defer=function(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e},e.reducePromises=function(e,t){return e.reduce((function(e,t){return e=e.then(t)}),Promise.resolve(t))},e.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length},e.generateFakeSDP=function(e){if(e){var t=e.indexOf("o="),n=e.indexOf("\r\n",t);return"v=0\r\n"+e.slice(t,n)+"\r\ns=-\r\nt=0 0\r\nc=IN IP4 0.0.0.0"}},e.isDecimal=function(e){var t=parseInt(e,10);return!isNaN(t)&&parseFloat(e)===t},e.createRandomToken=function(e,t){void 0===t&&(t=32);for(var n="",r=0;r<e;r++){n+=Math.floor(Math.random()*t).toString(t)}return n},e.newTag=function(){return e.createRandomToken(10)},e.newUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.floor(16*Math.random());return("x"===e?t:t%4+8).toString(16)}))},e.normalizeTarget=function(t,n){if(t){if(t instanceof o.URI)return t;if("string"===typeof t){var s=t.split("@"),a=void 0,u=void 0;switch(s.length){case 1:if(!n)return;a=t,u=n;break;case 2:a=s[0],u=s[1];break;default:a=s.slice(0,s.length-1).join("@"),u=s[s.length-1]}return a=a.replace(/^(sips?|tel):/i,""),/^[\-\.\(\)]*\+?[0-9\-\.\(\)]+$/.test(a)&&(a=a.replace(/[\-\.\(\)]/g,"")),t=r.C.SIP+":"+e.escapeUser(a)+"@"+u,i.Grammar.URIParse(t)}}else;},e.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},e.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length,i="",o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i},e.sipErrorCause=function(e){for(var t in r.C.SIP_ERROR_CAUSES)if(-1!==r.C.SIP_ERROR_CAUSES[t].indexOf(e))return r.C.causes[t];return r.C.causes.SIP_FAILURE_CODE},e.getReasonPhrase=function(e,t){return t||r.C.REASON_PHRASE[e]||""},e.getReasonHeaderValue=function(t,n){return"SIP;cause="+t+';text="'+(n=e.getReasonPhrase(t,n))+'"'},e.getCancelReason=function(t,n){if(t&&t<200||t>699)throw new TypeError("Invalid statusCode: "+t);if(t)return e.getReasonHeaderValue(t,n)},e.buildStatusLine=function(t,n){if(!t||t<100||t>699)throw new TypeError("Invalid statusCode: "+t);if(n&&"string"!==typeof n&&!(n instanceof String))throw new TypeError("Invalid reason: "+n);return"SIP/2.0 "+t+" "+(n=e.getReasonPhrase(t,n))+"\r\n"},e.fromBodyObj=function(e){var t=e.body,n=e.contentType;return{contentDisposition:function(e){return"application/sdp"===e?"session":"render"}(n),contentType:n,content:t}},e.toBodyObj=function(e){return{body:e.content,contentType:e.contentType}}}(t.Utils||(t.Utils={}))},2274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n,r=[],i=e.split(/\r\n/),o=0;o<i.length;){var s=i[o];if(/^m=(?:audio|video)/.test(s))n={index:o,stripped:[]},r.push(n);else if(n){var a=/^a=rtpmap:(\d+) ([^/]+)\//.exec(s);if(a&&t===a[2]){i.splice(o,1),n.stripped.push(a[1]);continue}}o++}for(var u=0,c=r;u<c.length;u++){for(var l=c[u],d=i[l.index].split(" "),f=3;f<d.length;)-1===l.stripped.indexOf(d[f])?f++:d.splice(f,1);i[l.index]=d.join(" ")}return i.join("\r\n")};t.stripTcpCandidates=function(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/gim,""),Promise.resolve(e)},t.stripTelephoneEvent=function(e){return e.sdp=n(e.sdp||"","telephone-event"),Promise.resolve(e)},t.cleanJitsiSdpImageattr=function(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)},t.stripG722=function(e){return e.sdp=n(e.sdp||"","G722"),Promise.resolve(e)},t.stripRtpPayload=function(e){return function(t){return t.sdp=n(t.sdp||"",e),Promise.resolve(t)}},t.stripVideo=function(e){return e.sdp=function(e,t){var n=new RegExp("m="+t+".*$","gm"),r=new RegExp("^a=group:.*$","gm");if(n.test(e)){var i,o=(e=e.split(/^m=/gm).filter((function(e){if(e.substr(0,t.length)===t){if(i=e.match(/^a=mid:.*$/gm)){var n=i[0].match(/:.+$/g);n&&(i=n[0].substr(1))}return!1}return!0})).join("m=")).match(r);if(o&&1===o.length){var s=o[0],a=new RegExp(" *"+i+"[^ ]*","g");s=s.replace(a,""),e=e.split(r).join(s)}}return e}(e.sdp||"","video"),Promise.resolve(e)},t.addMidLines=function(e){var t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){var n=t.match(/^m=.*$/gm),r=t.split(/^m=.*$/gm);n&&n.forEach((function(e,t){n[t]=e+"\na=mid:"+t})),r.forEach((function(e,t){n&&n[t]&&(r[t]=e+n[t])})),t=r.join(""),e.sdp=t}return Promise.resolve(e)}},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(8491),s=n(3847),a=n(2765),u=r.__importStar(n(2274)),c=n(1525),l=function(e){function t(t,n,r){var i=e.call(this)||this;return i.type=o.TypeStrings.SessionDescriptionHandler,i.options=r||{},i.logger=t,i.observer=n,i.dtmfSender=void 0,i.shouldAcquireMedia=!0,i.CONTENT_TYPE="application/sdp",i.C={DIRECTION:{NULL:null,SENDRECV:"sendrecv",SENDONLY:"sendonly",RECVONLY:"recvonly",INACTIVE:"inactive"}},i.logger.log("SessionDescriptionHandlerOptions: "+JSON.stringify(i.options)),i.direction=i.C.DIRECTION.NULL,i.modifiers=i.options.modifiers||[],Array.isArray(i.modifiers)||(i.modifiers=[i.modifiers]),i.iceGatheringTimeout=!1,i.initPeerConnection(i.options.peerConnectionOptions),i.constraints=i.checkAndDefaultConstraints(i.options.constraints),i}return r.__extends(t,e),t.defaultFactory=function(e,n){return new t(e.ua.getLogger("sip.invitecontext.sessionDescriptionHandler",e.id),new c.SessionDescriptionHandlerObserver(e,n),n)},t.prototype.close=function(){this.logger.log("closing PeerConnection"),this.peerConnection&&"closed"!==this.peerConnection.signalingState&&(this.peerConnection.getSenders?this.peerConnection.getSenders().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getLocalStreams which is deprecated"),this.peerConnection.getLocalStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.peerConnection.getReceivers?this.peerConnection.getReceivers().forEach((function(e){e.track&&e.track.stop()})):(this.logger.warn("Using getRemoteStreams which is deprecated"),this.peerConnection.getRemoteStreams().forEach((function(e){e.getTracks().forEach((function(e){e.stop()}))}))),this.resetIceGatheringComplete(),this.peerConnection.close())},t.prototype.getDescription=function(e,t){var n=this;void 0===e&&(e={}),void 0===t&&(t=[]),e.peerConnectionOptions&&this.initPeerConnection(e.peerConnectionOptions);var r=Object.assign({},this.constraints,e.constraints);return r=this.checkAndDefaultConstraints(r),JSON.stringify(r)!==JSON.stringify(this.constraints)&&(this.constraints=r,this.shouldAcquireMedia=!0),Array.isArray(t)||(t=[t]),t=t.concat(this.modifiers),Promise.resolve().then((function(){if(n.shouldAcquireMedia)return n.acquire(n.constraints).then((function(){n.shouldAcquireMedia=!1}))})).then((function(){return n.createOfferOrAnswer(e.RTCOfferOptions,t)})).then((function(e){if(void 0===e.sdp)throw new s.Exceptions.SessionDescriptionHandlerError("getDescription",void 0,"SDP undefined");return n.emit("getDescription",e),{body:e.sdp,contentType:n.CONTENT_TYPE}}))},t.prototype.hasDescription=function(e){return e===this.CONTENT_TYPE},t.prototype.holdModifier=function(e){return e.sdp?(/a=(sendrecv|sendonly|recvonly|inactive)/.test(e.sdp)?(e.sdp=e.sdp.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n"),e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n")):e.sdp=e.sdp.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n"),Promise.resolve(e)):Promise.resolve(e)},t.prototype.setDescription=function(e,t,n){var r=this;void 0===t&&(t={}),void 0===n&&(n=[]),t.peerConnectionOptions&&this.initPeerConnection(t.peerConnectionOptions),Array.isArray(n)||(n=[n]),n=n.concat(this.modifiers);var i={type:this.hasOffer("local")?"answer":"offer",sdp:e};return Promise.resolve().then((function(){if(r.shouldAcquireMedia&&r.options.alwaysAcquireMediaFirst)return r.acquire(r.constraints).then((function(){r.shouldAcquireMedia=!1}))})).then((function(){return a.Utils.reducePromises(n,i)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new s.Exceptions.SessionDescriptionHandlerError("setDescription",e,"The modifiers did not resolve successfully");throw r.logger.error(t.message),r.emit("peerConnection-setRemoteDescriptionFailed",t),t})).then((function(e){return r.emit("setDescription",e),r.peerConnection.setRemoteDescription(e)})).catch((function(i){if(i.type===o.TypeStrings.SessionDescriptionHandlerError)throw i;if(/^m=video.+$/gm.test(e)&&!t.disableAudioFallback)return t.disableAudioFallback=!0,r.setDescription(e,t,[u.stripVideo].concat(n));var a=new s.Exceptions.SessionDescriptionHandlerError("setDescription",i);throw a.error&&r.logger.error(a.error),r.emit("peerConnection-setRemoteDescriptionFailed",a),a})).then((function(){r.peerConnection.getReceivers?r.emit("setRemoteDescription",r.peerConnection.getReceivers()):r.emit("setRemoteDescription",r.peerConnection.getRemoteStreams()),r.emit("confirmed",r)}))},t.prototype.sendDtmf=function(e,t){if(void 0===t&&(t={}),!this.dtmfSender&&this.hasBrowserGetSenderSupport()){var n=this.peerConnection.getSenders();n.length>0&&(this.dtmfSender=n[0].dtmf)}if(!this.dtmfSender&&this.hasBrowserTrackSupport()){var r=this.peerConnection.getLocalStreams();if(r.length>0){var i=r[0].getAudioTracks();i.length>0&&(this.dtmfSender=this.peerConnection.createDTMFSender(i[0]))}}if(!this.dtmfSender)return!1;try{this.dtmfSender.insertDTMF(e,t.duration,t.interToneGap)}catch(o){if("InvalidStateError"===o.type||"InvalidCharacterError"===o.type)return this.logger.error(o),!1;throw o}return this.logger.log("DTMF sent via RTP: "+e.toString()),!0},t.prototype.getDirection=function(){return this.direction},t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t.prototype.createOfferOrAnswer=function(e,t){var n=this;void 0===e&&(e={}),void 0===t&&(t=[]);var r=this.hasOffer("remote")?"createAnswer":"createOffer",i=this.peerConnection;return this.logger.log(r),(this.hasOffer("remote")?i.createAnswer:i.createOffer).apply(i,e).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new s.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-"+r+"Failed");throw n.emit("peerConnection-"+r+"Failed",t),t})).then((function(e){return a.Utils.reducePromises(t,n.createRTCSessionDescriptionInit(e))})).then((function(e){return n.resetIceGatheringComplete(),n.logger.log("Setting local sdp."),n.logger.log("sdp is "+e.sdp||0),i.setLocalDescription(e)})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new s.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e,"peerConnection-SetLocalDescriptionFailed");throw n.emit("peerConnection-SetLocalDescriptionFailed",t),t})).then((function(){return n.waitForIceGatheringComplete()})).then((function(){var e=n.createRTCSessionDescriptionInit(n.peerConnection.localDescription);return a.Utils.reducePromises(t,e)})).then((function(e){return n.setDirection(e.sdp||""),e})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var t=new s.Exceptions.SessionDescriptionHandlerError("createOfferOrAnswer",e);throw n.logger.error(t.toString()),t}))},t.prototype.createRTCSessionDescriptionInit=function(e){return{type:e.type,sdp:e.sdp}},t.prototype.addDefaultIceCheckingTimeout=function(e){return void 0===e.iceCheckingTimeout&&(e.iceCheckingTimeout=5e3),e},t.prototype.addDefaultIceServers=function(e){return e.iceServers||(e.iceServers=[{urls:"stun:stun.l.google.com:19302"}]),e},t.prototype.checkAndDefaultConstraints=function(e){var t={audio:!0,video:!this.options.alwaysAcquireMediaFirst};return e=e||t,0===Object.keys(e).length&&e.constructor===Object?t:e},t.prototype.hasBrowserTrackSupport=function(){return Boolean(this.peerConnection.addTrack)},t.prototype.hasBrowserGetSenderSupport=function(){return Boolean(this.peerConnection.getSenders)},t.prototype.initPeerConnection=function(e){var t=this;void 0===e&&(e={}),(e=this.addDefaultIceCheckingTimeout(e)).rtcConfiguration=e.rtcConfiguration||{},e.rtcConfiguration=this.addDefaultIceServers(e.rtcConfiguration),this.logger.log("initPeerConnection"),this.peerConnection&&(this.logger.log("Already have a peer connection for this session. Tearing down."),this.resetIceGatheringComplete(),this.peerConnection.close()),this.peerConnection=new RTCPeerConnection(e.rtcConfiguration),this.logger.log("New peer connection created"),"ontrack"in this.peerConnection?this.peerConnection.addEventListener("track",(function(e){t.logger.log("track added"),t.observer.trackAdded(),t.emit("addTrack",e)})):(this.logger.warn("Using onaddstream which is deprecated"),this.peerConnection.onaddstream=function(e){t.logger.log("stream added"),t.emit("addStream",e)}),this.peerConnection.onicecandidate=function(e){t.emit("iceCandidate",e),e.candidate?t.logger.log("ICE candidate received: "+(null===e.candidate.candidate?null:e.candidate.candidate.trim())):null===e.candidate&&(t.logger.log("ICE candidate gathering complete"),t.triggerIceGatheringComplete())},this.peerConnection.onicegatheringstatechange=function(){switch(t.logger.log("RTCIceGatheringState changed: "+t.peerConnection.iceGatheringState),t.peerConnection.iceGatheringState){case"gathering":t.emit("iceGathering",t),!t.iceGatheringTimer&&e.iceCheckingTimeout&&(t.iceGatheringTimeout=!1,t.iceGatheringTimer=setTimeout((function(){t.logger.log("RTCIceChecking Timeout Triggered after "+e.iceCheckingTimeout+" milliseconds"),t.iceGatheringTimeout=!0,t.triggerIceGatheringComplete()}),e.iceCheckingTimeout));break;case"complete":t.triggerIceGatheringComplete()}},this.peerConnection.oniceconnectionstatechange=function(){var e;switch(t.peerConnection.iceConnectionState){case"new":e="iceConnection";break;case"checking":e="iceConnectionChecking";break;case"connected":e="iceConnectionConnected";break;case"completed":e="iceConnectionCompleted";break;case"failed":e="iceConnectionFailed";break;case"disconnected":e="iceConnectionDisconnected";break;case"closed":e="iceConnectionClosed";break;default:return void t.logger.warn("Unknown iceConnection state: "+t.peerConnection.iceConnectionState)}t.logger.log("ICE Connection State changed to "+e),t.emit(e,t)}},t.prototype.acquire=function(e){var t=this;return e=this.checkAndDefaultConstraints(e),new Promise((function(n,r){t.logger.log("acquiring local media"),t.emit("userMediaRequest",e),e.audio||e.video?navigator.mediaDevices.getUserMedia(e).then((function(e){t.observer.trackAdded(),t.emit("userMedia",e),n(e)})).catch((function(e){t.emit("userMediaFailed",e),r(e)})):n([])})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var n=new s.Exceptions.SessionDescriptionHandlerError("acquire",e,"unable to acquire streams");throw t.logger.error(n.message),n.error&&t.logger.error(n.error),n})).then((function(e){t.logger.log("acquired local media streams");try{return t.peerConnection.removeTrack&&t.peerConnection.getSenders().forEach((function(e){t.peerConnection.removeTrack(e)})),e}catch(n){return Promise.reject(n)}})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var n=new s.Exceptions.SessionDescriptionHandlerError("acquire",e,"error removing streams");throw t.logger.error(n.message),n.error&&t.logger.error(n.error),n})).then((function(e){try{(e=[].concat(e)).forEach((function(e){t.peerConnection.addTrack?e.getTracks().forEach((function(n){t.peerConnection.addTrack(n,e)})):t.peerConnection.addStream(e)}))}catch(n){return Promise.reject(n)}return Promise.resolve()})).catch((function(e){if(e.type===o.TypeStrings.SessionDescriptionHandlerError)throw e;var n=new s.Exceptions.SessionDescriptionHandlerError("acquire",e,"error adding stream");throw t.logger.error(n.message),n.error&&t.logger.error(n.error),n}))},t.prototype.hasOffer=function(e){var t="have-"+e+"-offer";return this.peerConnection.signalingState===t},t.prototype.isIceGatheringComplete=function(){return"complete"===this.peerConnection.iceGatheringState||this.iceGatheringTimeout},t.prototype.resetIceGatheringComplete=function(){this.iceGatheringTimeout=!1,this.logger.log("resetIceGatheringComplete"),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.reject(),this.iceGatheringDeferred=void 0)},t.prototype.setDirection=function(e){var t=e.match(/a=(sendrecv|sendonly|recvonly|inactive)/);if(null===t)return this.direction=this.C.DIRECTION.NULL,void this.observer.directionChanged();var n=t[1];switch(n){case this.C.DIRECTION.SENDRECV:case this.C.DIRECTION.SENDONLY:case this.C.DIRECTION.RECVONLY:case this.C.DIRECTION.INACTIVE:this.direction=n;break;default:this.direction=this.C.DIRECTION.NULL}this.observer.directionChanged()},t.prototype.triggerIceGatheringComplete=function(){this.isIceGatheringComplete()&&(this.emit("iceGatheringComplete",this),this.iceGatheringTimer&&(clearTimeout(this.iceGatheringTimer),this.iceGatheringTimer=void 0),this.iceGatheringDeferred&&(this.iceGatheringDeferred.resolve(),this.iceGatheringDeferred=void 0))},t.prototype.waitForIceGatheringComplete=function(){return this.logger.log("waitForIceGatheringComplete"),this.isIceGatheringComplete()?(this.logger.log("ICE is already complete. Return resolved."),Promise.resolve()):(this.iceGatheringDeferred||(this.iceGatheringDeferred=a.Utils.defer()),this.logger.log("ICE is not complete. Returning promise"),this.iceGatheringDeferred?this.iceGatheringDeferred.promise:Promise.resolve())},t}(i.EventEmitter);t.SessionDescriptionHandler=l},1525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8491),i=function(){function e(e,t){this.type=r.TypeStrings.SessionDescriptionHandlerObserver,this.session=e,this.options=t}return e.prototype.trackAdded=function(){this.session.emit("trackAdded")},e.prototype.directionChanged=function(){this.session.emit("directionChanged")},e}();t.SessionDescriptionHandlerObserver=i},3257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5765),o=n(7465),s=n(8783),a=i.__importStar(n(2274));!function(e){e[e.STATUS_NULL=0]="STATUS_NULL",e[e.STATUS_NEW=1]="STATUS_NEW",e[e.STATUS_CONNECTING=2]="STATUS_CONNECTING",e[e.STATUS_CONNECTED=3]="STATUS_CONNECTED",e[e.STATUS_COMPLETED=4]="STATUS_COMPLETED"}(r=t.SimpleStatus||(t.SimpleStatus={}));var u=function(e){function t(t){var n=e.call(this)||this;if(t.media.remote.video?n.video=!0:n.video=!1,t.media.remote.audio?n.audio=!0:n.audio=!1,!n.audio&&!n.video)throw new Error("At least one remote audio or video element is required for Simple.");n.options=t;var i=navigator.userAgent.toLowerCase(),o=!1,u=!1;i.indexOf("safari")>-1&&i.indexOf("chrome")<0?o=!0:i.indexOf("firefox")>-1&&i.indexOf("chrome")<0&&(u=!0);var c={};return o&&(c.modifiers=[a.stripG722]),u&&(c.alwaysAcquireMediaFirst=!0),n.options.ua.uri?n.anonymous=!1:n.anonymous=!0,n.ua=new s.UA({uri:n.options.ua.uri,authorizationUser:n.options.ua.authorizationUser,password:n.options.ua.password,displayName:n.options.ua.displayName,userAgentString:n.options.ua.userAgentString,register:!0,sessionDescriptionHandlerFactoryOptions:c,transportOptions:{traceSip:n.options.ua.traceSip,wsServers:n.options.ua.wsServers}}),n.state=r.STATUS_NULL,n.logger=n.ua.getLogger("sip.simple"),n.ua.on("registered",(function(){n.emit("registered",n.ua)})),n.ua.on("unregistered",(function(){n.emit("unregistered",n.ua)})),n.ua.on("registrationFailed",(function(){n.emit("unregistered",n.ua)})),n.ua.on("invite",(function(e){if(n.state!==r.STATUS_NULL&&n.state!==r.STATUS_COMPLETED)return n.logger.warn("Rejecting incoming call. Simple only supports 1 call at a time"),void e.reject();n.session=e,n.setupSession(),n.emit("ringing",n.session)})),n.ua.on("message",(function(e){n.emit("message",e)})),n}return i.__extends(t,e),t.prototype.call=function(e){if(this.ua&&this.checkRegistration()){if(this.state===r.STATUS_NULL||this.state===r.STATUS_COMPLETED)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.autoplay=!0,this.options.media.local.video.volume=0),this.session=this.ua.invite(e,{sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}}),this.setupSession(),this.session;this.logger.warn("Cannot make more than a single call with Simple")}else this.logger.warn("A registered UA is required for calling")},t.prototype.answer=function(){if(this.state===r.STATUS_NEW||this.state===r.STATUS_CONNECTING)return this.options.media.remote.audio&&(this.options.media.remote.audio.autoplay=!0),this.options.media.remote.video&&(this.options.media.remote.video.autoplay=!0),this.session.accept({sessionDescriptionHandlerOptions:{constraints:{audio:this.audio,video:this.video}}});this.logger.warn("No call to answer")},t.prototype.reject=function(){if(this.state===r.STATUS_NEW||this.state===r.STATUS_CONNECTING)return this.session.reject();this.logger.warn("Call is already answered")},t.prototype.hangup=function(){if(this.state===r.STATUS_CONNECTED||this.state===r.STATUS_CONNECTING||this.state===r.STATUS_NEW)return this.state!==r.STATUS_CONNECTED?this.session.cancel():this.session?this.session.bye():void 0;this.logger.warn("No active call to hang up on")},t.prototype.hold=function(){if(this.state===r.STATUS_CONNECTED&&this.session&&!this.session.localHold)return this.mute(),this.logger.log("Placing session on hold"),this.session.hold();this.logger.warn("Cannot put call on hold")},t.prototype.unhold=function(){if(this.state===r.STATUS_CONNECTED&&this.session&&this.session.localHold)return this.unmute(),this.logger.log("Placing call off hold"),this.session.unhold();this.logger.warn("Cannot unhold a call that is not on hold")},t.prototype.mute=function(){this.state===r.STATUS_CONNECTED?(this.logger.log("Muting Audio"),this.toggleMute(!0),this.emit("mute",this)):this.logger.warn("An acitve call is required to mute audio")},t.prototype.unmute=function(){this.state===r.STATUS_CONNECTED?(this.logger.log("Unmuting Audio"),this.toggleMute(!1),this.emit("unmute",this)):this.logger.warn("An active call is required to unmute audio")},t.prototype.sendDTMF=function(e){this.state===r.STATUS_CONNECTED&&this.session?(this.logger.log("Sending DTMF tone: "+e),this.session.dtmf(e)):this.logger.warn("An active call is required to send a DTMF tone")},t.prototype.message=function(e,t){this.ua&&this.checkRegistration()?e&&t?this.ua.message(e,t):this.logger.warn("A destination and message are required to send a message"):this.logger.warn("A registered UA is required to send a message")},t.prototype.checkRegistration=function(){return this.anonymous||this.ua&&this.ua.isRegistered()},t.prototype.setupRemoteMedia=function(){var e=this;if(this.session){var t,n=this.session.sessionDescriptionHandler.peerConnection;n.getReceivers?(t=new MediaStream,n.getReceivers().forEach((function(e){var n=e.track;n&&t.addTrack(n)}))):t=n.getRemoteStreams()[0],this.video?(this.options.media.remote.video.srcObject=t,this.options.media.remote.video.play().catch((function(){e.logger.log("play was rejected")}))):this.audio&&(this.options.media.remote.audio.srcObject=t,this.options.media.remote.audio.play().catch((function(){e.logger.log("play was rejected")})))}else this.logger.warn("No session to set remote media on")},t.prototype.setupLocalMedia=function(){if(this.session){if(this.video&&this.options.media.local&&this.options.media.local.video){var e,t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?(e=new MediaStream,t.getSenders().forEach((function(t){var n=t.track;n&&"video"===n.kind&&e.addTrack(n)}))):e=t.getLocalStreams()[0],this.options.media.local.video.srcObject=e,this.options.media.local.video.volume=0,this.options.media.local.video.play()}}else this.logger.warn("No session to set local media on")},t.prototype.cleanupMedia=function(){this.video&&(this.options.media.remote.video.srcObject=null,this.options.media.remote.video.pause(),this.options.media.local&&this.options.media.local.video&&(this.options.media.local.video.srcObject=null,this.options.media.local.video.pause())),this.audio&&(this.options.media.remote.audio.srcObject=null,this.options.media.remote.audio.pause())},t.prototype.setupSession=function(){var e=this;this.session?(this.state=r.STATUS_NEW,this.emit("new",this.session),this.session.on("progress",(function(){return e.onProgress()})),this.session.on("accepted",(function(){return e.onAccepted()})),this.session.on("rejected",(function(){return e.onEnded()})),this.session.on("failed",(function(){return e.onFailed()})),this.session.on("terminated",(function(){return e.onEnded()}))):this.logger.warn("No session to set up")},t.prototype.destroyMedia=function(){this.session&&this.session.sessionDescriptionHandler&&this.session.sessionDescriptionHandler.close()},t.prototype.toggleMute=function(e){if(this.session){var t=this.session.sessionDescriptionHandler.peerConnection;t.getSenders?t.getSenders().forEach((function(t){t.track&&(t.track.enabled=!e)})):t.getLocalStreams().forEach((function(t){t.getAudioTracks().forEach((function(t){t.enabled=!e})),t.getVideoTracks().forEach((function(t){t.enabled=!e}))}))}else this.logger.warn("No session to toggle mute")},t.prototype.onAccepted=function(){var e=this;this.session?(this.state=r.STATUS_CONNECTED,this.emit("connected",this.session),this.setupLocalMedia(),this.setupRemoteMedia(),this.session.sessionDescriptionHandler&&(this.session.sessionDescriptionHandler.on("addTrack",(function(){e.logger.log("A track has been added, triggering new remoteMedia setup"),e.setupRemoteMedia()})),this.session.sessionDescriptionHandler.on("addStream",(function(){e.logger.log("A stream has been added, trigger new remoteMedia setup"),e.setupRemoteMedia()}))),this.session.on("dtmf",(function(t,n){e.emit("dtmf",n.tone)})),this.session.on("bye",(function(){return e.onEnded()}))):this.logger.warn("No session for accepting")},t.prototype.onProgress=function(){this.state=r.STATUS_CONNECTING,this.emit("connecting",this.session)},t.prototype.onFailed=function(){this.onEnded()},t.prototype.onEnded=function(){this.state=r.STATUS_COMPLETED,this.emit("ended",this.session),this.cleanupMedia()},t.C=r,t}(o.EventEmitter);t.Simple=u},4280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5765),o=n(8769),s=n(8491),a=n(3847),u=n(2765);!function(e){e[e.STATUS_CONNECTING=0]="STATUS_CONNECTING",e[e.STATUS_OPEN=1]="STATUS_OPEN",e[e.STATUS_CLOSING=2]="STATUS_CLOSING",e[e.STATUS_CLOSED=3]="STATUS_CLOSED"}(r=t.TransportStatus||(t.TransportStatus={}));var c=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this,t,n)||this;return i.type=s.TypeStrings.Transport,i.reconnectionAttempts=0,i.status=r.STATUS_CONNECTING,i.configuration=i.loadConfig(n),i.server=i.configuration.wsServers[0],i}return i.__extends(t,e),t.prototype.isConnected=function(){return this.status===r.STATUS_OPEN},t.prototype.sendPromise=function(e,t){if(void 0===t&&(t={}),!this.statusAssert(r.STATUS_OPEN,t.force))return this.onError("unable to send message - WebSocket not open"),Promise.reject();var n=e.toString();return this.ws?(!0===this.configuration.traceSip&&this.logger.log("sending WebSocket message:\n\n"+n+"\n"),this.ws.send(n),Promise.resolve({msg:n})):(this.onError("unable to send message - WebSocket does not exist"),Promise.reject())},t.prototype.disconnectPromise=function(e){var t=this;return void 0===e&&(e={}),this.disconnectionPromise?this.disconnectionPromise:(e.code=e.code||1e3,this.statusTransition(r.STATUS_CLOSING,e.force)?(this.emit("disconnecting"),this.disconnectionPromise=new Promise((function(n,r){t.disconnectDeferredResolve=n,t.reconnectTimer&&(clearTimeout(t.reconnectTimer),t.reconnectTimer=void 0),t.ws?(t.stopSendingKeepAlives(),t.logger.log("closing WebSocket "+t.server.wsUri),t.ws.close(e.code,e.reason)):r("Attempted to disconnect but the websocket doesn't exist")})),this.disconnectionPromise):this.status===r.STATUS_CLOSED?Promise.resolve({overrideEvent:!0}):this.connectionPromise?this.connectionPromise.then((function(){return Promise.reject("The websocket did not disconnect")})).catch((function(){return Promise.resolve({overrideEvent:!0})})):Promise.reject("The websocket did not disconnect"))},t.prototype.connectPromise=function(e){var t=this;return void 0===e&&(e={}),this.status!==r.STATUS_CLOSING||e.force?(this.connectionPromise||(this.server=this.server||this.getNextWsServer(e.force),this.connectionPromise=new Promise((function(n,i){if((t.status===r.STATUS_OPEN||t.status===r.STATUS_CLOSING)&&!e.force)return t.logger.warn("WebSocket "+t.server.wsUri+" is already connected"),void i("Failed status check - attempted to open a connection but already open/closing");t.connectDeferredResolve=n,t.connectDeferredReject=i,t.status=r.STATUS_CONNECTING,t.emit("connecting"),t.logger.log("connecting to WebSocket "+t.server.wsUri),t.disposeWs();try{t.ws=new WebSocket(t.server.wsUri,"sip")}catch(o){return t.ws=null,t.statusTransition(r.STATUS_CLOSED,!0),t.onError("error connecting to WebSocket "+t.server.wsUri+":"+o),i("Failed to create a websocket"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0)}if(!t.ws)return i("Unexpected instance websocket not set"),t.connectDeferredResolve=void 0,void(t.connectDeferredReject=void 0);t.connectionTimeout=setTimeout((function(){t.statusTransition(r.STATUS_CLOSED),t.logger.warn("took too long to connect - exceeded time set in configuration.connectionTimeout: "+t.configuration.connectionTimeout+"s"),t.emit("disconnected",{code:1e3}),t.connectionPromise=void 0,i("Connection timeout"),t.connectDeferredResolve=void 0,t.connectDeferredReject=void 0}),1e3*t.configuration.connectionTimeout),t.boundOnOpen=t.onOpen.bind(t),t.boundOnMessage=t.onMessage.bind(t),t.boundOnClose=t.onClose.bind(t),t.boundOnError=t.onWebsocketError.bind(t),t.ws.addEventListener("open",t.boundOnOpen),t.ws.addEventListener("message",t.boundOnMessage),t.ws.addEventListener("close",t.boundOnClose),t.ws.addEventListener("error",t.boundOnError)}))),this.connectionPromise):Promise.reject("WebSocket "+this.server.wsUri+" is closing")},t.prototype.onMessage=function(e){var t,n=e.data;if(/^(\r\n)+$/.test(n))return this.clearKeepAliveTimeout(),void(!0===this.configuration.traceSip&&this.logger.log("received WebSocket message with CRLF Keep Alive response"));if(n){if("string"!==typeof n){try{t=String.fromCharCode.apply(null,new Uint8Array(n))}catch(r){return void this.logger.warn("received WebSocket binary message failed to be converted into string, message discarded")}!0===this.configuration.traceSip&&this.logger.log("received WebSocket binary message:\n\n"+n+"\n")}else!0===this.configuration.traceSip&&this.logger.log("received WebSocket text message:\n\n"+n+"\n"),t=n;this.emit("message",t)}else this.logger.warn("received empty message, message discarded")},t.prototype.onOpen=function(){if(this.status===r.STATUS_CLOSED){var e=this.ws;return this.disposeWs(),void e.close(1e3)}this.statusTransition(r.STATUS_OPEN,!0),this.emit("connected"),this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=void 0),this.logger.log("WebSocket "+this.server.wsUri+" connected"),void 0!==this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=void 0),this.reconnectionAttempts=0,this.disconnectionPromise=void 0,this.disconnectDeferredResolve=void 0,this.startSendingKeepAlives(),this.connectDeferredResolve?(this.connectDeferredResolve({overrideEvent:!0}),this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0):this.logger.warn("Unexpected websocket.onOpen with no connectDeferredResolve")},t.prototype.onClose=function(e){if(this.logger.log("WebSocket disconnected (code: "+e.code+(e.reason?"| reason: "+e.reason:"")+")"),this.status!==r.STATUS_CLOSING&&(this.logger.warn("WebSocket closed without SIP.js requesting it"),this.emit("transportError")),this.stopSendingKeepAlives(),this.connectionTimeout&&clearTimeout(this.connectionTimeout),this.connectDeferredReject&&this.connectDeferredReject("Websocket Closed"),this.connectionTimeout=void 0,this.connectionPromise=void 0,this.connectDeferredResolve=void 0,this.connectDeferredReject=void 0,this.disconnectDeferredResolve)return this.disconnectDeferredResolve({overrideEvent:!0}),this.statusTransition(r.STATUS_CLOSED),void(this.disconnectDeferredResolve=void 0);this.statusTransition(r.STATUS_CLOSED,!0),this.emit("disconnected",{code:e.code,reason:e.reason}),this.reconnect()},t.prototype.disposeWs=function(){this.ws&&(this.ws.removeEventListener("open",this.boundOnOpen),this.ws.removeEventListener("message",this.boundOnMessage),this.ws.removeEventListener("close",this.boundOnClose),this.ws.removeEventListener("error",this.boundOnError),this.ws=void 0)},t.prototype.onError=function(e){this.logger.warn("Transport error: "+e),this.emit("transportError")},t.prototype.onWebsocketError=function(){this.onError("The Websocket had an error")},t.prototype.reconnect=function(){var e=this;if(this.reconnectionAttempts>0&&this.logger.log("Reconnection attempt "+this.reconnectionAttempts+" failed"),this.noAvailableServers())return this.logger.warn("attempted to get next ws server but there are no available ws servers left"),this.logger.warn("no available ws servers left - going to closed state"),this.statusTransition(r.STATUS_CLOSED,!0),this.emit("closed"),void this.resetServerErrorStatus();this.isConnected()&&(this.logger.warn("attempted to reconnect while connected - forcing disconnect"),this.disconnect({force:!0})),this.reconnectionAttempts+=1,this.reconnectionAttempts>this.configuration.maxReconnectionAttempts?(this.logger.warn("maximum reconnection attempts for WebSocket "+this.server.wsUri),this.logger.log("transport "+this.server.wsUri+" failed | connection state set to 'error'"),this.server.isError=!0,this.emit("transportError"),this.noAvailableServers()||(this.server=this.getNextWsServer()),this.reconnectionAttempts=0,this.reconnect()):(this.logger.log("trying to reconnect to WebSocket "+this.server.wsUri+" (reconnection attempt "+this.reconnectionAttempts+")"),this.reconnectTimer=setTimeout((function(){e.connect(),e.reconnectTimer=void 0}),1===this.reconnectionAttempts?0:1e3*this.configuration.reconnectionTimeout))},t.prototype.resetServerErrorStatus=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){t[e].isError=!1}},t.prototype.getNextWsServer=function(e){if(void 0===e&&(e=!1),this.noAvailableServers())throw this.logger.warn("attempted to get next ws server but there are no available ws servers left"),new Error("Attempted to get next ws server, but there are no available ws servers left.");for(var t=[],n=0,r=this.configuration.wsServers;n<r.length;n++){var i=r[n];i.isError&&!e||(0===t.length?t.push(i):i.weight>t[0].weight?t=[i]:i.weight===t[0].weight&&t.push(i))}return t[Math.floor(Math.random()*t.length)]},t.prototype.noAvailableServers=function(){for(var e=0,t=this.configuration.wsServers;e<t.length;e++){if(!t[e].isError)return!1}return!0},t.prototype.sendKeepAlive=function(){var e=this;if(!this.keepAliveDebounceTimeout)return this.keepAliveDebounceTimeout=setTimeout((function(){e.emit("keepAliveDebounceTimeout"),e.clearKeepAliveTimeout()}),1e3*this.configuration.keepAliveDebounce),this.send("\r\n\r\n")},t.prototype.clearKeepAliveTimeout=function(){this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveDebounceTimeout=void 0},t.prototype.startSendingKeepAlives=function(){var e=this;this.configuration.keepAliveInterval&&!this.keepAliveInterval&&(this.keepAliveInterval=setInterval((function(){e.sendKeepAlive(),e.startSendingKeepAlives()}),function(e){var t=.8*e;return 1e3*(Math.random()*(e-t)+t)}(this.configuration.keepAliveInterval)))},t.prototype.stopSendingKeepAlives=function(){this.keepAliveInterval&&clearInterval(this.keepAliveInterval),this.keepAliveDebounceTimeout&&clearTimeout(this.keepAliveDebounceTimeout),this.keepAliveInterval=void 0,this.keepAliveDebounceTimeout=void 0},t.prototype.statusAssert=function(e,t){return e===this.status||(t?(this.logger.warn("Attempted to assert "+Object.keys(r)[this.status]+" as "+Object.keys(r)[e]+"- continuing with option: 'force'"),!0):(this.logger.warn("Tried to assert "+Object.keys(r)[e]+" but is currently "+Object.keys(r)[this.status]),!1))},t.prototype.statusTransition=function(e,t){return void 0===t&&(t=!1),this.logger.log("Attempting to transition status from "+Object.keys(r)[this.status]+" to "+Object.keys(r)[e]),e===r.STATUS_CONNECTING&&this.statusAssert(r.STATUS_CLOSED,t)||e===r.STATUS_OPEN&&this.statusAssert(r.STATUS_CONNECTING,t)||e===r.STATUS_CLOSING&&this.statusAssert(r.STATUS_OPEN,t)||e===r.STATUS_CLOSED?(this.status=e,!0):(this.logger.warn("Status transition failed - result: no-op - reason: either gave an nonexistent status or attempted illegal transition"),!1)},t.prototype.loadConfig=function(e){var t={wsServers:[{scheme:"WSS",sipUri:"<sip:edge.sip.onsip.com;transport=ws;lr>",weight:0,wsUri:"wss://edge.sip.onsip.com",isError:!1}],connectionTimeout:5,maxReconnectionAttempts:3,reconnectionTimeout:4,keepAliveInterval:0,keepAliveDebounce:10,traceSip:!1},n=this.getConfigurationCheck();for(var r in n.mandatory){if(!e.hasOwnProperty(r))throw new a.Exceptions.ConfigurationError(r);var i=e[r];if(void 0===(o=n.mandatory[r](i)))throw new a.Exceptions.ConfigurationError(r,i);t[r]=o}for(var r in n.optional)if(e.hasOwnProperty(r)){var o;if((i=e[r])instanceof Array&&0===i.length||null===i||""===i||void 0===i||"number"===typeof i&&isNaN(i))continue;if(void 0===(o=n.optional[r](i)))throw new a.Exceptions.ConfigurationError(r,i);t[r]=o}var s={};for(var r in t)t.hasOwnProperty(r)&&(s[r]={value:t[r]});var u=Object.defineProperties({},s);for(var r in this.logger.log("configuration parameters after validation:"),t)t.hasOwnProperty(r)&&this.logger.log("\xb7 "+r+": "+JSON.stringify(t[r]));return u},t.prototype.getConfigurationCheck=function(){return{mandatory:{},optional:{wsServers:function(e){if("string"===typeof e)e=[{wsUri:e}];else{if(!(e instanceof Array))return;for(var t=0;t<e.length;t++)"string"===typeof e[t]&&(e[t]={wsUri:e[t]})}if(0===e.length)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(!i.wsUri)return;if(i.weight&&!Number(i.weight))return;var s=o.Grammar.parse(i.wsUri,"absoluteURI");if(-1===s)return;if(["wss","ws","udp"].indexOf(s.scheme)<0)return;i.sipUri="<sip:"+s.host+(s.port?":"+s.port:"")+";transport="+s.scheme.replace(/^wss$/i,"ws")+";lr>",i.weight||(i.weight=0),i.isError=!1,i.scheme=s.scheme.toUpperCase()}return e},keepAliveInterval:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},keepAliveDebounce:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},traceSip:function(e){if("boolean"===typeof e)return e},connectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}},maxReconnectionAttempts:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>=0)return t}},reconnectionTimeout:function(e){if(u.Utils.isDecimal(e)){var t=Number(e);if(t>0)return t}}}}},t.C=r,t}(o.Transport);t.Transport=c},906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765).__importStar(n(2274));t.Modifiers=r;var i=n(3257);t.Simple=i.Simple;var o=n(402);t.SessionDescriptionHandler=o.SessionDescriptionHandler;var s=n(4280);t.Transport=s.Transport},6726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1130),i=function(){function e(e,t){this.core=e,this.dialogState=t,this.core.dialogs.set(this.id,this)}return e.initialDialogStateForUserAgentClient=function(e,t){var n=t.getHeaders("record-route").reverse(),i=t.parseHeader("contact");if(!i)throw new Error("Contact undefined.");if(!(i instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=i.uri,s=e.cseq,a=e.callId,u=e.fromTag,c=t.toTag;if(!a)throw new Error("Call id undefined.");if(!u)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");var l=e.from.uri,d=e.to.uri;if(!t.statusCode)throw new Error("Incoming response status code undefined.");return{id:a+u+c,early:t.statusCode<200,callId:a,localTag:u,remoteTag:c,localSequenceNumber:s,remoteSequenceNumber:undefined,localURI:l,remoteURI:d,remoteTarget:o,routeSet:n,secure:!1}},e.initialDialogStateForUserAgentServer=function(e,t,n){void 0===n&&(n=!1);var i=e.getHeaders("record-route"),o=e.parseHeader("contact");if(!o)throw new Error("Contact undefined.");if(!(o instanceof r.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var s=o.uri,a=e.cseq,u=e.callId,c=t,l=e.fromTag,d=e.from.uri;return{id:u+c+l,early:n,callId:u,localTag:c,remoteTag:l,localSequenceNumber:undefined,remoteSequenceNumber:a,localURI:e.to.uri,remoteURI:d,remoteTarget:s,routeSet:i,secure:!1}},e.prototype.dispose=function(){this.core.dialogs.delete(this.id)},Object.defineProperty(e.prototype,"id",{get:function(){return this.dialogState.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"early",{get:function(){return this.dialogState.early},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callId",{get:function(){return this.dialogState.callId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localTag",{get:function(){return this.dialogState.localTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTag",{get:function(){return this.dialogState.remoteTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localSequenceNumber",{get:function(){return this.dialogState.localSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteSequenceNumber",{get:function(){return this.dialogState.remoteSequenceNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localURI",{get:function(){return this.dialogState.localURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteURI",{get:function(){return this.dialogState.remoteURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteTarget",{get:function(){return this.dialogState.remoteTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"routeSet",{get:function(){return this.dialogState.routeSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secure",{get:function(){return this.dialogState.secure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userAgentCore",{get:function(){return this.core},enumerable:!0,configurable:!0}),e.prototype.confirm=function(){this.dialogState.early=!1},e.prototype.receiveRequest=function(e){if(e.method!==r.C.ACK){if(this.remoteSequenceNumber){if(e.cseq<=this.remoteSequenceNumber)throw new Error("Out of sequence in dialog request. Did you forget to call sequenceGuard()?");this.dialogState.remoteSequenceNumber=e.cseq}this.remoteSequenceNumber||(this.dialogState.remoteSequenceNumber=e.cseq)}},e.prototype.recomputeRouteSet=function(e){this.dialogState.routeSet=e.getHeaders("record-route").reverse()},e.prototype.createOutgoingRequestMessage=function(e,t){var n,r=this.remoteURI,i=this.remoteTag,o=this.localURI,s=this.localTag,a=this.callId;n=t&&t.cseq?t.cseq:this.dialogState.localSequenceNumber?this.dialogState.localSequenceNumber+=1:this.dialogState.localSequenceNumber=1;var u=this.remoteTarget,c=this.routeSet,l=t&&t.extraHeaders,d=t&&t.body;return this.userAgentCore.makeOutgoingRequestMessage(e,u,o,r,{callId:a,cseq:n,fromTag:s,toTag:i,routeSet:c},l,d)},e.prototype.sequenceGuard=function(e){return e.method===r.C.ACK||(!(this.remoteSequenceNumber&&e.cseq<=this.remoteSequenceNumber)||(this.core.replyStateless(e,{statusCode:500}),!1))},e}();t.Dialog=i},9121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(6726),t),r.__exportStar(n(1689),t),r.__exportStar(n(7250),t)},1689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(5509),s=n(3505),a=n(438),u=n(5864),c=n(3589),l=n(5010),d=n(582),f=n(8494),p=n(5997),h=n(68),g=n(8639),v=n(8855),m=n(9311),y=n(3963),S=n(5385),b=function(e){function t(t,n,r,i){var s=e.call(this,n,r)||this;return s.initialTransaction=t,s._signalingState=o.SignalingState.Initial,s.ackWait=!1,s.delegate=i,t instanceof a.InviteServerTransaction&&(s.ackWait=!0),s.early||s.start2xxRetransmissionTimer(),s.signalingStateTransition(t.request),s.logger=n.loggerFactory.getLogger("sip.invite-dialog"),s.logger.log("INVITE dialog "+s.id+" constructed"),s}return r.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._signalingState=o.SignalingState.Closed,this._offer=void 0,this._answer=void 0,this.invite2xxTimer&&(clearTimeout(this.invite2xxTimer),this.invite2xxTimer=void 0),this.logger.log("INVITE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"sessionState",{get:function(){return this.early?o.SessionState.Early:this.ackWait?o.SessionState.AckWait:this._signalingState===o.SignalingState.Closed?o.SessionState.Terminated:o.SessionState.Confirmed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"signalingState",{get:function(){return this._signalingState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offer",{get:function(){return this._offer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"answer",{get:function(){return this._answer},enumerable:!0,configurable:!0}),t.prototype.confirm=function(){this.early&&this.start2xxRetransmissionTimer(),e.prototype.confirm.call(this)},t.prototype.reConfirm=function(){this.reinviteUserAgentServer&&this.startReInvite2xxRetransmissionTimer()},t.prototype.ack=function(e){var t;if(void 0===e&&(e={}),this.logger.log("INVITE dialog "+this.id+" sending ACK request"),this.reinviteUserAgentClient){if(!(this.reinviteUserAgentClient.transaction instanceof a.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");t=this.reinviteUserAgentClient.transaction,this.reinviteUserAgentClient=void 0}else{if(!(this.initialTransaction instanceof a.InviteClientTransaction))throw new Error("Initial transaction not instance of InviteClientTransaction.");t=this.initialTransaction}e.cseq=t.request.cseq;var n=this.createOutgoingRequestMessage(i.C.ACK,e);return t.ackResponse(n),this.signalingStateTransition(n),{message:n}},t.prototype.bye=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending BYE request"),this.initialTransaction instanceof a.InviteServerTransaction){if(this.early)throw new Error("UAS MUST NOT send a BYE on early dialogs.");if(this.ackWait&&this.initialTransaction.state!==a.TransactionState.Terminated)throw new Error("UAS MUST NOT send a BYE on a confirmed dialog until it has received an ACK for its 2xx response or until the server transaction times out.")}return new u.ByeUserAgentClient(this,e,t)},t.prototype.info=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INFO request"),this.early)throw new Error("Dialog not confirmed.");return new l.InfoUserAgentClient(this,e,t)},t.prototype.invite=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending INVITE request"),this.early)throw new Error("Dialog not confirmed.");if(this.reinviteUserAgentClient)throw new Error("There is an ongoing re-INVITE client transaction.");if(this.reinviteUserAgentServer)throw new Error("There is an ongoing re-INVITE server transaction.");return new v.ReInviteUserAgentClient(this,e,t)},t.prototype.notify=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending NOTIFY request"),this.early)throw new Error("Dialog not confirmed.");return new f.NotifyUserAgentClient(this,e,t)},t.prototype.prack=function(e,t){return this.logger.log("INVITE dialog "+this.id+" sending PRACK request"),new h.PrackUserAgentClient(this,e,t)},t.prototype.refer=function(e,t){if(this.logger.log("INVITE dialog "+this.id+" sending REFER request"),this.early)throw new Error("Dialog not confirmed.");return new y.ReferUserAgentClient(this,e,t)},t.prototype.receiveRequest=function(t){if(this.logger.log("INVITE dialog "+this.id+" received "+t.method+" request"),t.method===i.C.ACK){if(this.ackWait){if(this.initialTransaction instanceof a.InviteClientTransaction)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.initialTransaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.ackWait=!1}else{if(!this.reinviteUserAgentServer)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");if(this.reinviteUserAgentServer.transaction.request.cseq!==t.cseq)return void this.logger.warn("INVITE dialog "+this.id+" received unexpected "+t.method+" request, dropping.");this.reinviteUserAgentServer=void 0}return this.signalingStateTransition(t),void(this.delegate&&this.delegate.onAck&&this.delegate.onAck({message:t}))}if(this.sequenceGuard(t)){if(t.method===i.C.INVITE){if(this.reinviteUserAgentServer){var n=["Retry-After: "+(Math.floor(10*Math.random())+1)];return void this.core.replyStateless(t,{statusCode:500,extraHeaders:n})}if(this.reinviteUserAgentClient)return void this.core.replyStateless(t,{statusCode:491})}if(e.prototype.receiveRequest.call(this,t),t.method===i.C.INVITE){var r=t.parseHeader("contact");if(!r)throw new Error("Contact undefined.");if(!(r instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");this.dialogState.remoteTarget=r.uri}switch(t.method){case i.C.BYE:var o=new c.ByeUserAgentServer(this,t);this.delegate&&this.delegate.onBye?this.delegate.onBye(o):o.accept(),this.dispose();break;case i.C.INFO:o=new d.InfoUserAgentServer(this,t);this.delegate&&this.delegate.onInfo?this.delegate.onInfo(o):o.reject({statusCode:469,extraHeaders:["Recv-Info :"]});break;case i.C.INVITE:o=new m.ReInviteUserAgentServer(this,t);this.signalingStateTransition(t),this.delegate&&this.delegate.onInvite?this.delegate.onInvite(o):o.reject({statusCode:488});break;case i.C.NOTIFY:o=new p.NotifyUserAgentServer(this,t);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(o):o.accept();break;case i.C.PRACK:o=new g.PrackUserAgentServer(this,t);this.delegate&&this.delegate.onPrack?this.delegate.onPrack(o):o.accept();break;case i.C.REFER:o=new S.ReferUserAgentServer(this,t);this.delegate&&this.delegate.onRefer?this.delegate.onRefer(o):o.reject();break;default:this.logger.log("INVITE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501})}}else this.logger.log("INVITE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.reliableSequenceGuard=function(e){var t=e.statusCode;if(!t)throw new Error("Status code undefined");if(t>100&&t<200){var n=e.getHeader("require"),r=e.getHeader("rseq"),i=n&&n.includes("100rel")&&r?Number(r):void 0;if(i){if(this.rseq&&this.rseq+1!==i)return!1;this.rseq||(this.rseq=i)}}return!0},t.prototype.signalingStateTransition=function(e){var t=i.getBody(e);if(t&&"session"===t.contentDisposition){if(e instanceof i.IncomingRequestMessage)switch(this._signalingState){case o.SignalingState.Initial:case o.SignalingState.Stable:this._signalingState=o.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case o.SignalingState.HaveLocalOffer:this._signalingState=o.SignalingState.Stable,this._answer=t;break;case o.SignalingState.HaveRemoteOffer:case o.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.IncomingResponseMessage)switch(this._signalingState){case o.SignalingState.Initial:case o.SignalingState.Stable:this._signalingState=o.SignalingState.HaveRemoteOffer,this._offer=t,this._answer=void 0;break;case o.SignalingState.HaveLocalOffer:this._signalingState=o.SignalingState.Stable,this._answer=t;break;case o.SignalingState.HaveRemoteOffer:case o.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(e instanceof i.OutgoingRequestMessage)switch(this._signalingState){case o.SignalingState.Initial:case o.SignalingState.Stable:this._signalingState=o.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case o.SignalingState.HaveLocalOffer:break;case o.SignalingState.HaveRemoteOffer:this._signalingState=o.SignalingState.Stable,this._answer=t;break;case o.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}if(i.isBody(e))switch(this._signalingState){case o.SignalingState.Initial:case o.SignalingState.Stable:this._signalingState=o.SignalingState.HaveLocalOffer,this._offer=t,this._answer=void 0;break;case o.SignalingState.HaveLocalOffer:break;case o.SignalingState.HaveRemoteOffer:this._signalingState=o.SignalingState.Stable,this._answer=t;break;case o.SignalingState.Closed:break;default:throw new Error("Unexpected signaling state.")}}},t.prototype.start2xxRetransmissionTimer=function(){var e=this;if(this.initialTransaction instanceof a.InviteServerTransaction){var t=this.initialTransaction,n=s.Timers.T1;this.invite2xxTimer=setTimeout((function r(){e.ackWait?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),n=Math.min(2*n,s.Timers.T2),e.invite2xxTimer=setTimeout(r,n)):e.invite2xxTimer=void 0}),n);t.addListener("stateChanged",(function n(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",n),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.ackWait&&(e.delegate&&e.delegate.onAckTimeout?e.delegate.onAckTimeout():e.bye()))}))}},t.prototype.startReInvite2xxRetransmissionTimer=function(){var e=this;if(this.reinviteUserAgentServer&&this.reinviteUserAgentServer.transaction instanceof a.InviteServerTransaction){var t=this.reinviteUserAgentServer.transaction,n=s.Timers.T1;this.invite2xxTimer=setTimeout((function r(){e.reinviteUserAgentServer?(e.logger.log("No ACK for 2xx response received, attempting retransmission"),t.retransmitAcceptedResponse(),n=Math.min(2*n,s.Timers.T2),e.invite2xxTimer=setTimeout(r,n)):e.invite2xxTimer=void 0}),n);t.addListener("stateChanged",(function n(){t.state===a.TransactionState.Terminated&&(t.removeListener("stateChanged",n),e.invite2xxTimer&&(clearTimeout(e.invite2xxTimer),e.invite2xxTimer=void 0),e.reinviteUserAgentServer)}))}},t}(n(6726).Dialog);t.SessionDialog=b},7250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(3738),s=n(3505),a=n(8623),u=n(5997),c=n(2670),l=function(e){function t(t,n,r,i,o,s){var a=e.call(this,i,o)||this;return a.delegate=s,a._autoRefresh=!1,a._subscriptionEvent=t,a._subscriptionExpires=n,a._subscriptionExpiresInitial=n,a._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),a._subscriptionRefresh=void 0,a._subscriptionRefreshLastSet=void 0,a._subscriptionState=r,a.logger=i.loggerFactory.getLogger("sip.subscribe-dialog"),a.logger.log("SUBSCRIBE dialog "+a.id+" constructed"),a}return r.__extends(t,e),t.initialDialogStateForSubscription=function(e,t){var n=t.getHeaders("record-route"),r=t.parseHeader("contact");if(!r)throw new Error("Contact undefined.");if(!(r instanceof i.NameAddrHeader))throw new Error("Contact not instance of NameAddrHeader.");var o=r.uri,s=e.cseq,a=e.callId,u=e.fromTag,c=t.fromTag;if(!a)throw new Error("Call id undefined.");if(!u)throw new Error("From tag undefined.");if(!c)throw new Error("To tag undefined.");if(!e.from)throw new Error("From undefined.");if(!e.to)throw new Error("To undefined.");return{id:a+u+c,early:!1,callId:a,localTag:u,remoteTag:c,localSequenceNumber:s,remoteSequenceNumber:undefined,localURI:e.from.uri,remoteURI:e.to.uri,remoteTarget:o,routeSet:n,secure:!1}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.N&&(clearTimeout(this.N),this.N=void 0),this.refreshTimerClear(),this.logger.log("SUBSCRIBE dialog "+this.id+" destroyed")},Object.defineProperty(t.prototype,"autoRefresh",{get:function(){return this._autoRefresh},set:function(e){this._autoRefresh=!0,this.refreshTimerSet()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionEvent",{get:function(){return this._subscriptionEvent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpires",{get:function(){var e=Math.floor(Date.now()/1e3)-this._subscriptionExpiresLastSet,t=this._subscriptionExpires-e;return Math.max(t,0)},set:function(e){if(e<0)throw new Error("Expires must be greater than or equal to zero.");if(this._subscriptionExpires=e,this._subscriptionExpiresLastSet=Math.floor(Date.now()/1e3),this.autoRefresh){var t=this.subscriptionRefresh;(void 0===t||t>=e)&&this.refreshTimerSet()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionExpiresInitial",{get:function(){return this._subscriptionExpiresInitial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionRefresh",{get:function(){if(void 0!==this._subscriptionRefresh&&void 0!==this._subscriptionRefreshLastSet){var e=Math.floor(Date.now()/1e3)-this._subscriptionRefreshLastSet,t=this._subscriptionRefresh-e;return Math.max(t,0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionState",{get:function(){return this._subscriptionState},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(t){if(this.logger.log("SUBSCRIBE dialog "+this.id+" received "+t.method+" request"),this.sequenceGuard(t))if(e.prototype.receiveRequest.call(this,t),t.method===i.C.NOTIFY)this.onNotify(t);else this.logger.log("SUBSCRIBE dialog "+this.id+" received unimplemented "+t.method+" request"),this.core.replyStateless(t,{statusCode:501});else this.logger.log("SUBSCRIBE dialog "+this.id+" rejected out of order "+t.method+" request.")},t.prototype.refresh=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: "+this.subscriptionExpiresInitial),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.subscribe=function(e,t){var n=this;if(void 0===t&&(t={}),this.subscriptionState!==o.SubscriptionState.Pending&&this.subscriptionState!==o.SubscriptionState.Active)throw new Error("Invalid state "+this.subscriptionState+'. May only re-subscribe while in state "pending" or "active".');this.logger.log("SUBSCRIBE dialog "+this.id+" sending SUBSCRIBE request");var r=new c.ReSubscribeUserAgentClient(this,e,t);return this.N=setTimeout((function(){return n.timer_N()}),s.Timers.TIMER_N),r},t.prototype.terminate=function(){this.stateTransition(o.SubscriptionState.Terminated),this.onTerminated()},t.prototype.unsubscribe=function(){var e="Allow: "+a.AllowedMethods.toString(),t={};return t.extraHeaders=(t.extraHeaders||[]).slice(),t.extraHeaders.push(e),t.extraHeaders.push("Event: "+this.subscriptionEvent),t.extraHeaders.push("Expires: 0"),t.extraHeaders.push("Contact: "+this.core.configuration.contact.toString()),this.subscribe(void 0,t)},t.prototype.onNotify=function(e){var t=e.parseHeader("Event").event;if(t&&t===this.subscriptionEvent){this.N&&(clearTimeout(this.N),this.N=void 0);var n=e.parseHeader("Subscription-State");if(n&&n.state){var r=n.state,i=n.expires?Math.max(n.expires,0):void 0;switch(r){case"pending":this.stateTransition(o.SubscriptionState.Pending,i);break;case"active":this.stateTransition(o.SubscriptionState.Active,i);break;case"terminated":this.stateTransition(o.SubscriptionState.Terminated,i);break;default:this.logger.warn("Unrecognized subscription state.")}var s=new u.NotifyUserAgentServer(this,e);this.delegate&&this.delegate.onNotify?this.delegate.onNotify(s):s.accept()}else this.core.replyStateless(e,{statusCode:489})}else this.core.replyStateless(e,{statusCode:489})},t.prototype.onRefresh=function(e){this.delegate&&this.delegate.onRefresh&&this.delegate.onRefresh(e)},t.prototype.onTerminated=function(){this.delegate&&this.delegate.onTerminated&&this.delegate.onTerminated()},t.prototype.refreshTimerClear=function(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=void 0)},t.prototype.refreshTimerSet=function(){var e=this;if(this.refreshTimerClear(),this.autoRefresh&&this.subscriptionExpires>0){var t=900*this.subscriptionExpires;this._subscriptionRefresh=Math.floor(t/1e3),this._subscriptionRefreshLastSet=Math.floor(Date.now()/1e3),this.refreshTimer=setTimeout((function(){e.refreshTimer=void 0,e._subscriptionRefresh=void 0,e._subscriptionRefreshLastSet=void 0,e.onRefresh(e.refresh())}),t)}},t.prototype.stateTransition=function(e,t){var n=this,r=function(){n.logger.warn("Invalid subscription state transition from "+n.subscriptionState+" to "+e)};switch(e){case o.SubscriptionState.Initial:case o.SubscriptionState.NotifyWait:return void r();case o.SubscriptionState.Pending:if(this.subscriptionState!==o.SubscriptionState.NotifyWait&&this.subscriptionState!==o.SubscriptionState.Pending)return void r();break;case o.SubscriptionState.Active:case o.SubscriptionState.Terminated:if(this.subscriptionState!==o.SubscriptionState.NotifyWait&&this.subscriptionState!==o.SubscriptionState.Pending&&this.subscriptionState!==o.SubscriptionState.Active)return void r();break;default:return void r()}e===o.SubscriptionState.Pending&&t&&(this.subscriptionExpires=t),e===o.SubscriptionState.Active&&t&&(this.subscriptionExpires=t),e===o.SubscriptionState.Terminated&&this.dispose(),this._subscriptionState=e},t.prototype.timer_N=function(){this.subscriptionState!==o.SubscriptionState.Terminated&&(this.stateTransition(o.SubscriptionState.Terminated),this.onTerminated())},t}(n(6726).Dialog);t.SubscriptionDialog=l},8142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.setPrototypeOf(r,n.prototype),r}return r.__extends(t,e),t}(Error);t.Exception=i},7571:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(8142),t),r.__exportStar(n(3321),t),r.__exportStar(n(5857),t)},3321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t){return e.call(this,t||"Transaction state error.")||this}return r.__extends(t,e),t}(n(8142).Exception);t.TransactionStateError=i},5857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t){return e.call(this,t||"Unspecified transport error.")||this}return r.__extends(t,e),t}(n(8142).Exception);t.TransportError=i},8769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(9121),t),r.__exportStar(n(7571),t),r.__exportStar(n(6125),t),r.__exportStar(n(1130),t),r.__exportStar(n(5509),t),r.__exportStar(n(3738),t),r.__exportStar(n(438),t),r.__exportStar(n(999),t),r.__exportStar(n(4013),t),r.__exportStar(n(3505),t),r.__exportStar(n(4592),t)},6125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(8805),t),r.__exportStar(n(7420),t),r.__exportStar(n(7503),t)},8805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.error=0]="error",e[e.warn=1]="warn",e[e.log=2]="log",e[e.debug=3]="debug"}(t.Levels||(t.Levels={}))},7420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8805),i=n(7503),o=function(){function e(){this.builtinEnabled=!0,this._level=r.Levels.log,this.loggers={},this.logger=this.getLogger("sip:loggerfactory")}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},set:function(e){e>=0&&e<=3?this._level=e:e>3?this._level=3:r.Levels.hasOwnProperty(e)?this._level=e:this.logger.error("invalid 'level' parameter value: "+JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connector",{get:function(){return this._connector},set:function(e){e?"function"===typeof e?this._connector=e:this.logger.error("invalid 'connector' parameter value: "+JSON.stringify(e)):this._connector=void 0},enumerable:!0,configurable:!0}),e.prototype.getLogger=function(e,t){if(t&&3===this.level)return new i.Logger(this,e,t);if(this.loggers[e])return this.loggers[e];var n=new i.Logger(this,e);return this.loggers[e]=n,n},e.prototype.genericLog=function(e,t,n,i){this.level>=e&&this.builtinEnabled&&this.print(e,t,n,i),this.connector&&this.connector(r.Levels[e],t,n,i)},e.prototype.print=function(e,t,n,i){if("string"===typeof i){var o=[new Date,t];n&&o.push(n),i=o.concat(i).join(" | ")}switch(e){case r.Levels.error:console.error(i);break;case r.Levels.warn:console.warn(i);break;case r.Levels.log:console.log(i);break;case r.Levels.debug:console.debug(i)}},e}();t.LoggerFactory=o},7503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8805),i=function(){function e(e,t,n){this.logger=e,this.category=t,this.label=n}return e.prototype.error=function(e){this.genericLog(r.Levels.error,e)},e.prototype.warn=function(e){this.genericLog(r.Levels.warn,e)},e.prototype.log=function(e){this.genericLog(r.Levels.log,e)},e.prototype.debug=function(e){this.genericLog(r.Levels.debug,e)},e.prototype.genericLog=function(e,t){this.logger.genericLog(e,this.category,this.label,t)},e}();t.Logger=i},8957:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6587),i=n(2027),o=n(6910);function s(e){return!(!e||"string"!==typeof e.content||"string"!==typeof e.contentType||void 0!==e.contentDisposition)||"string"===typeof e.contentDisposition}function a(e){return"application/sdp"===e?"session":"render"}t.fromBodyLegacy=function(e){var t="string"===typeof e?e:e.body,n="string"===typeof e?"application/sdp":e.contentType;return{contentDisposition:a(n),contentType:n,content:t}},t.getBody=function(e){var t,n,u,c;if(e instanceof r.IncomingRequestMessage&&e.body&&(t=(c=e.parseHeader("Content-Disposition"))?c.type:void 0,n=e.parseHeader("Content-Type"),u=e.body),e instanceof i.IncomingResponseMessage&&e.body&&(t=(c=e.parseHeader("Content-Disposition"))?c.type:void 0,n=e.parseHeader("Content-Type"),u=e.body),e instanceof o.OutgoingRequestMessage&&e.body)if(t=e.getHeader("Content-Disposition"),n=e.getHeader("Content-Type"),"string"===typeof e.body){if(!n)throw new Error("Header content type header does not equal body content type.");u=e.body}else{if(n&&n!==e.body.contentType)throw new Error("Header content type header does not equal body content type.");n=e.body.contentType,u=e.body.body}if(s(e)&&(t=e.contentDisposition,n=e.contentType,u=e.content),u){if(n&&!t&&(t=a(n)),!t)throw new Error("Content disposition undefined.");if(!n)throw new Error("Content type undefined.");return{contentDisposition:t,contentType:n,content:u}}},t.isBody=s},1009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765).__importDefault(n(3074)),i=n(1701),o=function(){function e(e,t,n){this.logger=e.getLogger("sipjs.digestauthentication"),this.username=t,this.password=n,this.nc=0,this.ncHex="00000000"}return e.prototype.authenticate=function(e,t,n){if(this.algorithm=t.algorithm,this.realm=t.realm,this.nonce=t.nonce,this.opaque=t.opaque,this.stale=t.stale,this.algorithm){if("MD5"!==this.algorithm)return this.logger.warn("challenge with Digest algorithm different than 'MD5', authentication aborted"),!1}else this.algorithm="MD5";if(!this.realm)return this.logger.warn("challenge without Digest realm, authentication aborted"),!1;if(!this.nonce)return this.logger.warn("challenge without Digest nonce, authentication aborted"),!1;if(t.qop)if(t.qop.indexOf("auth")>-1)this.qop="auth";else{if(!(t.qop.indexOf("auth-int")>-1))return this.logger.warn("challenge without Digest qop different than 'auth' or 'auth-int', authentication aborted"),!1;this.qop="auth-int"}else this.qop=void 0;return this.method=e.method,this.uri=e.ruri,this.cnonce=i.createRandomToken(12),this.nc+=1,this.updateNcHex(),4294967296===this.nc&&(this.nc=1,this.ncHex="00000001"),this.calculateResponse(n),!0},e.prototype.toString=function(){var e=[];if(!this.response)throw new Error("response field does not exist, cannot generate Authorization header");return e.push("algorithm="+this.algorithm),e.push('username="'+this.username+'"'),e.push('realm="'+this.realm+'"'),e.push('nonce="'+this.nonce+'"'),e.push('uri="'+this.uri+'"'),e.push('response="'+this.response+'"'),this.opaque&&e.push('opaque="'+this.opaque+'"'),this.qop&&(e.push("qop="+this.qop),e.push('cnonce="'+this.cnonce+'"'),e.push("nc="+this.ncHex)),"Digest "+e.join(", ")},e.prototype.updateNcHex=function(){var e=Number(this.nc).toString(16);this.ncHex="00000000".substr(0,8-e.length)+e},e.prototype.calculateResponse=function(e){var t,n=r.default(this.username+":"+this.realm+":"+this.password);"auth"===this.qop?(t=r.default(this.method+":"+this.uri),this.response=r.default(n+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth:"+t)):"auth-int"===this.qop?(t=r.default(this.method+":"+this.uri+":"+r.default(e||"")),this.response=r.default(n+":"+this.nonce+":"+this.ncHex+":"+this.cnonce+":auth-int:"+t)):void 0===this.qop&&(t=r.default(this.method+":"+this.uri),this.response=r.default(n+":"+this.nonce+":"+t))},e}();t.DigestAuthentication=o},1629:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765).__importStar(n(7005));!function(e){e.parse=function(e,t){var n={startRule:t};try{r.parse(e,n)}catch(i){n.data=-1}return n.data},e.nameAddrHeaderParse=function(t){var n=e.parse(t,"Name_Addr_Header");return-1!==n?n:void 0},e.URIParse=function(t){var n=e.parse(t,"SIP_URI");return-1!==n?n:void 0}}(t.Grammar||(t.Grammar={}))},4800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1629),i=n(1701),o=function(){function e(){this.headers={}}return e.prototype.addHeader=function(e,t){var n={raw:t};e=i.headerize(e),this.headers[e]?this.headers[e].push(n):this.headers[e]=[n]},e.prototype.getHeader=function(e){var t=this.headers[i.headerize(e)];if(t)return t[0]?t[0].raw:void 0},e.prototype.getHeaders=function(e){var t=this.headers[i.headerize(e)],n=[];if(!t)return[];for(var r=0,o=t;r<o.length;r++){var s=o[r];n.push(s.raw)}return n},e.prototype.hasHeader=function(e){return!!this.headers[i.headerize(e)]},e.prototype.parseHeader=function(e,t){if(void 0===t&&(t=0),e=i.headerize(e),this.headers[e]&&!(t>=this.headers[e].length)){var n=this.headers[e][t],o=n.raw;if(n.parsed)return n.parsed;var s=r.Grammar.parse(o,e.replace(/-/g,"_"));return-1===s?void this.headers[e].splice(t,1):(n.parsed=s,s)}},e.prototype.s=function(e,t){return void 0===t&&(t=0),this.parseHeader(e,t)},e.prototype.setHeader=function(e,t){this.headers[i.headerize(e)]=[{raw:t}]},e.prototype.toString=function(){return this.data},e}();t.IncomingMessage=o},6587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(){return e.call(this)||this}return r.__extends(t,e),t}(n(4800).IncomingMessage);t.IncomingRequestMessage=i},2027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(){var t=e.call(this)||this;return t.headers={},t}return r.__extends(t,e),t}(n(4800).IncomingMessage);t.IncomingResponseMessage=i},1130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(587),t),r.__exportStar(n(8957),t),r.__exportStar(n(1009),t),r.__exportStar(n(1629),t),r.__exportStar(n(4800),t),r.__exportStar(n(6587),t),r.__exportStar(n(2027),t),r.__exportStar(n(1050),t),r.__exportStar(n(6910),t),r.__exportStar(n(5621),t),r.__exportStar(n(2443),t),r.__exportStar(n(4065),t)},405:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACK="ACK",e.BYE="BYE",e.CANCEL="CANCEL",e.INFO="INFO",e.INVITE="INVITE",e.MESSAGE="MESSAGE",e.NOTIFY="NOTIFY",e.OPTIONS="OPTIONS",e.REGISTER="REGISTER",e.UPDATE="UPDATE",e.SUBSCRIBE="SUBSCRIBE",e.PUBLISH="PUBLISH",e.REFER="REFER",e.PRACK="PRACK"}(t.C||(t.C={}))},587:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5765).__exportStar(n(405),t)},1050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t,n,r){var i=e.call(this,r)||this;return i.uri=t,i._displayName=n,i}return r.__extends(t,e),Object.defineProperty(t.prototype,"friendlyName",{get:function(){return this.displayName||this.uri.aor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this._displayName},set:function(e){this._displayName=e},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.uri.clone(),this._displayName,JSON.parse(JSON.stringify(this.parameters)))},t.prototype.toString=function(){var e=this.displayName||"0"===this.displayName?'"'+this.displayName+'" ':"";for(var t in e+="<"+this.uri.toString()+">",this.parameters)this.parameters.hasOwnProperty(t)&&(e+=";"+t,null!==this.parameters[t]&&(e+="="+this.parameters[t]));return e},t}(n(2443).Parameters);t.NameAddrHeader=i},6910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1050),o=n(1701),s=function(){function e(t,n,i,s,a,u,c){this.headers={},this.extraHeaders=[],this.options=e.getDefaultOptions(),a&&(this.options=r.__assign({},this.options,a),this.options.optionTags&&this.options.optionTags.length&&(this.options.optionTags=this.options.optionTags.slice()),this.options.routeSet&&this.options.routeSet.length&&(this.options.routeSet=this.options.routeSet.slice())),u&&u.length&&(this.extraHeaders=u.slice()),c&&(this.body={body:c.content,contentType:c.contentType}),this.method=t,this.ruri=n.clone(),this.fromURI=i.clone(),this.fromTag=this.options.fromTag?this.options.fromTag:o.newTag(),this.from=e.makeNameAddrHeader(this.fromURI,this.options.fromDisplayName,this.fromTag),this.toURI=s.clone(),this.toTag=this.options.toTag,this.to=e.makeNameAddrHeader(this.toURI,this.options.toDisplayName,this.toTag),this.callId=this.options.callId?this.options.callId:this.options.callIdPrefix+o.createRandomToken(15),this.cseq=this.options.cseq,this.setHeader("route",this.options.routeSet),this.setHeader("via",""),this.setHeader("to",this.to.toString()),this.setHeader("from",this.from.toString()),this.setHeader("cseq",this.cseq+" "+this.method),this.setHeader("call-id",this.callId),this.setHeader("max-forwards","70")}return e.getDefaultOptions=function(){return{callId:"",callIdPrefix:"",cseq:1,toDisplayName:"",toTag:"",fromDisplayName:"",fromTag:"",forceRport:!1,hackViaTcp:!1,optionTags:["outbound"],routeSet:[],userAgentString:"sip.js",viaHost:""}},e.makeNameAddrHeader=function(e,t,n){var r={};return n&&(r.tag=n),new i.NameAddrHeader(e,t,r)},e.prototype.getHeader=function(e){var t=this.headers[o.headerize(e)];if(t){if(t[0])return t[0]}else for(var n=new RegExp("^\\s*"+e+"\\s*:","i"),r=0,i=this.extraHeaders;r<i.length;r++){var s=i[r];if(n.test(s))return s.substring(s.indexOf(":")+1).trim()}},e.prototype.getHeaders=function(e){var t=[],n=this.headers[o.headerize(e)];if(n)for(var r=0,i=n;r<i.length;r++){var s=i[r];t.push(s)}else for(var a=new RegExp("^\\s*"+e+"\\s*:","i"),u=0,c=this.extraHeaders;u<c.length;u++){var l=c[u];a.test(l)&&t.push(l.substring(l.indexOf(":")+1).trim())}return t},e.prototype.hasHeader=function(e){if(this.headers[o.headerize(e)])return!0;for(var t=new RegExp("^\\s*"+e+"\\s*:","i"),n=0,r=this.extraHeaders;n<r.length;n++){var i=r[n];if(t.test(i))return!0}return!1},e.prototype.setHeader=function(e,t){this.headers[o.headerize(e)]=t instanceof Array?t:[t]},e.prototype.setViaHeader=function(e,t){void 0===t&&(t="WSS"),this.options.hackViaTcp&&(t="TCP");var n="SIP/2.0/"+t;n+=" "+this.options.viaHost+";branch="+e,this.options.forceRport&&(n+=";rport"),this.setHeader("via",n),this.branch=e},e.prototype.toString=function(){var e="";for(var t in e+=this.method+" "+this.ruri.toRaw()+" SIP/2.0\r\n",this.headers)if(this.headers[t])for(var n=0,r=this.headers[t];n<r.length;n++){e+=t+": "+r[n]+"\r\n"}for(var i=0,s=this.extraHeaders;i<s.length;i++){e+=(t=s[i]).trim()+"\r\n"}return e+="Supported: "+this.options.optionTags.join(", ")+"\r\n",e+="User-Agent: "+this.options.userAgentString+"\r\n",this.body?"string"===typeof this.body?(e+="Content-Length: "+o.str_utf8_length(this.body)+"\r\n\r\n",e+=this.body):this.body.body&&this.body.contentType?(e+="Content-Type: "+this.body.contentType+"\r\n",e+="Content-Length: "+o.str_utf8_length(this.body.body)+"\r\n\r\n",e+=this.body.body):e+="Content-Length: 0\r\n\r\n":e+="Content-Length: 0\r\n\r\n",e},e}();t.OutgoingRequestMessage=s},5621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1701);t.constructOutgoingResponse=function(e,t){var n="\r\n";if(t.statusCode<100||t.statusCode>699)throw new TypeError("Invalid statusCode: "+t.statusCode);var i=t.reasonPhrase?t.reasonPhrase:r.getReasonPhrase(t.statusCode),o="SIP/2.0 "+t.statusCode+" "+i+n;t.statusCode>=100&&t.statusCode,t.statusCode;var s="From: "+e.getHeader("From")+n,a="Call-ID: "+e.callId+n,u="CSeq: "+e.cseq+" "+e.method+n,c=e.getHeaders("via").reduce((function(e,t){return e+"Via: "+t+n}),""),l="To: "+e.getHeader("to");if(t.statusCode>100&&!e.parseHeader("to").hasParam("tag")){var d=t.toTag;d||(d=r.newTag()),l+=";tag="+d}l+=n;var f="";t.supported&&(f="Supported: "+t.supported.join(", ")+n);var p="";t.userAgent&&(p="User-Agent: "+t.userAgent+n);var h="";return t.extraHeaders&&(h=t.extraHeaders.reduce((function(e,t){return e+t.trim()+n}),"")),o+=c,o+=s,o+=l,o+=u,o+=a,o+=f,o+=p,o+=h,t.body?(o+="Content-Type: "+t.body.contentType+n,o+="Content-Length: "+r.str_utf8_length(t.body.content)+n+n,o+=t.body.content):o+="Content-Length: 0\r\n\r\n",{message:o}}},2443:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){for(var t in this.parameters={},e)e.hasOwnProperty(t)&&this.setParam(t,e[t])}return e.prototype.setParam=function(e,t){e&&(this.parameters[e.toLowerCase()]="undefined"===typeof t||null===t?null:t.toString())},e.prototype.getParam=function(e){if(e)return this.parameters[e.toLowerCase()]},e.prototype.hasParam=function(e){return!!e&&!!this.parameters.hasOwnProperty(e.toLowerCase())},e.prototype.deleteParam=function(e){if(e=e.toLowerCase(),this.parameters.hasOwnProperty(e)){var t=this.parameters[e];return delete this.parameters[e],t}},e.prototype.clearParams=function(){this.parameters={}},e}();t.Parameters=n},4065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t,n,r,i,o,s){var a=e.call(this,o)||this;if(a.headers={},!r)throw new TypeError('missing or invalid "host" parameter');for(var u in t=t||"sip",s)s.hasOwnProperty(u)&&a.setHeader(u,s[u]);return a.raw={scheme:t,user:n,host:r,port:i},a.normal={scheme:t.toLowerCase(),user:n,host:r.toLowerCase(),port:i},a}return r.__extends(t,e),Object.defineProperty(t.prototype,"scheme",{get:function(){return this.normal.scheme},set:function(e){this.raw.scheme=e,this.normal.scheme=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.normal.user},set:function(e){this.normal.user=this.raw.user=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this.normal.host},set:function(e){this.raw.host=e,this.normal.host=e.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aor",{get:function(){return this.normal.user+"@"+this.normal.host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"port",{get:function(){return this.normal.port},set:function(e){this.normal.port=this.raw.port=e},enumerable:!0,configurable:!0}),t.prototype.setHeader=function(e,t){this.headers[this.headerize(e)]=t instanceof Array?t:[t]},t.prototype.getHeader=function(e){if(e)return this.headers[this.headerize(e)]},t.prototype.hasHeader=function(e){return!!e&&!!this.headers.hasOwnProperty(this.headerize(e))},t.prototype.deleteHeader=function(e){if(e=this.headerize(e),this.headers.hasOwnProperty(e)){var t=this.headers[e];return delete this.headers[e],t}},t.prototype.clearHeaders=function(){this.headers={}},t.prototype.clone=function(){return new t(this._raw.scheme,this._raw.user||"",this._raw.host,this._raw.port,JSON.parse(JSON.stringify(this.parameters)),JSON.parse(JSON.stringify(this.headers)))},t.prototype.toRaw=function(){return this._toString(this._raw)},t.prototype.toString=function(){return this._toString(this._normal)},Object.defineProperty(t.prototype,"_normal",{get:function(){return this.normal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_raw",{get:function(){return this.raw},enumerable:!0,configurable:!0}),t.prototype._toString=function(e){var t=e.scheme+":";for(var n in e.scheme.toLowerCase().match("^sips?$")||(t+="//"),e.user&&(t+=this.escapeUser(e.user)+"@"),t+=e.host,(e.port||0===e.port)&&(t+=":"+e.port),this.parameters)this.parameters.hasOwnProperty(n)&&(t+=";"+n,null!==this.parameters[n]&&(t+="="+this.parameters[n]));var r=[];for(var i in this.headers)if(this.headers.hasOwnProperty(i))for(var o in this.headers[i])this.headers[i].hasOwnProperty(o)&&r.push(i+"="+this.headers[i][o]);return r.length>0&&(t+="?"+r.join("&")),t},t.prototype.escapeUser=function(e){return encodeURIComponent(decodeURIComponent(e)).replace(/%3A/gi,":").replace(/%2B/gi,"+").replace(/%3F/gi,"?").replace(/%2F/gi,"/")},t.prototype.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length,i="",o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i},t}(n(2443).Parameters);t.URI=i},1701:function(e,t){"use strict";function n(e,t){void 0===t&&(t=32);for(var n="",r=0;r<e;r++){n+=Math.floor(Math.random()*t).toString(t)}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.createRandomToken=n,t.getReasonPhrase=function(e){return r[e]||""},t.newTag=function(){return n(10)},t.headerize=function(e){for(var t={"Call-Id":"Call-ID",Cseq:"CSeq","Min-Se":"Min-SE",Rack:"RAck",Rseq:"RSeq","Www-Authenticate":"WWW-Authenticate"},n=e.toLowerCase().replace(/_/g,"-").split("-"),r=n.length,i="",o=0;o<r;o++)0!==o&&(i+="-"),i+=n[o].charAt(0).toUpperCase()+n[o].substring(1);return t[i]&&(i=t[i]),i},t.str_utf8_length=function(e){return encodeURIComponent(e).replace(/%[A-F\d]{2}/g,"U").length};var r={100:"Trying",180:"Ringing",181:"Call Is Being Forwarded",182:"Queued",183:"Session Progress",199:"Early Dialog Terminated",200:"OK",202:"Accepted",204:"No Notification",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",305:"Use Proxy",380:"Alternative Service",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",410:"Gone",412:"Conditional Request Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Unsupported URI Scheme",417:"Unknown Resource-Priority",420:"Bad Extension",421:"Extension Required",422:"Session Interval Too Small",423:"Interval Too Brief",428:"Use Identity Header",429:"Provide Referrer Identity",430:"Flow Failed",433:"Anonymity Disallowed",436:"Bad Identity-Info",437:"Unsupported Certificate",438:"Invalid Identity Header",439:"First Hop Lacks Outbound Support",440:"Max-Breadth Exceeded",469:"Bad Info Package",470:"Consent Needed",478:"Unresolvable Destination",480:"Temporarily Unavailable",481:"Call/Transaction Does Not Exist",482:"Loop Detected",483:"Too Many Hops",484:"Address Incomplete",485:"Ambiguous",486:"Busy Here",487:"Request Terminated",488:"Not Acceptable Here",489:"Bad Event",491:"Request Pending",493:"Undecipherable",494:"Security Agreement Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Server Time-out",505:"Version Not Supported",513:"Message Too Large",580:"Precondition Failure",600:"Busy Everywhere",603:"Decline",604:"Does Not Exist Anywhere",606:"Not Acceptable"}},5509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5765).__exportStar(n(5548),t)},5548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.Early="Early",e.AckWait="AckWait",e.Confirmed="Confirmed",e.Terminated="Terminated"}(t.SessionState||(t.SessionState={})),function(e){e.Initial="Initial",e.HaveLocalOffer="HaveLocalOffer",e.HaveRemoteOffer="HaveRemoteOffer",e.Stable="Stable",e.Closed="Closed"}(t.SignalingState||(t.SignalingState={}))},3738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5765).__exportStar(n(9560),t)},9560:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Initial="Initial",e.NotifyWait="NotifyWait",e.Pending="Pending",e.Active="Active",e.Terminated="Terminated"}(t.SubscriptionState||(t.SubscriptionState={}))},3505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=500,r=5e3;t.Timers={T1:n,T2:4e3,T4:r,TIMER_B:32e3,TIMER_D:0,TIMER_F:32e3,TIMER_H:32e3,TIMER_I:0,TIMER_J:0,TIMER_K:0,TIMER_L:32e3,TIMER_M:32e3,TIMER_N:32e3,PROVISIONAL_RESPONSE_INTERVAL:6e4}},9218:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(n,r,i,o,s){var a=e.call(this,r,i,t.makeId(n),o,s)||this;a._request=n,a.user=i;var u=r.server&&r.server.scheme?r.server.scheme:void 0;return n.setViaHeader(a.id,u),a}return r.__extends(t,e),t.makeId=function(e){if("CANCEL"===e.method){if(!e.branch)throw new Error("Outgoing CANCEL request without a branch.");return e.branch}return"z9hG4bK"+Math.floor(1e7*Math.random())},Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t.prototype.onRequestTimeout=function(){this.user.onRequestTimeout&&this.user.onRequestTimeout()},t}(n(2291).Transaction);t.ClientTransaction=i},438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(9218),t),r.__exportStar(n(4217),t),r.__exportStar(n(951),t),r.__exportStar(n(3859),t),r.__exportStar(n(5317),t),r.__exportStar(n(4217),t),r.__exportStar(n(1714),t),r.__exportStar(n(3320),t),r.__exportStar(n(2291),t)},4217:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(3505),o=n(9218),s=n(3320),a=function(e){function t(t,n,r){var o=e.call(this,t,n,r,s.TransactionState.Calling,"sip.transaction.ict")||this;return o.ackRetransmissionCache=new Map,o.B=setTimeout((function(){return o.timer_B()}),i.Timers.TIMER_B),o.send(t.toString()).catch((function(e){o.logTransportError(e,"Failed to send initial outgoing request.")})),o}return r.__extends(t,e),t.prototype.dispose=function(){this.B&&(clearTimeout(this.B),this.B=void 0),this.D&&(clearTimeout(this.D),this.D=void 0),this.M&&(clearTimeout(this.M),this.M=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ict"},enumerable:!0,configurable:!0}),t.prototype.ackResponse=function(e){var t=this,n=e.toTag;if(!n)throw new Error("To tag undefined.");var r="z9hG4bK"+Math.floor(1e7*Math.random()),i=this.transport.server&&this.transport.server.scheme?this.transport.server.scheme:void 0;e.setViaHeader(r,i),this.ackRetransmissionCache.set(n,e),this.send(e.toString()).catch((function(e){t.logTransportError(e,"Failed to send ACK to 2xx response.")}))},t.prototype.receiveResponse=function(e){var t=this,n=e.statusCode;if(!n||n<100||n>699)throw new Error("Invalid status code "+n);switch(this.state){case s.TransactionState.Calling:if(n>=100&&n<=199)return this.stateTransition(s.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(s.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(s.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Proceeding:if(n>=100&&n<=199)return void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=200&&n<=299)return this.ackRetransmissionCache.set(e.toTag,void 0),this.stateTransition(s.TransactionState.Accepted),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(n>=300&&n<=699)return this.stateTransition(s.TransactionState.Completed),this.ack(e),void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Accepted:if(n>=200&&n<=299){if(!this.ackRetransmissionCache.has(e.toTag))return this.ackRetransmissionCache.set(e.toTag,void 0),void(this.user.receiveResponse&&this.user.receiveResponse(e));var r=this.ackRetransmissionCache.get(e.toTag);return r?void this.send(r.toString()).catch((function(e){t.logTransportError(e,"Failed to send retransmission of ACK to 2xx response.")})):void 0}break;case s.TransactionState.Completed:if(n>=300&&n<=699)return void this.ack(e);break;case s.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var i="Received unexpected "+n+" response while in state "+this.state+".";this.logger.warn(i)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"INVITE client transaction"},t.prototype.ack=function(e){var t=this,n=this.request.ruri,r=this.request.callId,i=this.request.cseq,o=this.request.getHeader("from"),s=e.getHeader("to"),a=this.request.getHeader("via"),u=this.request.getHeader("route");if(!o)throw new Error("From undefined.");if(!s)throw new Error("To undefined.");if(!a)throw new Error("Via undefined.");var c="ACK "+n+" SIP/2.0\r\n";u&&(c+="Route: "+u+"\r\n"),c+="Via: "+a+"\r\n",c+="To: "+s+"\r\n",c+="From: "+o+"\r\n",c+="Call-ID: "+r+"\r\n",c+="CSeq: "+i+" ACK\r\n",c+="Max-Forwards: 70\r\n",c+="Content-Length: 0\r\n\r\n",this.send(c).catch((function(e){t.logTransportError(e,"Failed to send ACK to non-2xx response.")}))},t.prototype.stateTransition=function(e,t){var n=this;void 0===t&&(t=!1);var r=function(){throw new Error("Invalid state transition from "+n.state+" to "+e)};switch(e){case s.TransactionState.Calling:r();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Calling&&r();break;case s.TransactionState.Accepted:case s.TransactionState.Completed:this.state!==s.TransactionState.Calling&&this.state!==s.TransactionState.Proceeding&&r();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Calling&&this.state!==s.TransactionState.Accepted&&this.state!==s.TransactionState.Completed&&(t||r());break;default:r()}this.B&&(clearTimeout(this.B),this.B=void 0),s.TransactionState.Proceeding,e===s.TransactionState.Completed&&(this.D=setTimeout((function(){return n.timer_D()}),i.Timers.TIMER_D)),e===s.TransactionState.Accepted&&(this.M=setTimeout((function(){return n.timer_M()}),i.Timers.TIMER_M)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_A=function(){},t.prototype.timer_B=function(){this.logger.debug("Timer B expired for INVITE client transaction "+this.id+"."),this.state===s.TransactionState.Calling&&(this.onRequestTimeout(),this.stateTransition(s.TransactionState.Terminated))},t.prototype.timer_D=function(){this.logger.debug("Timer D expired for INVITE client transaction "+this.id+"."),this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)},t.prototype.timer_M=function(){this.logger.debug("Timer M expired for INVITE client transaction "+this.id+"."),this.state===s.TransactionState.Accepted&&this.stateTransition(s.TransactionState.Terminated)},t}(o.ClientTransaction);t.InviteClientTransaction=a},951:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(3505),s=n(1714),a=n(3320),u=function(e){function t(t,n,r){return e.call(this,t,n,r,a.TransactionState.Proceeding,"sip.transaction.ist")||this}return r.__extends(t,e),t.prototype.dispose=function(){this.stopProgressExtensionTimer(),this.H&&(clearTimeout(this.H),this.H=void 0),this.I&&(clearTimeout(this.I),this.I=void 0),this.L&&(clearTimeout(this.L),this.L=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"ist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case a.TransactionState.Proceeding:if(e.method===i.C.INVITE)return void(this.lastProvisionalResponse&&this.send(this.lastProvisionalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")})));break;case a.TransactionState.Accepted:if(e.method===i.C.INVITE)return;break;case a.TransactionState.Completed:if(e.method===i.C.INVITE){if(!this.lastFinalResponse)throw new Error("Last final response undefined.");return void this.send(this.lastFinalResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}))}if(e.method===i.C.ACK)return void this.stateTransition(a.TransactionState.Confirmed);break;case a.TransactionState.Confirmed:case a.TransactionState.Terminated:if(e.method===i.C.INVITE||e.method===i.C.ACK)return;break;default:throw new Error("Invalid state "+this.state)}var n="INVITE server transaction received unexpected "+e.method+" request while in state "+this.state+".";this.logger.warn(n)},t.prototype.receiveResponse=function(e,t){var n=this;if(e<100||e>699)throw new Error("Invalid status code "+e);switch(this.state){case a.TransactionState.Proceeding:if(e>=100&&e<=199)return this.lastProvisionalResponse=t,e>100&&this.startProgressExtensionTimer(),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 1xx response.")}));if(e>=200&&e<=299)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Accepted),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 2xx response.")}));if(e>=300&&e<=699)return this.lastFinalResponse=t,this.stateTransition(a.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send non-2xx final response.")}));break;case a.TransactionState.Accepted:if(e>=200&&e<=299)return void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send 2xx response.")}));break;case a.TransactionState.Completed:case a.TransactionState.Confirmed:case a.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var r="INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(r),new Error(r)},t.prototype.retransmitAcceptedResponse=function(){var e=this;this.state===a.TransactionState.Accepted&&this.lastFinalResponse&&this.send(this.lastFinalResponse).catch((function(t){e.logTransportError(t,"Failed to send 2xx response.")}))},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e)},t.prototype.typeToString=function(){return"INVITE server transaction"},t.prototype.stateTransition=function(e){var t=this,n=function(){throw new Error("Invalid state transition from "+t.state+" to "+e)};switch(e){case a.TransactionState.Proceeding:n();break;case a.TransactionState.Accepted:case a.TransactionState.Completed:this.state!==a.TransactionState.Proceeding&&n();break;case a.TransactionState.Confirmed:this.state!==a.TransactionState.Completed&&n();break;case a.TransactionState.Terminated:this.state!==a.TransactionState.Accepted&&this.state!==a.TransactionState.Completed&&this.state!==a.TransactionState.Confirmed&&n();break;default:n()}this.stopProgressExtensionTimer(),e===a.TransactionState.Accepted&&(this.L=setTimeout((function(){return t.timer_L()}),o.Timers.TIMER_L)),e===a.TransactionState.Completed&&(this.H=setTimeout((function(){return t.timer_H()}),o.Timers.TIMER_H)),e===a.TransactionState.Confirmed&&(this.I=setTimeout((function(){return t.timer_I()}),o.Timers.TIMER_I)),e===a.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.startProgressExtensionTimer=function(){var e=this;void 0===this.progressExtensionTimer&&(this.progressExtensionTimer=setInterval((function(){if(e.logger.debug("Progress extension timer expired for INVITE server transaction "+e.id+"."),!e.lastProvisionalResponse)throw new Error("Last provisional response undefined.");e.send(e.lastProvisionalResponse).catch((function(t){e.logTransportError(t,"Failed to send retransmission of provisional response.")}))}),o.Timers.PROVISIONAL_RESPONSE_INTERVAL))},t.prototype.stopProgressExtensionTimer=function(){void 0!==this.progressExtensionTimer&&(clearInterval(this.progressExtensionTimer),this.progressExtensionTimer=void 0)},t.prototype.timer_G=function(){},t.prototype.timer_H=function(){this.logger.debug("Timer H expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Completed&&(this.logger.warn("ACK to negative final response was never received, terminating transaction."),this.stateTransition(a.TransactionState.Terminated))},t.prototype.timer_I=function(){this.logger.debug("Timer I expired for INVITE server transaction "+this.id+"."),this.stateTransition(a.TransactionState.Terminated)},t.prototype.timer_L=function(){this.logger.debug("Timer L expired for INVITE server transaction "+this.id+"."),this.state===a.TransactionState.Accepted&&this.stateTransition(a.TransactionState.Terminated)},t}(s.ServerTransaction);t.InviteServerTransaction=u},3859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(3505),o=n(9218),s=n(3320),a=function(e){function t(t,n,r){var o=e.call(this,t,n,r,s.TransactionState.Trying,"sip.transaction.nict")||this;return o.F=setTimeout((function(){return o.timer_F()}),i.Timers.TIMER_F),o.send(t.toString()).catch((function(e){o.logTransportError(e,"Failed to send initial outgoing request.")})),o}return r.__extends(t,e),t.prototype.dispose=function(){this.F&&(clearTimeout(this.F),this.F=void 0),this.K&&(clearTimeout(this.K),this.K=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nict"},enumerable:!0,configurable:!0}),t.prototype.receiveResponse=function(e){var t=e.statusCode;if(!t||t<100||t>699)throw new Error("Invalid status code "+t);switch(this.state){case s.TransactionState.Trying:if(t>=100&&t<=199)return this.stateTransition(s.TransactionState.Proceeding),void(this.user.receiveResponse&&this.user.receiveResponse(e));if(t>=200&&t<=699)return this.stateTransition(s.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));break;case s.TransactionState.Proceeding:if(t>=100&&t<=199&&this.user.receiveResponse)return this.user.receiveResponse(e);if(t>=200&&t<=699)return this.stateTransition(s.TransactionState.Completed),408===t?void this.onRequestTimeout():void(this.user.receiveResponse&&this.user.receiveResponse(e));case s.TransactionState.Completed:case s.TransactionState.Terminated:return;default:throw new Error("Invalid state "+this.state)}var n="Non-INVITE client transaction received unexpected "+t+" response while in state "+this.state+".";this.logger.warn(n)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE client transaction"},t.prototype.stateTransition=function(e,t){var n=this;void 0===t&&(t=!1);var r=function(){throw new Error("Invalid state transition from "+n.state+" to "+e)};switch(e){case s.TransactionState.Trying:r();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Trying&&r();break;case s.TransactionState.Completed:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&r();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&this.state!==s.TransactionState.Completed&&(t||r());break;default:r()}e===s.TransactionState.Completed&&(this.F&&(clearTimeout(this.F),this.F=void 0),this.K=setTimeout((function(){return n.timer_K()}),i.Timers.TIMER_K)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_F=function(){this.logger.debug("Timer F expired for non-INVITE client transaction "+this.id+"."),this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding||(this.onRequestTimeout(),this.stateTransition(s.TransactionState.Terminated))},t.prototype.timer_K=function(){this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)},t}(o.ClientTransaction);t.NonInviteClientTransaction=a},5317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(3505),o=n(1714),s=n(3320),a=function(e){function t(t,n,r){return e.call(this,t,n,r,s.TransactionState.Trying,"sip.transaction.nist")||this}return r.__extends(t,e),t.prototype.dispose=function(){this.J&&(clearTimeout(this.J),this.J=void 0),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return"nist"},enumerable:!0,configurable:!0}),t.prototype.receiveRequest=function(e){var t=this;switch(this.state){case s.TransactionState.Trying:break;case s.TransactionState.Proceeding:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of provisional response.")}));break;case s.TransactionState.Completed:if(!this.lastResponse)throw new Error("Last response undefined.");this.send(this.lastResponse).catch((function(e){t.logTransportError(e,"Failed to send retransmission of final response.")}));break;case s.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}},t.prototype.receiveResponse=function(e,t){var n=this;if(e<100||e>699)throw new Error("Invalid status code "+e);if(e>100&&e<=199)throw new Error("Provisional response other than 100 not allowed.");switch(this.state){case s.TransactionState.Trying:if(this.lastResponse=t,e>=100&&e<200)return this.stateTransition(s.TransactionState.Proceeding),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send provisional response.")}));if(e>=200&&e<=699)return this.stateTransition(s.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send final response.")}));break;case s.TransactionState.Proceeding:if(this.lastResponse=t,e>=200&&e<=699)return this.stateTransition(s.TransactionState.Completed),void this.send(t).catch((function(e){n.logTransportError(e,"Failed to send final response.")}));break;case s.TransactionState.Completed:return;case s.TransactionState.Terminated:break;default:throw new Error("Invalid state "+this.state)}var r="Non-INVITE server transaction received unexpected "+e+" response from TU while in state "+this.state+".";throw this.logger.error(r),new Error(r)},t.prototype.onTransportError=function(e){this.user.onTransportError&&this.user.onTransportError(e),this.stateTransition(s.TransactionState.Terminated,!0)},t.prototype.typeToString=function(){return"non-INVITE server transaction"},t.prototype.stateTransition=function(e,t){var n=this;void 0===t&&(t=!1);var r=function(){throw new Error("Invalid state transition from "+n.state+" to "+e)};switch(e){case s.TransactionState.Trying:r();break;case s.TransactionState.Proceeding:this.state!==s.TransactionState.Trying&&r();break;case s.TransactionState.Completed:this.state!==s.TransactionState.Trying&&this.state!==s.TransactionState.Proceeding&&r();break;case s.TransactionState.Terminated:this.state!==s.TransactionState.Proceeding&&this.state!==s.TransactionState.Completed&&(t||r());break;default:r()}e===s.TransactionState.Completed&&(this.J=setTimeout((function(){return n.timer_J()}),i.Timers.TIMER_J)),e===s.TransactionState.Terminated&&this.dispose(),this.setState(e)},t.prototype.timer_J=function(){this.logger.debug("Timer J expired for NON-INVITE server transaction "+this.id+"."),this.state===s.TransactionState.Completed&&this.stateTransition(s.TransactionState.Terminated)},t}(o.ServerTransaction);t.NonInviteServerTransaction=a},1714:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t,n,r,i,o){var s=e.call(this,n,r,t.viaBranch,i,o)||this;return s._request=t,s.user=r,s}return r.__extends(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._request},enumerable:!0,configurable:!0}),t}(n(2291).Transaction);t.ServerTransaction=i},3320:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Accepted="Accepted",e.Calling="Calling",e.Completed="Completed",e.Confirmed="Confirmed",e.Proceeding="Proceeding",e.Terminated="Terminated",e.Trying="Trying"}(t.TransactionState||(t.TransactionState={}))},2291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7465),o=n(7571),s=function(e){function t(t,n,r,i,o){var s=e.call(this)||this;return s._transport=t,s._user=n,s._id=r,s._state=i,s.logger=n.loggerFactory.getLogger(o,r),s.logger.debug("Constructing "+s.typeToString()+" with id "+s.id+"."),s}return r.__extends(t,e),t.prototype.dispose=function(){this.logger.debug("Destroyed "+this.typeToString()+" with id "+this.id+".")},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kind",{get:function(){throw new Error("Invalid kind.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"transport",{get:function(){return this._transport},enumerable:!0,configurable:!0}),t.prototype.on=function(t,n){return e.prototype.on.call(this,t,n)},t.prototype.logTransportError=function(e,t){this.logger.error(e.message),this.logger.error("Transport error occurred in "+this.typeToString()+" with id "+this.id+"."),this.logger.error(t)},t.prototype.send=function(e){var t=this;return this.transport.send(e).catch((function(e){var n;if(!(e instanceof o.TransportError))throw n=e&&"string"===typeof e.message?new o.TransportError(e.message):new o.TransportError,t.onTransportError(n),n;t.onTransportError(e)}))},t.prototype.setState=function(e){this.logger.debug('State change to "'+e+'" on '+this.typeToString()+" with id "+this.id+"."),this._state=e,this._user.onStateChange&&this._user.onStateChange(e),this.emit("stateChanged")},t.prototype.typeToString=function(){return"UnknownType"},t}(i.EventEmitter);t.Transaction=s},4592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=function(e){function t(t,n){var r=e.call(this)||this;return r.logger=t,r}return r.__extends(t,e),t.prototype.connect=function(e){var t=this;return void 0===e&&(e={}),this.connectPromise(e).then((function(e){e.overrideEvent||t.emit("connected")}))},t.prototype.send=function(e,t){var n=this;return void 0===t&&(t={}),this.sendPromise(e).then((function(e){e.overrideEvent||n.emit("messageSent",e.msg)}))},t.prototype.disconnect=function(e){var t=this;return void 0===e&&(e={}),this.disconnectPromise(e).then((function(e){e.overrideEvent||t.emit("disconnected")}))},t.prototype.afterConnected=function(e){this.isConnected()?e():this.once("connected",e)},t.prototype.waitForConnected=function(){var e=this;return console.warn("DEPRECATION WARNING Transport.waitForConnected(): use afterConnected() instead"),new Promise((function(t){e.afterConnected(t)}))},t}(n(7465).EventEmitter);t.Transport=i},8623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1130);t.AllowedMethods=[r.C.ACK,r.C.BYE,r.C.CANCEL,r.C.INFO,r.C.INVITE,r.C.MESSAGE,r.C.NOTIFY,r.C.OPTIONS,r.C.PRACK,r.C.REFER,r.C.SUBSCRIBE]},999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(5765).__exportStar(n(867),t)},867:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=n(4013),a=n(8623),u=["application/sdp","application/dtmf-relay"],c=function(){function e(e,t){void 0===t&&(t={}),this.userAgentClients=new Map,this.userAgentServers=new Map,this.configuration=e,this.delegate=t,this.dialogs=new Map,this.subscribers=new Map,this.logger=e.loggerFactory.getLogger("sip.user-agent-core")}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this.dialogs.forEach((function(e){return e.dispose()})),this.dialogs.clear(),this.subscribers.forEach((function(e){return e.dispose()})),this.subscribers.clear(),this.userAgentClients.forEach((function(e){return e.dispose()})),this.userAgentClients.clear(),this.userAgentServers.forEach((function(e){return e.dispose()})),this.userAgentServers.clear()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.configuration.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transport",{get:function(){var e=this.configuration.transportAccessor();if(!e)throw new Error("Transport undefined.");return e},enumerable:!0,configurable:!0}),e.prototype.invite=function(e,t){return new s.InviteUserAgentClient(this,e,t)},e.prototype.message=function(e,t){return new s.MessageUserAgentClient(this,e,t)},e.prototype.publish=function(e,t){return new s.PublishUserAgentClient(this,e,t)},e.prototype.register=function(e,t){return new s.RegisterUserAgentClient(this,e,t)},e.prototype.subscribe=function(e,t){return new s.SubscribeUserAgentClient(this,e,t)},e.prototype.request=function(e,t){return new s.UserAgentClient(o.NonInviteClientTransaction,this,e,t)},e.prototype.makeOutgoingRequestMessage=function(e,t,n,o,s,a,u){var c=this.configuration.sipjsId,l=this.configuration.displayName,d=this.configuration.viaForceRport,f=this.configuration.hackViaTcp,p=this.configuration.supportedOptionTags.slice();e===i.C.REGISTER&&p.push("path","gruu"),e===i.C.INVITE&&(this.configuration.contact.pubGruu||this.configuration.contact.tempGruu)&&p.push("gruu");var h={callIdPrefix:c,forceRport:d,fromDisplayName:l,hackViaTcp:f,optionTags:p,routeSet:this.configuration.routeSet,userAgentString:this.configuration.userAgentHeaderFieldValue,viaHost:this.configuration.viaHost},g=r.__assign({},h,s);return new i.OutgoingRequestMessage(e,t,n,o,g,a,u)},e.prototype.receiveIncomingRequestFromTransport=function(e){this.receiveRequestFromTransport(e)},e.prototype.receiveIncomingResponseFromTransport=function(e){this.receiveResponseFromTransport(e)},e.prototype.replyStateless=function(e,t){var n=this.configuration.userAgentHeaderFieldValue,o=this.configuration.supportedOptionTagsResponse;t=r.__assign({},t,{userAgent:n,supported:o});var s=i.constructOutgoingResponse(e,t);return this.transport.send(s.message),s},e.prototype.receiveRequestFromTransport=function(e){var t=e.viaBranch,n=this.userAgentServers.get(t);e.method===i.C.ACK&&n&&n.transaction.state===o.TransactionState.Accepted&&n instanceof s.InviteUserAgentServer?this.logger.warn("Discarding out of dialog ACK after 2xx response sent on transaction "+t+"."):e.method!==i.C.CANCEL?n?n.transaction.receiveRequest(e):this.receiveRequest(e):n?(this.replyStateless(e,{statusCode:200}),n.transaction instanceof o.InviteServerTransaction&&n.transaction.state===o.TransactionState.Proceeding&&n instanceof s.InviteUserAgentServer&&n.receiveCancel(e)):this.replyStateless(e,{statusCode:481})},e.prototype.receiveRequest=function(e){if(a.AllowedMethods.includes(e.method)){if(!e.ruri)throw new Error("Request-URI undefined.");if("sip"===e.ruri.scheme){var t=e.ruri,n=function(e){return!!e&&e.user===t.user};if(!n(this.configuration.aor)&&!(n(this.configuration.contact.uri)||n(this.configuration.contact.pubGruu)||n(this.configuration.contact.tempGruu)))return this.logger.warn("Request-URI does not point to us."),void(e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:404}));if(e.method!==i.C.INVITE||e.hasHeader("Contact")){if(!e.toTag){var r=e.viaBranch;if(!this.userAgentServers.has(r))if(Array.from(this.userAgentServers.values()).some((function(t){return t.transaction.request.fromTag===e.fromTag&&t.transaction.request.callId===e.callId&&t.transaction.request.cseq===e.cseq})))return void this.replyStateless(e,{statusCode:482})}e.toTag?this.receiveInsideDialogRequest(e):this.receiveOutsideDialogRequest(e)}else this.replyStateless(e,{statusCode:400,reasonPhrase:"Missing Contact Header"})}else this.replyStateless(e,{statusCode:416})}else{var o="Allow: "+a.AllowedMethods.toString();this.replyStateless(e,{statusCode:405,extraHeaders:[o]})}},e.prototype.receiveInsideDialogRequest=function(e){if(e.method===i.C.NOTIFY){var t=e.parseHeader("Event");if(!t||!t.event)return void this.replyStateless(e,{statusCode:489});var n=e.callId+e.toTag+t.event,r=this.subscribers.get(n);if(r){var o=new s.NotifyUserAgentServer(this,e);return void r.onNotify(o)}}var c=e.callId+e.toTag+e.fromTag,l=this.dialogs.get(c);if(l){if(e.method===i.C.OPTIONS){var d="Allow: "+a.AllowedMethods.toString(),f="Accept: "+u.toString();return void this.replyStateless(e,{statusCode:200,extraHeaders:[d,f]})}l.receiveRequest(e)}else e.method!==i.C.ACK&&this.replyStateless(e,{statusCode:481})},e.prototype.receiveOutsideDialogRequest=function(e){switch(e.method){case i.C.ACK:break;case i.C.BYE:this.replyStateless(e,{statusCode:481});break;case i.C.CANCEL:throw new Error("Unexpected out of dialog request method "+e.method+".");case i.C.INFO:this.replyStateless(e,{statusCode:405});break;case i.C.INVITE:var t=new s.InviteUserAgentServer(this,e);this.delegate.onInvite?this.delegate.onInvite(t):t.reject();break;case i.C.MESSAGE:t=new s.MessageUserAgentServer(this,e);this.delegate.onMessage?this.delegate.onMessage(t):t.accept();break;case i.C.NOTIFY:t=new s.NotifyUserAgentServer(this,e);this.delegate.onNotify?this.delegate.onNotify(t):this.replyStateless(e,{statusCode:405});break;case i.C.OPTIONS:var n="Allow: "+a.AllowedMethods.toString(),r="Accept: "+u.toString();this.replyStateless(e,{statusCode:200,extraHeaders:[n,r]});break;case i.C.REFER:t=new s.ReferUserAgentServer(this,e);this.delegate.onRefer?this.delegate.onRefer(t):this.replyStateless(e,{statusCode:405});break;case i.C.SUBSCRIBE:t=new s.SubscribeUserAgentServer(this,e);this.delegate.onSubscribe?this.delegate.onSubscribe(t):t.reject();break;default:throw new Error("Unexpected out of dialog request method "+e.method+".")}},e.prototype.receiveResponseFromTransport=function(e){if(e.getHeaders("via").length>1)this.logger.warn("More than one Via header field present in the response, dropping");else{var t=e.viaBranch+e.method,n=this.userAgentClients.get(t);n?n.transaction.receiveResponse(e):this.logger.warn("Discarding unmatched "+e.statusCode+" response to "+e.method+" "+t+".")}},e}();t.UserAgentCore=c},5864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s,a=t.createOutgoingRequestMessage(i.C.BYE,r);return s=e.call(this,o.NonInviteClientTransaction,t.userAgentCore,a,n)||this,t.dispose(),s}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.ByeUserAgentClient=s},3589:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,n,r)||this}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.ByeUserAgentServer=o},4464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteClientTransaction,t,n,r)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.CancelUserAgentClient=o},4013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765);r.__exportStar(n(5864),t),r.__exportStar(n(3589),t),r.__exportStar(n(4464),t),r.__exportStar(n(582),t),r.__exportStar(n(5643),t),r.__exportStar(n(942),t),r.__exportStar(n(4509),t),r.__exportStar(n(3275),t),r.__exportStar(n(8494),t),r.__exportStar(n(5997),t),r.__exportStar(n(1321),t),r.__exportStar(n(68),t),r.__exportStar(n(8639),t),r.__exportStar(n(8855),t),r.__exportStar(n(9311),t),r.__exportStar(n(2670),t),r.__exportStar(n(6814),t),r.__exportStar(n(3963),t),r.__exportStar(n(5385),t),r.__exportStar(n(7630),t),r.__exportStar(n(738),t),r.__exportStar(n(8415),t),r.__exportStar(n(7831),t),r.__exportStar(n(2210),t)},5010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s=t.createOutgoingRequestMessage(i.C.INFO,r);return e.call(this,o.NonInviteClientTransaction,t.userAgentCore,s,n)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.InfoUserAgentClient=s},582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,n,r)||this}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.InfoUserAgentServer=o},5643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(9121),o=n(5509),s=n(438),a=function(e){function t(t,n,r){var i=e.call(this,s.InviteClientTransaction,t,n,r)||this;return i.confirmedDialogAcks=new Map,i.confirmedDialogs=new Map,i.earlyDialogs=new Map,i.delegate=r,i}return r.__extends(t,e),t.prototype.dispose=function(){this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),e.prototype.dispose.call(this)},t.prototype.receiveResponse=function(e){var t=this;if(this.authenticationGuard(e)){var n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):return void(this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e}));case/^1[0-9]{2}$/.test(n):if(!e.toTag)return void this.logger.warn("Non-100 1xx INVITE response received without a to tag, dropping.");var r=i.Dialog.initialDialogStateForUserAgentClient(this.message,e),a=this.earlyDialogs.get(r.id);if(!a){if(!((l=this.transaction)instanceof s.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");a=new i.SessionDialog(l,this.core,r),this.earlyDialogs.set(a.id,a)}if(!a.reliableSequenceGuard(e))return void this.logger.warn("1xx INVITE reliable response received out of order, dropping.");a.signalingState!==o.SignalingState.Initial&&a.signalingState!==o.SignalingState.HaveLocalOffer||a.signalingStateTransition(e);var u=a;return void(this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:u,prack:function(e){return u.prack(void 0,e)}}));case/^2[0-9]{2}$/.test(n):r=i.Dialog.initialDialogStateForUserAgentClient(this.message,e);var c=this.confirmedDialogs.get(r.id);if(c){if(f=this.confirmedDialogAcks.get(r.id)){if(!((l=this.transaction)instanceof s.InviteClientTransaction))throw new Error("Client transaction not instance of InviteClientTransaction.");l.ackResponse(f.message)}return}if(c=this.earlyDialogs.get(r.id))c.confirm(),c.recomputeRouteSet(e),this.earlyDialogs.delete(c.id),this.confirmedDialogs.set(c.id,c);else{var l;if(!((l=this.transaction)instanceof s.InviteClientTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");c=new i.SessionDialog(l,this.core,r),this.confirmedDialogs.set(c.id,c)}c.signalingState!==o.SignalingState.Initial&&c.signalingState!==o.SignalingState.HaveLocalOffer||c.signalingStateTransition(e);var d=c;if(this.delegate&&this.delegate.onAccept)this.delegate.onAccept({message:e,session:d,ack:function(e){var n=d.ack(e);return t.confirmedDialogAcks.set(d.id,n),n}});else{var f=d.ack();this.confirmedDialogAcks.set(d.id,f)}return;case/^3[0-9]{2}$/.test(n):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e}));case/^[4-6][0-9]{2}$/.test(n):return this.earlyDialogs.forEach((function(e){return e.dispose()})),this.earlyDialogs.clear(),void(this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e}));default:throw new Error("Invalid status code "+n)}throw new Error("Executing what should be an unreachable code path receiving "+n+" response.")}},t}(n(7831).UserAgentClient);t.InviteUserAgentClient=a},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(9121),o=n(7571),s=n(5509),a=n(438),u=n(8623),c=function(e){function t(t,n,r){var i=e.call(this,a.InviteServerTransaction,t,n,r)||this;return i.core=t,i}return r.__extends(t,e),t.prototype.dispose=function(){this.earlyDialog&&this.earlyDialog.dispose(),e.prototype.dispose.call(this)},t.prototype.accept=function(t){if(void 0===t&&(t={statusCode:200}),!this.acceptable)throw new o.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");if(!this.confirmedDialog)if(this.earlyDialog)this.earlyDialog.confirm(),this.confirmedDialog=this.earlyDialog,this.earlyDialog=void 0;else{var n=this.transaction;if(!(n instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var c=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag);this.confirmedDialog=new i.SessionDialog(n,this.core,c)}var l=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),d="Contact: "+this.core.configuration.contact.toString(),f="Allow: "+u.AllowedMethods.toString();if(!t.body)if(this.confirmedDialog.signalingState===s.SignalingState.Stable)t.body=this.confirmedDialog.answer;else if(this.confirmedDialog.signalingState===s.SignalingState.Initial||this.confirmedDialog.signalingState===s.SignalingState.HaveRemoteOffer)throw new Error("Response must have a body.");t.statusCode=t.statusCode||200,t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(l),t.extraHeaders.push(f),t.extraHeaders.push(d);var p=e.prototype.accept.call(this,t),h=this.confirmedDialog,g=r.__assign({},p,{session:h});return t.body&&this.confirmedDialog.signalingState!==s.SignalingState.Stable&&this.confirmedDialog.signalingStateTransition(t.body),g},t.prototype.progress=function(t){if(void 0===t&&(t={statusCode:180}),!this.progressable)throw new o.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");if(!this.earlyDialog){var n=this.transaction;if(!(n instanceof a.InviteServerTransaction))throw new Error("Transaction not instance of InviteClientTransaction.");var u=i.Dialog.initialDialogStateForUserAgentServer(this.message,this.toTag,!0);this.earlyDialog=new i.SessionDialog(n,this.core,u)}var c=this.message.getHeaders("record-route").map((function(e){return"Record-Route: "+e})),l="Contact: "+this.core.configuration.contact;t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(c),t.extraHeaders.push(l);var d=e.prototype.progress.call(this,t),f=this.earlyDialog,p=r.__assign({},d,{session:f});return t.body&&this.earlyDialog.signalingState!==s.SignalingState.Stable&&this.earlyDialog.signalingStateTransition(t.body),p},t.prototype.redirect=function(t,n){return void 0===n&&(n={statusCode:302}),e.prototype.redirect.call(this,t,n)},t.prototype.reject=function(t){return void 0===t&&(t={statusCode:486}),e.prototype.reject.call(this,t)},t}(n(2210).UserAgentServer);t.InviteUserAgentServer=c},4509:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteClientTransaction,t,n,r)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.MessageUserAgentClient=o},3275:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=e.call(this,i.NonInviteServerTransaction,t,n,r)||this;return o.core=t,o}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.MessageUserAgentServer=o},8494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s=t.createOutgoingRequestMessage(i.C.NOTIFY,r);return e.call(this,o.NonInviteClientTransaction,t.userAgentCore,s,n)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.NotifyUserAgentClient=s},5997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,o,n,r)||this}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.NotifyUserAgentServer=o},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s,a=t.createOutgoingRequestMessage(i.C.PRACK,r);return s=e.call(this,o.NonInviteClientTransaction,t.userAgentCore,a,n)||this,t.signalingStateTransition(a),s}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.PrackUserAgentClient=s},8639:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=e.call(this,i.NonInviteServerTransaction,t.userAgentCore,n,r)||this;return t.signalingStateTransition(n),o.dialog=t,o}return r.__extends(t,e),t.prototype.accept=function(t){return void 0===t&&(t={statusCode:200}),t.body&&this.dialog.signalingStateTransition(t.body),e.prototype.accept.call(this,t)},t}(n(2210).UserAgentServer);t.PrackUserAgentServer=o},1321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteClientTransaction,t,n,r)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.PublishUserAgentClient=o},8855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s=this,a=t.createOutgoingRequestMessage(i.C.INVITE,r);return(s=e.call(this,o.InviteClientTransaction,t.userAgentCore,a,n)||this).delegate=n,t.signalingStateTransition(a),t.reinviteUserAgentClient=s,s.dialog=t,s}return r.__extends(t,e),t.prototype.receiveResponse=function(e){var t=this,n=e.statusCode?e.statusCode.toString():"";if(!n)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(n):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(n):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e,session:this.dialog,prack:function(e){throw new Error("Unimplemented.")}});break;case/^2[0-9]{2}$/.test(n):this.dialog.signalingStateTransition(e),this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e,session:this.dialog,ack:function(e){return t.dialog.ack(e)}});break;case/^3[0-9]{2}$/.test(n):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(n):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+n)}},t}(n(7831).UserAgentClient);t.ReInviteUserAgentClient=s},9311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=e.call(this,i.InviteServerTransaction,t.userAgentCore,n,r)||this;return t.reinviteUserAgentServer=o,o.dialog=t,o}return r.__extends(t,e),t.prototype.accept=function(t){void 0===t&&(t={statusCode:200}),t.extraHeaders=t.extraHeaders||[],t.extraHeaders=t.extraHeaders.concat(this.dialog.routeSet.map((function(e){return"Record-Route: "+e})));var n=e.prototype.accept.call(this,t),i=this.dialog,o=r.__assign({},n,{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),this.dialog.reConfirm(),o},t.prototype.progress=function(t){void 0===t&&(t={statusCode:180});var n=e.prototype.progress.call(this,t),i=this.dialog,o=r.__assign({},n,{session:i});return t.body&&this.dialog.signalingStateTransition(t.body),o},t}(n(2210).UserAgentServer);t.ReInviteUserAgentServer=o},2670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s=this,a=t.createOutgoingRequestMessage(i.C.SUBSCRIBE,r);return(s=e.call(this,o.NonInviteClientTransaction,t.userAgentCore,a,n)||this).dialog=t,s}return r.__extends(t,e),t.prototype.waitNotifyStop=function(){},t.prototype.receiveResponse=function(t){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var n=t.getHeader("Expires");if(n){var r=Number(n);this.dialog.subscriptionExpires>r&&(this.dialog.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE")}if(t.statusCode&&t.statusCode>=400&&t.statusCode<700){[404,405,410,416,480,481,482,483,484,485,489,501,604].includes(t.statusCode)&&this.dialog.terminate()}e.prototype.receiveResponse.call(this,t)},t}(n(7831).UserAgentClient);t.ReSubscribeUserAgentClient=s},6814:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteServerTransaction,t.userAgentCore,n,r)||this}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.ReSubscribeUserAgentServer=o},3963:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1130),o=n(438),s=function(e){function t(t,n,r){var s=t.createOutgoingRequestMessage(i.C.REFER,r);return e.call(this,o.NonInviteClientTransaction,t.userAgentCore,s,n)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.ReferUserAgentClient=s},5385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=void 0!==t.userAgentCore?t.userAgentCore:t;return e.call(this,i.NonInviteServerTransaction,o,n,r)||this}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.ReferUserAgentServer=o},7630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){return e.call(this,i.NonInviteClientTransaction,t,n,r)||this}return r.__extends(t,e),t}(n(7831).UserAgentClient);t.RegisterUserAgentClient=o},738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(7250),o=n(3738),s=n(3505),a=n(438),u=function(e){function t(t,n,r){var i=this,s=n.getHeader("Event");if(!s)throw new Error("Event undefined");var u=n.getHeader("Expires");if(!u)throw new Error("Expires undefined");return(i=e.call(this,a.NonInviteClientTransaction,t,n,r)||this).delegate=r,i.subscriberId=n.callId+n.fromTag+s,i.subscriptionExpiresRequested=i.subscriptionExpires=Number(u),i.subscriptionEvent=s,i.subscriptionState=o.SubscriptionState.NotifyWait,i.waitNotifyStart(),i}return r.__extends(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onNotify=function(e){var t=e.message.parseHeader("Event").event;if(!t||t!==this.subscriptionEvent)return this.logger.warn("Failed to parse event."),void e.reject({statusCode:489});var n=e.message.parseHeader("Subscription-State");if(!n||!n.state)return this.logger.warn("Failed to parse subscription state."),void e.reject({statusCode:489});var r=n.state;switch(r){case"pending":case"active":case"terminated":break;default:return this.logger.warn("Invalid subscription state "+r),void e.reject({statusCode:489})}if("terminated"!==r&&!e.message.parseHeader("contact"))return this.logger.warn("Failed to parse contact."),void e.reject({statusCode:489});if(this.dialog)throw new Error("Dialog already created. This implementation only supports install of single subscriptions.");switch(this.waitNotifyStop(),this.subscriptionExpires=n.expires?Math.min(this.subscriptionExpires,Math.max(n.expires,0)):this.subscriptionExpires,r){case"pending":this.subscriptionState=o.SubscriptionState.Pending;break;case"active":this.subscriptionState=o.SubscriptionState.Active;break;case"terminated":this.subscriptionState=o.SubscriptionState.Terminated;break;default:throw new Error("Unrecognized state "+r+".")}if(this.subscriptionState!==o.SubscriptionState.Terminated){var s=i.SubscriptionDialog.initialDialogStateForSubscription(this.message,e.message);this.dialog=new i.SubscriptionDialog(this.subscriptionEvent,this.subscriptionExpires,this.subscriptionState,this.core,s)}if(this.delegate&&this.delegate.onNotify){var a=e,u=this.dialog;this.delegate.onNotify({request:a,subscription:u})}else e.accept()},t.prototype.waitNotifyStart=function(){var e=this;this.N||(this.core.subscribers.set(this.subscriberId,this),this.N=setTimeout((function(){return e.timer_N()}),s.Timers.TIMER_N))},t.prototype.waitNotifyStop=function(){this.N&&(this.core.subscribers.delete(this.subscriberId),clearTimeout(this.N),this.N=void 0)},t.prototype.receiveResponse=function(t){if(this.authenticationGuard(t)){if(t.statusCode&&t.statusCode>=200&&t.statusCode<300){var n=t.getHeader("Expires");if(n){var r=Number(n);r>this.subscriptionExpiresRequested&&this.logger.warn("Expires header in a 200-class response to SUBSCRIBE with a higher value than the one in the request"),r<this.subscriptionExpires&&(this.subscriptionExpires=r)}else this.logger.warn("Expires header missing in a 200-class response to SUBSCRIBE");this.dialog&&this.dialog.subscriptionExpires>this.subscriptionExpires&&(this.dialog.subscriptionExpires=this.subscriptionExpires)}t.statusCode&&t.statusCode>=300&&t.statusCode<700&&this.waitNotifyStop(),e.prototype.receiveResponse.call(this,t)}},t.prototype.timer_N=function(){this.logger.warn("Timer N expired for SUBSCRIBE user agent client. Timed out waiting for NOTIFY."),this.waitNotifyStop(),this.delegate&&this.delegate.onNotifyTimeout&&this.delegate.onNotifyTimeout()},t}(n(7831).UserAgentClient);t.SubscribeUserAgentClient=u},8415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(438),o=function(e){function t(t,n,r){var o=e.call(this,i.NonInviteServerTransaction,t,n,r)||this;return o.core=t,o}return r.__extends(t,e),t}(n(2210).UserAgentServer);t.SubscribeUserAgentServer=o},7831:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1130),i=n(438),o=function(){function e(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.challenged=!1,this.stale=!1,this.logger=this.loggerFactory.getLogger("sip.user-agent-client"),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.cancel=function(t,n){var o=this;if(void 0===n&&(n={}),!this.transaction)throw new Error("Transaction undefined.");if(!this.message.to)throw new Error("To undefined.");if(!this.message.from)throw new Error("From undefined.");var s=this.core.makeOutgoingRequestMessage(r.C.CANCEL,this.message.ruri,this.message.from.uri,this.message.to.uri,{toTag:this.message.toTag,fromTag:this.message.fromTag,callId:this.message.callId,cseq:this.message.cseq},n.extraHeaders);if(s.branch=this.message.branch,this.message.headers.Route&&(s.headers.Route=this.message.headers.Route),t&&s.setHeader("Reason",t),this.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,this.core,s);else this.transaction.once("stateChanged",(function(){if(o.transaction&&o.transaction.state===i.TransactionState.Proceeding)new e(i.NonInviteClientTransaction,o.core,s)}));return s},e.prototype.authenticationGuard=function(e){var t,n,r=e.statusCode;if(!r)throw new Error("Response status code undefined.");if(401!==r&&407!==r)return!0;if(401===r?(t=e.parseHeader("www-authenticate"),n="authorization"):(t=e.parseHeader("proxy-authenticate"),n="proxy-authorization"),!t)return this.logger.warn(r+" with wrong or missing challenge, cannot authenticate"),!0;if(this.challenged&&(this.stale||!0!==t.stale))return this.logger.warn(r+" apparently in authentication loop, cannot authenticate"),!0;if(!this.credentials&&(this.credentials=this.core.configuration.authenticationFactory(),!this.credentials))return this.logger.warn("Unable to obtain credentials, cannot authenticate"),!0;if(!this.credentials.authenticate(this.message,t))return!0;this.challenged=!0,t.stale&&(this.stale=!0);var i=this.message.cseq+=1;return this.message.setHeader("cseq",i+" "+this.message.method),this.message.setHeader(n,this.credentials.toString()),this.init(),!1},e.prototype.receiveResponse=function(e){if(this.authenticationGuard(e)){var t=e.statusCode?e.statusCode.toString():"";if(!t)throw new Error("Response status code undefined.");switch(!0){case/^100$/.test(t):this.delegate&&this.delegate.onTrying&&this.delegate.onTrying({message:e});break;case/^1[0-9]{2}$/.test(t):this.delegate&&this.delegate.onProgress&&this.delegate.onProgress({message:e});break;case/^2[0-9]{2}$/.test(t):this.delegate&&this.delegate.onAccept&&this.delegate.onAccept({message:e});break;case/^3[0-9]{2}$/.test(t):this.delegate&&this.delegate.onRedirect&&this.delegate.onRedirect({message:e});break;case/^[4-6][0-9]{2}$/.test(t):this.delegate&&this.delegate.onReject&&this.delegate.onReject({message:e});break;default:throw new Error("Invalid status code "+t)}}},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onRequestTimeout:function(){return e.onRequestTimeout()},onStateChange:function(t){t===i.TransactionState.Terminated&&(e.core.userAgentClients.delete(r),n===e._transaction&&e.dispose())},onTransportError:function(t){return e.onTransportError(t)},receiveResponse:function(t){return e.receiveResponse(t)}},n=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=n;var r=n.id+n.request.method;this.core.userAgentClients.set(r,this)},e.prototype.onRequestTimeout=function(){this.logger.warn("User agent client request timed out. Generating internal 408 Request Timeout.");var e=new r.IncomingResponseMessage;e.statusCode=408,e.reasonPhrase="Request Timeout",this.receiveResponse(e)},e.prototype.onTransportError=function(e){this.logger.error(e.message),this.logger.error("User agent client request transport error. Generating internal 503 Service Unavailable.");var t=new r.IncomingResponseMessage;t.statusCode=503,t.reasonPhrase="Service Unavailable",this.receiveResponse(t)},e}();t.UserAgentClient=o},2210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7571),i=n(1130),o=n(1701),s=n(438),a=function(){function e(e,t,n,r){this.transactionConstructor=e,this.core=t,this.message=n,this.delegate=r,this.logger=this.loggerFactory.getLogger("sip.user-agent-server"),this.toTag=n.toTag?n.toTag:o.newTag(),this.init()}return e.prototype.dispose=function(){this.transaction.dispose()},Object.defineProperty(e.prototype,"loggerFactory",{get:function(){return this.core.loggerFactory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transaction",{get:function(){if(!this._transaction)throw new Error("Transaction undefined.");return this._transaction},enumerable:!0,configurable:!0}),e.prototype.accept=function(e){if(void 0===e&&(e={statusCode:200}),!this.acceptable)throw new r.TransactionStateError(this.message.method+" not acceptable in state "+this.transaction.state+".");var t=e.statusCode;if(t<200||t>299)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.progress=function(e){if(void 0===e&&(e={statusCode:180}),!this.progressable)throw new r.TransactionStateError(this.message.method+" not progressable in state "+this.transaction.state+".");var t=e.statusCode;if(t<101||t>199)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.redirect=function(e,t){if(void 0===t&&(t={statusCode:302}),!this.redirectable)throw new r.TransactionStateError(this.message.method+" not redirectable in state "+this.transaction.state+".");var n=t.statusCode;if(n<300||n>399)throw new TypeError("Invalid statusCode: "+n);var i=new Array;return e.forEach((function(e){return i.push("Contact: "+e.toString())})),t.extraHeaders=(t.extraHeaders||[]).concat(i),this.reply(t)},e.prototype.reject=function(e){if(void 0===e&&(e={statusCode:480}),!this.rejectable)throw new r.TransactionStateError(this.message.method+" not rejectable in state "+this.transaction.state+".");var t=e.statusCode;if(t<400||t>699)throw new TypeError("Invalid statusCode: "+t);return this.reply(e)},e.prototype.trying=function(e){if(!this.tryingable)throw new r.TransactionStateError(this.message.method+" not tryingable in state "+this.transaction.state+".");return this.reply({statusCode:100})},e.prototype.receiveCancel=function(e){this.delegate&&this.delegate.onCancel&&this.delegate.onCancel(e)},Object.defineProperty(e.prototype,"acceptable",{get:function(){if(this.transaction instanceof s.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding||this.transaction.state===s.TransactionState.Accepted;if(this.transaction instanceof s.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressable",{get:function(){if(this.transaction instanceof s.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof s.NonInviteServerTransaction)return!1;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redirectable",{get:function(){if(this.transaction instanceof s.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof s.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rejectable",{get:function(){if(this.transaction instanceof s.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof s.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying||this.transaction.state===s.TransactionState.Proceeding;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tryingable",{get:function(){if(this.transaction instanceof s.InviteServerTransaction)return this.transaction.state===s.TransactionState.Proceeding;if(this.transaction instanceof s.NonInviteServerTransaction)return this.transaction.state===s.TransactionState.Trying;throw new Error("Unknown transaction type.")},enumerable:!0,configurable:!0}),e.prototype.reply=function(e){e.toTag||100===e.statusCode||(e.toTag=this.toTag),e.userAgent=e.userAgent||this.core.configuration.userAgentHeaderFieldValue,e.supported=e.supported||this.core.configuration.supportedOptionTagsResponse;var t=i.constructOutgoingResponse(this.message,e);return this.transaction.receiveResponse(e.statusCode,t.message),t},e.prototype.init=function(){var e=this,t={loggerFactory:this.loggerFactory,onStateChange:function(t){t===s.TransactionState.Terminated&&(e.core.userAgentServers.delete(r),e.dispose())},onTransportError:function(t){e.logger.error(t.message),e.delegate&&e.delegate.onTransportError?e.delegate.onTransportError(t):e.logger.error("User agent server response transport error.")}},n=new this.transactionConstructor(this.message,this.core.transport,t);this._transaction=n;var r=n.id;this.core.userAgentServers.set(n.id,this)},e}();t.UserAgentServer=a},7005:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5765),i=n(1050),o=n(4065),s=function(e){function t(n,r,i,o){var s=e.call(this)||this;return s.message=n,s.expected=r,s.found=i,s.location=o,s.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(s,t),s}return r.__extends(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(o);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(((s=t)?'"'+r(s)+'"':"end of input")+" found.");var s},t}(Error);t.SyntaxError=s,t.parse=function(e,t){t=void 0!==t?t:{};var n,r={},a={Contact:119,Name_Addr_Header:156,Record_Route:176,Request_Response:81,SIP_URI:45,Subscription_State:186,Supported:191,Require:182,Via:194,absoluteURI:84,Call_ID:118,Content_Disposition:130,Content_Length:135,Content_Type:136,CSeq:146,displayName:122,Event:149,From:151,host:52,Max_Forwards:154,Min_SE:213,Proxy_Authenticate:157,quoted_string:40,Refer_To:178,Replaces:179,Session_Expires:210,stun_URI:217,To:192,turn_URI:223,uuid:226,WWW_Authenticate:209,challenge:158,sipfrag:230,Referred_By:231},u=119,c=["\r\n",S("\r\n",!1),/^[0-9]/,b([["0","9"]],!1,!1),/^[a-zA-Z]/,b([["a","z"],["A","Z"]],!1,!1),/^[0-9a-fA-F]/,b([["0","9"],["a","f"],["A","F"]],!1,!1),/^[\0-\xFF]/,b([["\0","\xff"]],!1,!1),/^["]/,b(['"'],!1,!1)," ",S(" ",!1),"\t",S("\t",!1),/^[a-zA-Z0-9]/,b([["a","z"],["A","Z"],["0","9"]],!1,!1),";",S(";",!1),"/",S("/",!1),"?",S("?",!1),":",S(":",!1),"@",S("@",!1),"&",S("&",!1),"=",S("=",!1),"+",S("+",!1),"$",S("$",!1),",",S(",",!1),"-",S("-",!1),"_",S("_",!1),".",S(".",!1),"!",S("!",!1),"~",S("~",!1),"*",S("*",!1),"'",S("'",!1),"(",S("(",!1),")",S(")",!1),"%",S("%",!1),function(){return" "},function(){return":"},/^[!-~]/,b([["!","~"]],!1,!1),/^[\x80-\uFFFF]/,b([["\x80","\uffff"]],!1,!1),/^[\x80-\xBF]/,b([["\x80","\xbf"]],!1,!1),/^[a-f]/,b([["a","f"]],!1,!1),"`",S("`",!1),"<",S("<",!1),">",S(">",!1),"\\",S("\\",!1),"[",S("[",!1),"]",S("]",!1),"{",S("{",!1),"}",S("}",!1),function(){return"*"},function(){return"/"},function(){return"="},function(){return"("},function(){return")"},function(){return">"},function(){return"<"},function(){return","},function(){return";"},function(){return":"},function(){return'"'},/^[!-']/,b([["!","'"]],!1,!1),/^[*-[]/,b([["*","["]],!1,!1),/^[\]-~]/,b([["]","~"]],!1,!1),function(e){return e},/^[#-[]/,b([["#","["]],!1,!1),/^[\0-\t]/,b([["\0","\t"]],!1,!1),/^[\x0B-\f]/,b([["\v","\f"]],!1,!1),/^[\x0E-\x7F]/,b([["\x0e","\x7f"]],!1,!1),function(){(t=t||{data:{}}).data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port},function(){(t=t||{data:{}}).data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params,"SIP_URI"===t.startRule&&(t.data=t.data.uri)},"sips",S("sips",!0),"sip",S("sip",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(){(t=t||{data:{}}).data.user=decodeURIComponent(m().slice(0,-1))},function(){(t=t||{data:{}}).data.password=m()},function(){return(t=t||{data:{}}).data.host=m(),t.data.host},function(){return(t=t||{data:{}}).data.host_type="domain",m()},/^[a-zA-Z0-9_\-]/,b([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),/^[a-zA-Z0-9\-]/,b([["a","z"],["A","Z"],["0","9"],"-"],!1,!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},"::",S("::",!1),function(){return(t=t||{data:{}}).data.host_type="IPv6",m()},function(){return(t=t||{data:{}}).data.host_type="IPv4",m()},"25",S("25",!1),/^[0-5]/,b([["0","5"]],!1,!1),"2",S("2",!1),/^[0-4]/,b([["0","4"]],!1,!1),"1",S("1",!1),/^[1-9]/,b([["1","9"]],!1,!1),function(e){return t=t||{data:{}},e=parseInt(e.join("")),t.data.port=e,e},"transport=",S("transport=",!0),"udp",S("udp",!0),"tcp",S("tcp",!0),"sctp",S("sctp",!0),"tls",S("tls",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.transport=e.toLowerCase()},"user=",S("user=",!0),"phone",S("phone",!0),"ip",S("ip",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.user=e.toLowerCase()},"method=",S("method=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.method=e},"ttl=",S("ttl=",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.ttl=e},"maddr=",S("maddr=",!0),function(e){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.maddr=e},"lr",S("lr",!0),function(){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),t.data.uri_params.lr=void 0},function(e,n){(t=t||{data:{}}).data.uri_params||(t.data.uri_params={}),n=null===n?void 0:n[1],t.data.uri_params[e.toLowerCase()]=n},function(e,n){e=e.join("").toLowerCase(),n=n.join(""),(t=t||{data:{}}).data.uri_headers||(t.data.uri_headers={}),t.data.uri_headers[e]?t.data.uri_headers[e].push(n):t.data.uri_headers[e]=[n]},function(){"Refer_To"===(t=t||{data:{}}).startRule&&(t.data.uri=new o.URI(t.data.scheme,t.data.user,t.data.host,t.data.port,t.data.uri_params,t.data.uri_headers),delete t.data.scheme,delete t.data.user,delete t.data.host,delete t.data.host_type,delete t.data.port,delete t.data.uri_params)},"//",S("//",!1),function(){(t=t||{data:{}}).data.scheme=m()},S("SIP",!0),function(){(t=t||{data:{}}).data.sip_version=m()},"INVITE",S("INVITE",!1),"ACK",S("ACK",!1),"VXACH",S("VXACH",!1),"OPTIONS",S("OPTIONS",!1),"BYE",S("BYE",!1),"CANCEL",S("CANCEL",!1),"REGISTER",S("REGISTER",!1),"SUBSCRIBE",S("SUBSCRIBE",!1),"NOTIFY",S("NOTIFY",!1),"REFER",S("REFER",!1),"PUBLISH",S("PUBLISH",!1),function(){return(t=t||{data:{}}).data.method=m(),t.data.method},function(e){(t=t||{data:{}}).data.status_code=parseInt(e.join(""))},function(){(t=t||{data:{}}).data.reason_phrase=m()},function(){(t=t||{data:{}}).data=m()},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(n){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(e){'"'===(e=m().trim())[0]&&(e=e.substring(1,e.length-1)),(t=t||{data:{}}).data.displayName=e},"q",S("q",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.q=e},"expires",S("expires",!0),function(e){(t=t||{data:{}}).data.params||(t.data.params={}),t.data.params.expires=e},function(e){return parseInt(e.join(""))},"0",S("0",!1),function(){return parseFloat(m())},function(e,n){(t=t||{data:{}}).data.params||(t.data.params={}),n=null===n?void 0:n[1],t.data.params[e.toLowerCase()]=n},"render",S("render",!0),"session",S("session",!0),"icon",S("icon",!0),"alert",S("alert",!0),function(){"Content_Disposition"===(t=t||{data:{}}).startRule&&(t.data.type=m().toLowerCase())},"handling",S("handling",!0),"optional",S("optional",!0),"required",S("required",!0),function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(){(t=t||{data:{}}).data=m()},"text",S("text",!0),"image",S("image",!0),"audio",S("audio",!0),"video",S("video",!0),"application",S("application",!0),"message",S("message",!0),"multipart",S("multipart",!0),"x-",S("x-",!0),function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(e){(t=t||{data:{}}).data.event=e.toLowerCase()},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"tag",S("tag",!0),function(e){(t=t||{data:{}}).data.tag=e},function(e){(t=t||{data:{}}).data=parseInt(e.join(""))},function(e){(t=t||{data:{}}).data=e},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},"digest",S("Digest",!0),"realm",S("realm",!0),function(e){(t=t||{data:{}}).data.realm=e},"domain",S("domain",!0),"nonce",S("nonce",!0),function(e){(t=t||{data:{}}).data.nonce=e},"opaque",S("opaque",!0),function(e){(t=t||{data:{}}).data.opaque=e},"stale",S("stale",!0),"true",S("true",!0),function(){(t=t||{data:{}}).data.stale=!0},"false",S("false",!0),function(){(t=t||{data:{}}).data.stale=!1},"algorithm",S("algorithm",!0),"md5",S("MD5",!0),"md5-sess",S("MD5-sess",!0),function(e){(t=t||{data:{}}).data.algorithm=e.toUpperCase()},"qop",S("qop",!0),"auth-int",S("auth-int",!0),"auth",S("auth",!0),function(e){(t=t||{data:{}}).data.qop||(t.data.qop=[]),t.data.qop.push(e.toLowerCase())},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},function(){var e,n;for(n=(t=t||{data:{}}).data.multi_header.length,e=0;e<n;e++)if(null===t.data.multi_header[e].parsed){t.data=null;break}null!==t.data?t.data=t.data.multi_header:t.data=-1},function(){var e;(t=t||{data:{}}).data.multi_header||(t.data.multi_header=[]);try{e=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),delete t.data.uri,delete t.data.displayName,delete t.data.params}catch(n){e=null}t.data.multi_header.push({position:d,offset:y().start.offset,parsed:e})},function(){(t=t||{data:{}}).data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params)},function(){(t=t||{data:{}}).data.replaces_from_tag&&t.data.replaces_to_tag||(t.data=-1)},function(){(t=t||{data:{}}).data={call_id:t.data}},"from-tag",S("from-tag",!0),function(e){(t=t||{data:{}}).data.replaces_from_tag=e},"to-tag",S("to-tag",!0),function(e){(t=t||{data:{}}).data.replaces_to_tag=e},"early-only",S("early-only",!0),function(){(t=t||{data:{}}).data.early_only=!0},function(e,t){return t},function(e,t){return function(e,t){return[e].concat(t)}(e,t)},function(e){"Require"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(e){(t=t||{data:{}}).data.value=parseInt(e.join(""))},"active",S("active",!0),"pending",S("pending",!0),"terminated",S("terminated",!0),function(){(t=t||{data:{}}).data.state=m()},"reason",S("reason",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.reason=e)},function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.expires=e)},"retry_after",S("retry_after",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.retry_after=e)},"deactivated",S("deactivated",!0),"probation",S("probation",!0),"rejected",S("rejected",!0),"timeout",S("timeout",!0),"giveup",S("giveup",!0),"noresource",S("noresource",!0),"invariant",S("invariant",!0),function(e){"Supported"===(t=t||{data:{}}).startRule&&(t.data=e||[])},function(){var e=(t=t||{data:{}}).data.tag;t.data=new i.NameAddrHeader(t.data.uri,t.data.displayName,t.data.params),e&&t.data.setParam("tag",e)},"ttl",S("ttl",!0),function(e){(t=t||{data:{}}).data.ttl=e},"maddr",S("maddr",!0),function(e){(t=t||{data:{}}).data.maddr=e},"received",S("received",!0),function(e){(t=t||{data:{}}).data.received=e},"branch",S("branch",!0),function(e){(t=t||{data:{}}).data.branch=e},"rport",S("rport",!0),function(e){t=t||{data:{}},"undefined"!==typeof e&&(t.data.rport=e.join(""))},function(e){(t=t||{data:{}}).data.protocol=e},S("UDP",!0),S("TCP",!0),S("TLS",!0),S("SCTP",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data.host=m()},function(e){(t=t||{data:{}}).data.port=parseInt(e.join(""))},function(e){return parseInt(e.join(""))},function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.deltaSeconds=e)},"refresher",S("refresher",!1),"uas",S("uas",!1),"uac",S("uac",!1),function(e){"Session_Expires"===(t=t||{data:{}}).startRule&&(t.data.refresher=e)},function(e){"Min_SE"===(t=t||{data:{}}).startRule&&(t.data=e)},"stuns",S("stuns",!0),"stun",S("stun",!0),function(e){(t=t||{data:{}}).data.scheme=e},function(e){(t=t||{data:{}}).data.host=e},"?transport=",S("?transport=",!1),"turns",S("turns",!0),"turn",S("turn",!0),function(e){(t=t||{data:{}}).data.transport=e},function(){(t=t||{data:{}}).data=m()},"Referred-By",S("Referred-By",!1),"b",S("b",!1),"cid",S("cid",!1)],l=[_('2 ""6 7!'),_('4"""5!7#'),_('4$""5!7%'),_('4&""5!7\''),_(";'.# &;("),_('4(""5!7)'),_('4*""5!7+'),_('2,""6,7-'),_('2.""6.7/'),_('40""5!71'),_('22""6273.\x89 &24""6475.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),_(";).# &;,"),_('2F""6F7G.} &2H""6H7I.q &2J""6J7K.e &2L""6L7M.Y &2N""6N7O.M &2P""6P7Q.A &2R""6R7S.5 &2T""6T7U.) &2V""6V7W'),_('%%2X""6X7Y/5#;#/,$;#/#$+#)(#\'#("\'#&\'#/"!&,)'),_('%%$;$0#*;$&/,#; /#$+")("\'#&\'#." &"/=#$;$/&#0#*;$&&&#/\'$8":Z" )("\'#&\'#'),_(';.." &"'),_("%$;'.# &;(0)*;'.# &;(&/?#28\"\"6879/0$;//'$8#:[# )(#'#(\"'#&'#"),_('%%$;2/&#0#*;2&&&#/g#$%$;.0#*;.&/,#;2/#$+")("\'#&\'#0=*%$;.0#*;.&/,#;2/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),_('4\\""5!7].# &;3'),_('4^""5!7_'),_('4`""5!7a'),_(';!.) &4b""5!7c'),_('%$;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x9e#0\x9b*;).\x95 &2F""6F7G.\x89 &2J""6J7K.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),_('%$;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O/\x92#0\x8f*;).\x89 &2F""6F7G.} &2L""6L7M.q &2X""6X7Y.e &2P""6P7Q.Y &2H""6H7I.M &2@""6@7A.A &2d""6d7e.5 &2R""6R7S.) &2N""6N7O&&&#/"!&,)'),_('2T""6T7U.\xe3 &2V""6V7W.\xd7 &2f""6f7g.\xcb &2h""6h7i.\xbf &2:""6:7;.\xb3 &2D""6D7E.\xa7 &22""6273.\x9b &28""6879.\x8f &2j""6j7k.\x83 &;&.} &24""6475.q &2l""6l7m.e &2n""6n7o.Y &26""6677.M &2>""6>7?.A &2p""6p7q.5 &2r""6r7s.) &;\'.# &;('),_('%$;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s/\u0134#0\u0131*;).\u012b &2F""6F7G.\u011f &2J""6J7K.\u0113 &2L""6L7M.\u0107 &2X""6X7Y.\xfb &2P""6P7Q.\xef &2H""6H7I.\xe3 &2@""6@7A.\xd7 &2d""6d7e.\xcb &2R""6R7S.\xbf &2N""6N7O.\xb3 &2T""6T7U.\xa7 &2V""6V7W.\x9b &2f""6f7g.\x8f &2h""6h7i.\x83 &28""6879.w &2j""6j7k.k &;&.e &24""6475.Y &2l""6l7m.M &2n""6n7o.A &26""6677.5 &2p""6p7q.) &2r""6r7s&&&#/"!&,)'),_("%;//?#2P\"\"6P7Q/0$;//'$8#:t# )(#'#(\"'#&'#"),_("%;//?#24\"\"6475/0$;//'$8#:u# )(#'#(\"'#&'#"),_("%;//?#2>\"\"6>7?/0$;//'$8#:v# )(#'#(\"'#&'#"),_("%;//?#2T\"\"6T7U/0$;//'$8#:w# )(#'#(\"'#&'#"),_("%;//?#2V\"\"6V7W/0$;//'$8#:x# )(#'#(\"'#&'#"),_('%2h""6h7i/0#;//\'$8":y" )("\'#&\'#'),_('%;//6#2f""6f7g/\'$8":z" )("\'#&\'#'),_("%;//?#2D\"\"6D7E/0$;//'$8#:{# )(#'#(\"'#&'#"),_("%;//?#22\"\"6273/0$;//'$8#:|# )(#'#(\"'#&'#"),_("%;//?#28\"\"6879/0$;//'$8#:}# )(#'#(\"'#&'#"),_("%;//0#;&/'$8\":~\" )(\"'#&'#"),_("%;&/0#;//'$8\":~\" )(\"'#&'#"),_("%;=/T#$;G.) &;K.# &;F0/*;G.) &;K.# &;F&/,$;>/#$+#)(#'#(\"'#&'#"),_('4\x7f""5!7\x80.A &4\x81""5!7\x82.5 &4\x83""5!7\x84.) &;3.# &;.'),_("%%;//Q#;&/H$$;J.# &;K0)*;J.# &;K&/,$;&/#$+$)($'#(#'#(\"'#&'#/\"!&,)"),_("%;//]#;&/T$%$;J.# &;K0)*;J.# &;K&/\"!&,)/1$;&/($8$:\x85$!!)($'#(#'#(\"'#&'#"),_(';..G &2L""6L7M.; &4\x86""5!7\x87./ &4\x83""5!7\x84.# &;3'),_('%2j""6j7k/J#4\x88""5!7\x89.5 &4\x8a""5!7\x8b.) &4\x8c""5!7\x8d/#$+")("\'#&\'#'),_("%;N/M#28\"\"6879/>$;O.\" &\"/0$;S/'$8$:\x8e$ )($'#(#'#(\"'#&'#"),_("%;N/d#28\"\"6879/U$;O.\" &\"/G$;S/>$;_/5$;l.\" &\"/'$8&:\x8f& )(&'#(%'#($'#(#'#(\"'#&'#"),_('%3\x90""5$7\x91.) &3\x92""5#7\x93/\' 8!:\x94!! )'),_('%;P/]#%28""6879/,#;R/#$+")("\'#&\'#." &"/6$2:""6:7;/\'$8#:\x95# )(#\'#("\'#&\'#'),_("$;+.) &;-.# &;Q/2#0/*;+.) &;-.# &;Q&&&#"),_('2<""6<7=.q &2>""6>7?.e &2@""6@7A.Y &2B""6B7C.M &2D""6D7E.A &22""6273.5 &26""6677.) &24""6475'),_('%$;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E0e*;+._ &;-.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E&/& 8!:\x96! )'),_('%;T/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),_("%;U.) &;\\.# &;X/& 8!:\x97! )"),_('%$%;V/2#2J""6J7K/#$+")("\'#&\'#0<*%;V/2#2J""6J7K/#$+")("\'#&\'#&/D#;W/;$2J""6J7K." &"/\'$8#:\x98# )(#\'#("\'#&\'#'),_('$4\x99""5!7\x9a/,#0)*4\x99""5!7\x9a&&&#'),_('%4$""5!7%/?#$4\x9b""5!7\x9c0)*4\x9b""5!7\x9c&/#$+")("\'#&\'#'),_('%2l""6l7m/?#;Y/6$2n""6n7o/\'$8#:\x9d# )(#\'#("\'#&\'#'),_('%%;Z/\xb3#28""6879/\xa4$;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+-)(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0790 &%2\x9e""6\x9e7\x9f/\xa4#;Z/\x9b$28""6879/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+,)(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u06f9 &%2\x9e""6\x9e7\x9f/\x8c#;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u067a &%2\x9e""6\x9e7\x9f/t#;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0613 &%2\x9e""6\x9e7\x9f/\\#;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+&)(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u05c4 &%2\x9e""6\x9e7\x9f/D#;Z/;$28""6879/,$;[/#$+$)($\'#(#\'#("\'#&\'#.\u058d &%2\x9e""6\x9e7\x9f/,#;[/#$+")("\'#&\'#.\u056e &%2\x9e""6\x9e7\x9f/,#;Z/#$+")("\'#&\'#.\u054f &%;Z/\x9b#2\x9e""6\x9e7\x9f/\x8c$;Z/\x83$28""6879/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$++)(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u04c7 &%;Z/\xaa#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x83$2\x9e""6\x9e7\x9f/t$;Z/k$28""6879/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+*)(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0430 &%;Z/\xb9#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x92$%28""6879/,#;Z/#$+")("\'#&\'#." &"/k$2\x9e""6\x9e7\x9f/\\$;Z/S$28""6879/D$;Z/;$28""6879/,$;[/#$+))()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u038a &%;Z/\xc8#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa1$%28""6879/,#;Z/#$+")("\'#&\'#." &"/z$%28""6879/,#;Z/#$+")("\'#&\'#." &"/S$2\x9e""6\x9e7\x9f/D$;Z/;$28""6879/,$;[/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u02d5 &%;Z/\xd7#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;[/#$+\')(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0211 &%;Z/\xfe#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xd7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xb0$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x89$%28""6879/,#;Z/#$+")("\'#&\'#." &"/b$%28""6879/,#;Z/#$+")("\'#&\'#." &"/;$2\x9e""6\x9e7\x9f/,$;Z/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#.\u0126 &%;Z/\u011c#%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xf5$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xce$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\xa7$%28""6879/,#;Z/#$+")("\'#&\'#." &"/\x80$%28""6879/,#;Z/#$+")("\'#&\'#." &"/Y$%28""6879/,#;Z/#$+")("\'#&\'#." &"/2$2\x9e""6\x9e7\x9f/#$+()((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#/& 8!:\xa0! )'),_('%;#/M#;#." &"/?$;#." &"/1$;#." &"/#$+$)($\'#(#\'#("\'#&\'#'),_("%;Z/;#28\"\"6879/,$;Z/#$+#)(#'#(\"'#&'#.# &;\\"),_("%;]/o#2J\"\"6J7K/`$;]/W$2J\"\"6J7K/H$;]/?$2J\"\"6J7K/0$;]/'$8':\xa1' )(''#(&'#(%'#($'#(#'#(\"'#&'#"),_('%2\xa2""6\xa27\xa3/2#4\xa4""5!7\xa5/#$+")("\'#&\'#.\x98 &%2\xa6""6\xa67\xa7/;#4\xa8""5!7\xa9/,$;!/#$+#)(#\'#("\'#&\'#.j &%2\xaa""6\xaa7\xab/5#;!/,$;!/#$+#)(#\'#("\'#&\'#.B &%4\xac""5!7\xad/,#;!/#$+")("\'#&\'#.# &;!'),_('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\xae!! )'),_('$%22""6273/,#;`/#$+")("\'#&\'#0<*%22""6273/,#;`/#$+")("\'#&\'#&'),_(";a.A &;b.; &;c.5 &;d./ &;e.) &;f.# &;g"),_('%3\xaf""5*7\xb0/a#3\xb1""5#7\xb2.G &3\xb3""5#7\xb4.; &3\xb5""5$7\xb6./ &3\xb7""5#7\xb8.# &;6/($8":\xb9"! )("\'#&\'#'),_('%3\xba""5%7\xbb/I#3\xbc""5%7\xbd./ &3\xbe""5"7\xbf.# &;6/($8":\xc0"! )("\'#&\'#'),_('%3\xc1""5\'7\xc2/1#;\x90/($8":\xc3"! )("\'#&\'#'),_('%3\xc4""5$7\xc5/1#;\xf0/($8":\xc6"! )("\'#&\'#'),_('%3\xc7""5&7\xc8/1#;T/($8":\xc9"! )("\'#&\'#'),_('%3\xca""5"7\xcb/N#%2>""6>7?/,#;6/#$+")("\'#&\'#." &"/\'$8":\xcc" )("\'#&\'#'),_('%;h/P#%2>""6>7?/,#;i/#$+")("\'#&\'#." &"/)$8":\xcd""! )("\'#&\'#'),_('%$;j/&#0#*;j&&&#/"!&,)'),_('%$;j/&#0#*;j&&&#/"!&,)'),_(";k.) &;+.# &;-"),_('2l""6l7m.e &2n""6n7o.Y &24""6475.M &28""6879.A &2<""6<7=.5 &2@""6@7A.) &2B""6B7C'),_('%26""6677/n#;m/e$$%2<""6<7=/,#;m/#$+")("\'#&\'#0<*%2<""6<7=/,#;m/#$+")("\'#&\'#&/#$+#)(#\'#("\'#&\'#'),_('%;n/A#2>""6>7?/2$;o/)$8#:\xce#"" )(#\'#("\'#&\'#'),_("$;p.) &;+.# &;-/2#0/*;p.) &;+.# &;-&&&#"),_("$;p.) &;+.# &;-0/*;p.) &;+.# &;-&"),_('2l""6l7m.e &2n""6n7o.Y &24""6475.M &26""6677.A &28""6879.5 &2@""6@7A.) &2B""6B7C'),_(";\x91.# &;r"),_("%;\x90/G#;'/>$;s/5$;'/,$;\x84/#$+%)(%'#($'#(#'#(\"'#&'#"),_(";M.# &;t"),_("%;\x7f/E#28\"\"6879/6$;u.# &;x/'$8#:\xcf# )(#'#(\"'#&'#"),_('%;v.# &;w/J#%26""6677/,#;\x83/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),_('%2\xd0""6\xd07\xd1/:#;\x80/1$;w." &"/#$+#)(#\'#("\'#&\'#'),_('%24""6475/,#;{/#$+")("\'#&\'#'),_("%;z/3#$;y0#*;y&/#$+\")(\"'#&'#"),_(";*.) &;+.# &;-"),_(';+.\x8f &;-.\x89 &22""6273.} &26""6677.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),_('%;|/e#$%24""6475/,#;|/#$+")("\'#&\'#0<*%24""6475/,#;|/#$+")("\'#&\'#&/#$+")("\'#&\'#'),_('%$;~0#*;~&/e#$%22""6273/,#;}/#$+")("\'#&\'#0<*%22""6273/,#;}/#$+")("\'#&\'#&/#$+")("\'#&\'#'),_("$;~0#*;~&"),_(';+.w &;-.q &28""6879.e &2:""6:7;.Y &2<""6<7=.M &2>""6>7?.A &2@""6@7A.5 &2B""6B7C.) &2D""6D7E'),_('%%;"/\x87#$;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K0M*;".G &;!.A &2@""6@7A.5 &2F""6F7G.) &2J""6J7K&/#$+")("\'#&\'#/& 8!:\xd2! )'),_(";\x81.# &;\x82"),_('%%;O/2#2:""6:7;/#$+")("\'#&\'#." &"/,#;S/#$+")("\'#&\'#." &"'),_('$;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A/\x8c#0\x89*;+.\x83 &;-.} &2B""6B7C.q &2D""6D7E.e &22""6273.Y &28""6879.M &2:""6:7;.A &2<""6<7=.5 &2>""6>7?.) &2@""6@7A&&&#'),_("$;y0#*;y&"),_('%3\x92""5#7\xd3/q#24""6475/b$$;!/&#0#*;!&&&#/L$2J""6J7K/=$$;!/&#0#*;!&&&#/\'$8%:\xd4% )(%\'#($\'#(#\'#("\'#&\'#'),_('2\xd5""6\xd57\xd6'),_('2\xd7""6\xd77\xd8'),_('2\xd9""6\xd97\xda'),_('2\xdb""6\xdb7\xdc'),_('2\xdd""6\xdd7\xde'),_('2\xdf""6\xdf7\xe0'),_('2\xe1""6\xe17\xe2'),_('2\xe3""6\xe37\xe4'),_('2\xe5""6\xe57\xe6'),_('2\xe7""6\xe77\xe8'),_('2\xe9""6\xe97\xea'),_("%;\x85.Y &;\x86.S &;\x88.M &;\x89.G &;\x8a.A &;\x8b.; &;\x8c.5 &;\x8f./ &;\x8d.) &;\x8e.# &;6/& 8!:\xeb! )"),_("%;\x84/G#;'/>$;\x92/5$;'/,$;\x94/#$+%)(%'#($'#(#'#(\"'#&'#"),_("%;\x93/' 8!:\xec!! )"),_("%;!/5#;!/,$;!/#$+#)(#'#(\"'#&'#"),_("%$;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(0G*;*.A &;+.; &;-.5 &;3./ &;4.) &;'.# &;(&/& 8!:\xed! )"),_("%;\xb6/Y#$%;A/,#;\xb6/#$+\")(\"'#&'#06*%;A/,#;\xb6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_('%;9/N#%2:""6:7;/,#;9/#$+")("\'#&\'#." &"/\'$8":\xee" )("\'#&\'#'),_("%;:.c &%;\x98/Y#$%;A/,#;\x98/#$+\")(\"'#&'#06*%;A/,#;\x98/#$+\")(\"'#&'#&/#$+\")(\"'#&'#/& 8!:\xef! )"),_("%;L.# &;\x99/]#$%;B/,#;\x9b/#$+\")(\"'#&'#06*%;B/,#;\x9b/#$+\")(\"'#&'#&/'$8\":\xf0\" )(\"'#&'#"),_("%;\x9a.\" &\"/>#;@/5$;M/,$;?/#$+$)($'#(#'#(\"'#&'#"),_("%%;6/Y#$%;./,#;6/#$+\")(\"'#&'#06*%;./,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#.# &;H/' 8!:\xf1!! )"),_(";\x9c.) &;\x9d.# &;\xa0"),_("%3\xf2\"\"5!7\xf3/:#;</1$;\x9f/($8#:\xf4#! )(#'#(\"'#&'#"),_("%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\xf7#! )(#'#(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\xf8!! )"),_('%2\xf9""6\xf97\xfa/o#%2J""6J7K/M#;!." &"/?$;!." &"/1$;!." &"/#$+$)($\'#(#\'#("\'#&\'#." &"/\'$8":\xfb" )("\'#&\'#'),_('%;6/J#%;</,#;\xa1/#$+")("\'#&\'#." &"/)$8":\xfc""! )("\'#&\'#'),_(";6.) &;T.# &;H"),_("%;\xa3/Y#$%;B/,#;\xa4/#$+\")(\"'#&'#06*%;B/,#;\xa4/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_('%3\xfd""5&7\xfe.G &3\xff""5\'7\u0100.; &3\u0101""5$7\u0102./ &3\u0103""5%7\u0104.# &;6/& 8!:\u0105! )'),_(";\xa5.# &;\xa0"),_('%3\u0106""5(7\u0107/M#;</D$3\u0108""5(7\u0109./ &3\u010a""5(7\u010b.# &;6/#$+#)(#\'#("\'#&\'#'),_("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\u010c!! )"),_("%;\xa9/& 8!:\u010d! )"),_("%;\xaa/k#;;/b$;\xaf/Y$$%;B/,#;\xb0/#$+\")(\"'#&'#06*%;B/,#;\xb0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),_(";\xab.# &;\xac"),_('3\u010e""5$7\u010f.S &3\u0110""5%7\u0111.G &3\u0112""5%7\u0113.; &3\u0114""5%7\u0115./ &3\u0116""5+7\u0117.# &;\xad'),_('3\u0118""5\'7\u0119./ &3\u011a""5)7\u011b.# &;\xad'),_(";6.# &;\xae"),_('%3\u011c""5"7\u011d/,#;6/#$+")("\'#&\'#'),_(";\xad.# &;6"),_("%;6/5#;</,$;\xb1/#$+#)(#'#(\"'#&'#"),_(";6.# &;H"),_("%;\xb3/5#;./,$;\x90/#$+#)(#'#(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\u011e!! )"),_("%;\x9e/' 8!:\u011f!! )"),_('%;\xb6/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u0120"!!)("\'#&\'#'),_('%%;7/e#$%2J""6J7K/,#;7/#$+")("\'#&\'#0<*%2J""6J7K/,#;7/#$+")("\'#&\'#&/#$+")("\'#&\'#/"!&,)'),_("%;L.# &;\x99/]#$%;B/,#;\xb8/#$+\")(\"'#&'#06*%;B/,#;\xb8/#$+\")(\"'#&'#&/'$8\":\u0121\" )(\"'#&'#"),_(";\xb9.# &;\xa0"),_("%3\u0122\"\"5#7\u0123/:#;</1$;6/($8#:\u0124#! )(#'#(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\u0125!! )"),_("%;\x9e/' 8!:\u0126!! )"),_("%$;\x9a0#*;\x9a&/x#;@/o$;M/f$;?/]$$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8%:\u0127% )(%'#($'#(#'#(\"'#&'#"),_(";\xbe"),_("%3\u0128\"\"5&7\u0129/k#;./b$;\xc1/Y$$%;A/,#;\xc1/#$+\")(\"'#&'#06*%;A/,#;\xc1/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#.# &;\xbf"),_("%;6/k#;./b$;\xc0/Y$$%;A/,#;\xc0/#$+\")(\"'#&'#06*%;A/,#;\xc0/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),_("%;6/;#;</2$;6.# &;H/#$+#)(#'#(\"'#&'#"),_(";\xc2.G &;\xc4.A &;\xc6.; &;\xc8.5 &;\xc9./ &;\xca.) &;\xcb.# &;\xc0"),_("%3\u012a\"\"5%7\u012b/5#;</,$;\xc3/#$+#)(#'#(\"'#&'#"),_("%;I/' 8!:\u012c!! )"),_("%3\u012d\"\"5&7\u012e/\x97#;</\x8e$;D/\x85$;\xc5/|$$%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#0C*%$;'/&#0#*;'&&&#/,#;\xc5/#$+\")(\"'#&'#&/,$;E/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),_(";t.# &;w"),_("%3\u012f\"\"5%7\u0130/5#;</,$;\xc7/#$+#)(#'#(\"'#&'#"),_("%;I/' 8!:\u0131!! )"),_("%3\u0132\"\"5&7\u0133/:#;</1$;I/($8#:\u0134#! )(#'#(\"'#&'#"),_('%3\u0135""5%7\u0136/]#;</T$%3\u0137""5$7\u0138/& 8!:\u0139! ).4 &%3\u013a""5%7\u013b/& 8!:\u013c! )/#$+#)(#\'#("\'#&\'#'),_('%3\u013d""5)7\u013e/R#;</I$3\u013f""5#7\u0140./ &3\u0141""5(7\u0142.# &;6/($8#:\u0143#! )(#\'#("\'#&\'#'),_('%3\u0144""5#7\u0145/\x93#;</\x8a$;D/\x81$%;\xcc/e#$%2D""6D7E/,#;\xcc/#$+")("\'#&\'#0<*%2D""6D7E/,#;\xcc/#$+")("\'#&\'#&/#$+")("\'#&\'#/,$;E/#$+%)(%\'#($\'#(#\'#("\'#&\'#'),_('%3\u0146""5(7\u0147./ &3\u0148""5$7\u0149.# &;6/\' 8!:\u014a!! )'),_("%;6/Y#$%;A/,#;6/#$+\")(\"'#&'#06*%;A/,#;6/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_("%;\xcf/G#;./>$;\xcf/5$;./,$;\x90/#$+%)(%'#($'#(#'#(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\u014b!! )"),_("%;\xd1/]#$%;A/,#;\xd1/#$+\")(\"'#&'#06*%;A/,#;\xd1/#$+\")(\"'#&'#&/'$8\":\u014c\" )(\"'#&'#"),_("%;\x99/]#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/'$8\":\u014d\" )(\"'#&'#"),_('%;L.O &;\x99.I &%;@." &"/:#;t/1$;?." &"/#$+#)(#\'#("\'#&\'#/]#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/\'$8":\u014e" )("\'#&\'#'),_("%;\xd4/]#$%;B/,#;\xd5/#$+\")(\"'#&'#06*%;B/,#;\xd5/#$+\")(\"'#&'#&/'$8\":\u014f\" )(\"'#&'#"),_("%;\x96/& 8!:\u0150! )"),_('%3\u0151""5(7\u0152/:#;</1$;6/($8#:\u0153#! )(#\'#("\'#&\'#.g &%3\u0154""5&7\u0155/:#;</1$;6/($8#:\u0156#! )(#\'#("\'#&\'#.: &%3\u0157""5*7\u0158/& 8!:\u0159! ).# &;\xa0'),_('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u015c!! )'),_("%;\xd8/Y#$%;A/,#;\xd8/#$+\")(\"'#&'#06*%;A/,#;\xd8/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_("%;\x99/Y#$%;B/,#;\xa0/#$+\")(\"'#&'#06*%;B/,#;\xa0/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_("%$;!/&#0#*;!&&&#/' 8!:\u015d!! )"),_("%;\xdb/Y#$%;B/,#;\xdc/#$+\")(\"'#&'#06*%;B/,#;\xdc/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_('%3\u015e""5&7\u015f.; &3\u0160""5\'7\u0161./ &3\u0162""5*7\u0163.# &;6/& 8!:\u0164! )'),_("%3\u0165\"\"5&7\u0166/:#;</1$;\xdd/($8#:\u0167#! )(#'#(\"'#&'#.} &%3\xf5\"\"5'7\xf6/:#;</1$;\x9e/($8#:\u0168#! )(#'#(\"'#&'#.P &%3\u0169\"\"5+7\u016a/:#;</1$;\x9e/($8#:\u016b#! )(#'#(\"'#&'#.# &;\xa0"),_('3\u016c""5+7\u016d.k &3\u016e""5)7\u016f._ &3\u0170""5(7\u0171.S &3\u0172""5\'7\u0173.G &3\u0174""5&7\u0175.; &3\u0176""5*7\u0177./ &3\u0178""5)7\u0179.# &;6'),_(';1." &"'),_('%%;6/k#$%;A/2#;6/)$8":\u015a""$ )("\'#&\'#0<*%;A/2#;6/)$8":\u015a""$ )("\'#&\'#&/)$8":\u015b""! )("\'#&\'#." &"/\' 8!:\u017a!! )'),_("%;L.# &;\x99/]#$%;B/,#;\xe1/#$+\")(\"'#&'#06*%;B/,#;\xe1/#$+\")(\"'#&'#&/'$8\":\u017b\" )(\"'#&'#"),_(";\xb9.# &;\xa0"),_("%;\xe3/Y#$%;A/,#;\xe3/#$+\")(\"'#&'#06*%;A/,#;\xe3/#$+\")(\"'#&'#&/#$+\")(\"'#&'#"),_("%;\xea/k#;./b$;\xed/Y$$%;B/,#;\xe4/#$+\")(\"'#&'#06*%;B/,#;\xe4/#$+\")(\"'#&'#&/#$+$)($'#(#'#(\"'#&'#"),_(";\xe5.; &;\xe6.5 &;\xe7./ &;\xe8.) &;\xe9.# &;\xa0"),_("%3\u017c\"\"5#7\u017d/:#;</1$;\xf0/($8#:\u017e#! )(#'#(\"'#&'#"),_("%3\u017f\"\"5%7\u0180/:#;</1$;T/($8#:\u0181#! )(#'#(\"'#&'#"),_("%3\u0182\"\"5(7\u0183/F#;</=$;\\.) &;Y.# &;X/($8#:\u0184#! )(#'#(\"'#&'#"),_("%3\u0185\"\"5&7\u0186/:#;</1$;6/($8#:\u0187#! )(#'#(\"'#&'#"),_("%3\u0188\"\"5%7\u0189/A#;</8$$;!0#*;!&/($8#:\u018a#! )(#'#(\"'#&'#"),_("%;\xeb/G#;;/>$;6/5$;;/,$;\xec/#$+%)(%'#($'#(#'#(\"'#&'#"),_('%3\x92""5#7\xd3.# &;6/\' 8!:\u018b!! )'),_('%3\xb1""5#7\u018c.G &3\xb3""5#7\u018d.; &3\xb7""5#7\u018e./ &3\xb5""5$7\u018f.# &;6/\' 8!:\u0190!! )'),_('%;\xee/D#%;C/,#;\xef/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),_("%;U.) &;\\.# &;X/& 8!:\u0191! )"),_('%%;!." &"/[#;!." &"/M$;!." &"/?$;!." &"/1$;!." &"/#$+%)(%\'#($\'#(#\'#("\'#&\'#/\' 8!:\u0192!! )'),_('%%;!/?#;!." &"/1$;!." &"/#$+#)(#\'#("\'#&\'#/\' 8!:\u0193!! )'),_(";\xbe"),_('%;\x9e/^#$%;B/,#;\xf3/#$+")("\'#&\'#06*%;B/,#;\xf3/#$+")("\'#&\'#&/($8":\u0194"!!)("\'#&\'#'),_(";\xf4.# &;\xa0"),_('%2\u0195""6\u01957\u0196/L#;</C$2\u0197""6\u01977\u0198.) &2\u0199""6\u01997\u019a/($8#:\u019b#! )(#\'#("\'#&\'#'),_('%;\x9e/^#$%;B/,#;\xa0/#$+")("\'#&\'#06*%;B/,#;\xa0/#$+")("\'#&\'#&/($8":\u019c"!!)("\'#&\'#'),_("%;6/5#;0/,$;\xf7/#$+#)(#'#(\"'#&'#"),_("$;2.) &;4.# &;.0/*;2.) &;4.# &;.&"),_("$;%0#*;%&"),_("%;\xfa/;#28\"\"6879/,$;\xfb/#$+#)(#'#(\"'#&'#"),_('%3\u019d""5%7\u019e.) &3\u019f""5$7\u01a0/\' 8!:\u01a1!! )'),_('%;\xfc/J#%28""6879/,#;^/#$+")("\'#&\'#." &"/#$+")("\'#&\'#'),_("%;\\.) &;X.# &;\x82/' 8!:\u01a2!! )"),_(';".S &;!.M &2F""6F7G.A &2J""6J7K.5 &2H""6H7I.) &2N""6N7O'),_('2L""6L7M.\x95 &2B""6B7C.\x89 &2<""6<7=.} &2R""6R7S.q &2T""6T7U.e &2V""6V7W.Y &2P""6P7Q.M &2@""6@7A.A &2D""6D7E.5 &22""6273.) &2>""6>7?'),_('%;\u0100/b#28""6879/S$;\xfb/J$%2\u01a3""6\u01a37\u01a4/,#;\xec/#$+")("\'#&\'#." &"/#$+$)($\'#(#\'#("\'#&\'#'),_('%3\u01a5""5%7\u01a6.) &3\u01a7""5$7\u01a8/\' 8!:\u01a1!! )'),_('%3\xb1""5#7\xb2.6 &3\xb3""5#7\xb4.* &$;+0#*;+&/\' 8!:\u01a9!! )'),_("%;\u0104/\x87#2F\"\"6F7G/x$;\u0103/o$2F\"\"6F7G/`$;\u0103/W$2F\"\"6F7G/H$;\u0103/?$2F\"\"6F7G/0$;\u0105/'$8):\u01aa) )()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),_("%;#/>#;#/5$;#/,$;#/#$+$)($'#(#'#(\"'#&'#"),_("%;\u0103/,#;\u0103/#$+\")(\"'#&'#"),_("%;\u0103/5#;\u0103/,$;\u0103/#$+#)(#'#(\"'#&'#"),_("%;q/T#$;m0#*;m&/D$%; /,#;\xf8/#$+\")(\"'#&'#.\" &\"/#$+#)(#'#(\"'#&'#"),_('%2\u01ab""6\u01ab7\u01ac.) &2\u01ad""6\u01ad7\u01ae/w#;0/n$;\u0108/e$$%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#0<*%;B/2#;\u0109.# &;\xa0/#$+")("\'#&\'#&/#$+$)($\'#(#\'#("\'#&\'#'),_(";\x99.# &;L"),_("%2\u01af\"\"6\u01af7\u01b0/5#;</,$;\u010a/#$+#)(#'#(\"'#&'#"),_("%;D/S#;,/J$2:\"\"6:7;/;$;,.# &;T/,$;E/#$+%)(%'#($'#(#'#(\"'#&'#")],d=0,f=0,p=[{line:1,column:1}],h=0,g=[],v=0;if(void 0!==t.startRule){if(!(t.startRule in a))throw new Error("Can't start parsing from rule \""+t.startRule+'".');u=a[t.startRule]}function m(){return e.substring(f,d)}function y(){return w(f,d)}function S(e,t){return{type:"literal",text:e,ignoreCase:t}}function b(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function T(t){var n,r=p[t];if(r)return r;for(n=t-1;!p[n];)n--;for(r={line:(r=p[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return p[t]=r,r}function w(e,t){var n=T(e),r=T(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function E(e){d<h||(d>h&&(h=d,g=[]),g.push(e))}function C(e,t,n){return new s(s.buildMessage(e,t),e,t,n)}function _(e){return e.split("").map((function(e){return e.charCodeAt(0)-32}))}if(t.data={},(n=function t(n){for(var i,o=l[n],s=0,a=[],u=o.length,p=[],h=[];;){for(;s<u;)switch(o[s]){case 0:h.push(c[o[s+1]]),s+=2;break;case 1:h.push(void 0),s++;break;case 2:h.push(null),s++;break;case 3:h.push(r),s++;break;case 4:h.push([]),s++;break;case 5:h.push(d),s++;break;case 6:h.pop(),s++;break;case 7:d=h.pop(),s++;break;case 8:h.length-=o[s+1],s+=2;break;case 9:h.splice(-2,1),s++;break;case 10:h[h.length-2].push(h.pop()),s++;break;case 11:h.push(h.splice(h.length-o[s+1],o[s+1])),s+=2;break;case 12:h.push(e.substring(h.pop(),d)),s++;break;case 13:p.push(u),a.push(s+3+o[s+1]+o[s+2]),h[h.length-1]?(u=s+3+o[s+1],s+=3):(u=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 14:p.push(u),a.push(s+3+o[s+1]+o[s+2]),h[h.length-1]===r?(u=s+3+o[s+1],s+=3):(u=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 15:p.push(u),a.push(s+3+o[s+1]+o[s+2]),h[h.length-1]!==r?(u=s+3+o[s+1],s+=3):(u=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 16:h[h.length-1]!==r?(p.push(u),a.push(s),u=s+2+o[s+1],s+=2):s+=2+o[s+1];break;case 17:p.push(u),a.push(s+3+o[s+1]+o[s+2]),e.length>d?(u=s+3+o[s+1],s+=3):(u=s+3+o[s+1]+o[s+2],s+=3+o[s+1]);break;case 18:p.push(u),a.push(s+4+o[s+2]+o[s+3]),e.substr(d,c[o[s+1]].length)===c[o[s+1]]?(u=s+4+o[s+2],s+=4):(u=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 19:p.push(u),a.push(s+4+o[s+2]+o[s+3]),e.substr(d,c[o[s+1]].length).toLowerCase()===c[o[s+1]]?(u=s+4+o[s+2],s+=4):(u=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 20:p.push(u),a.push(s+4+o[s+2]+o[s+3]),c[o[s+1]].test(e.charAt(d))?(u=s+4+o[s+2],s+=4):(u=s+4+o[s+2]+o[s+3],s+=4+o[s+2]);break;case 21:h.push(e.substr(d,o[s+1])),d+=o[s+1],s+=2;break;case 22:h.push(c[o[s+1]]),d+=c[o[s+1]].length,s+=2;break;case 23:h.push(r),0===v&&E(c[o[s+1]]),s+=2;break;case 24:f=h[h.length-1-o[s+1]],s+=2;break;case 25:f=d,s++;break;case 26:i=o.slice(s+4,s+4+o[s+3]).map((function(e){return h[h.length-1-e]})),h.splice(h.length-o[s+2],o[s+2],c[o[s+1]].apply(null,i)),s+=4+o[s+3];break;case 27:h.push(t(o[s+1])),s+=2;break;case 28:v++,s++;break;case 29:v--,s++;break;default:throw new Error("Invalid opcode: "+o[s]+".")}if(!(p.length>0))break;u=p.pop(),s=a.pop()}return h[0]}(u))!==r&&d===e.length)return n;throw n!==r&&d<e.length&&E({type:"end"}),C(g,h<e.length?e.charAt(h):null,h<e.length?w(h,h+1):w(h,h))}},2549:function(e,t,n){"use strict";var r=n(5765),i=n(8769);i.DigestAuthentication,i.Grammar,i.IncomingRequestMessage,i.IncomingResponseMessage,i.LoggerFactory,i.NameAddrHeader,i.OutgoingRequestMessage,i.Timers,i.Transport,i.URI,n(346).ClientContext,n(4510).C;var o=n(8491);o.DialogStatus,o.SessionStatus,o.TypeStrings,o.UAStatus,n(3847).Exceptions,n(8392).Parser,n(8134).PublishContext;var s=n(3291);s.ReferClientContext,s.ReferServerContext,n(5354).RegisterContext,n(5203).ServerContext;var a=n(1524);a.InviteClientContext,a.InviteServerContext,a.Session,n(1645).Subscription;var u=n(438);u.InviteClientTransaction,u.InviteServerTransaction,u.NonInviteClientTransaction,u.NonInviteServerTransaction;var c=n(8783);c.makeUserAgentCoreConfigurationFromUA,t.UA=c.UA,n(2765).Utils,r.__importStar(n(906));var l=n(6544);l.title,l.version,r.__importStar(n(8769))},5765:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return b},__asyncGenerator:function(){return S},__asyncValues:function(){return T},__await:function(){return y},__awaiter:function(){return l},__classPrivateFieldGet:function(){return _},__classPrivateFieldSet:function(){return R},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return d},__importDefault:function(){return C},__importStar:function(){return E},__makeTemplateObject:function(){return w},__metadata:function(){return c},__param:function(){return u},__read:function(){return g},__rest:function(){return s},__spread:function(){return v},__spreadArrays:function(){return m},__values:function(){return h}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function p(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function h(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function T(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=h(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),s((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!u){if(u=!0,s=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var p=s(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},2391:function(e){"use strict";var t=function(){};e.exports=t},6544:function(e){"use strict";e.exports=JSON.parse('{"name":"sip.js","title":"SIP.js","description":"A simple, intuitive, and powerful JavaScript signaling library","version":"0.14.6","license":"MIT","main":"./lib/index.js","types":"./lib/index.d.ts","homepage":"https://sipjs.com","author":"OnSIP <developer@onsip.com> (https://sipjs.com/aboutus/)","contributors":[{"url":"https://github.com/onsip/SIP.js/blob/master/THANKS.md"}],"repository":{"type":"git","url":"https://github.com/onsip/SIP.js.git"},"keywords":["sip","webrtc","library","websocket","javascript","typescript"],"dependencies":{"crypto-js":"^3.1.9-1","tslib":"^1.10.0"},"devDependencies":{"@types/crypto-js":"^3.1.43","@types/jasmine":"^3.3.13","@types/node":"^12.0.8","circular-dependency-plugin":"^5.0.2","jasmine-core":"^3.4.0","karma":"^4.1.0","karma-chrome-launcher":"^2.2.0","karma-cli":"^2.0.0","karma-jasmine":"^2.0.1","karma-jasmine-html-reporter":"^1.4.2","karma-mocha-reporter":"^2.2.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^4.0.2","pegjs":"^0.10.0","ts-loader":"^6.0.3","ts-pegjs":"0.2.5","tslint":"^5.17.0","typescript":"^3.5.2","webpack":"^4.34.0","webpack-cli":"^3.3.4"},"engines":{"node":">=8.0"},"scripts":{"prebuild":"tslint -p tsconfig-base.json -c tslint.json","generate-grammar":"node build/grammarGenerator.js","build-reg-bundle":"webpack --progress --config build/webpack.config.js --env.buildType reg","build-min-bundle":"webpack --progress --config build/webpack.config.js --env.buildType min","build-bundles":"npm run build-reg-bundle && npm run build-min-bundle","build-lib":"tsc -p src","build-test":"tsc -p test","copy-dist-files":"cp dist/sip.js dist/sip-$npm_package_version.js && cp dist/sip.min.js dist/sip-$npm_package_version.min.js","build":"npm run generate-grammar && npm run build-lib && npm run build-reg-bundle && npm run build-min-bundle && npm run copy-dist-files","browserTest":"npm run build-test && sleep 2 && open http://0.0.0.0:9876/debug.html & karma start --reporters kjhtml --no-single-run","commandLineTest":"npm run build-test && karma start --reporters mocha --browsers ChromeHeadless --single-run","buildAndTest":"npm run build && npm run commandLineTest","buildAndBrowserTest":"npm run build && npm run browserTest"}}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=n(2791),t=n(1250);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},a=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},u=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform},c=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},l=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},d=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},f=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,p=3,h=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],g=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function v(e){return e?y(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new d:"undefined"!==typeof navigator?y(navigator.userAgent):"undefined"!==typeof process&&process.version?new u(process.version.slice(1)):null}function m(e){return""!==e&&h.reduce((function(t,n){var r=n[0],i=n[1];if(t)return t;var o=i.exec(e);return!!o&&[r,o]}),!1)}function y(e){var t=m(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new l;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<p&&(i=s(s([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(p-i.length),!0)):i=[];var o=i.join("."),u=function(e){for(var t=0,n=g.length;t<n;t++){var r=g[t],i=r[0];if(r[1].exec(e))return i}return null}(e),d=f.exec(e);return d&&d[1]?new c(n,o,u,d[1]):new a(n,o,u)}var S=n(7248),b=n(327),T=n(4164);var w=function(e){e()},E=function(){return w};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function _(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}function R(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Symbol.for("react-redux-context"),A="undefined"!==typeof globalThis?globalThis:{};function I(){var t;if(!e.createContext)return{};var n=null!=(t=A[x])?t:A[x]=new Map,r=n.get(e.createContext);return r||(r=e.createContext(null),n.set(e.createContext,r)),r}var N=I();function O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return function(){return(0,e.useContext)(t)}}var k=O(),P=function(){throw new Error("uSES not initialized!")},D=P,U=function(e,t){return e===t};function $(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=t===N?k:O(t);return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="function"===typeof r?{equalityFn:r}:r,o=i.equalityFn,s=void 0===o?U:o,a=i.stabilityCheck,u=void 0===a?void 0:a;i.noopCheck;var c=n(),l=c.store,d=c.subscription,f=c.getServerState,p=c.stabilityCheck,h=(c.noopCheck,(0,e.useRef)(!0),(0,e.useCallback)(R({},t.name,(function(e){return t(e)}))[t.name],[t,p,u])),g=D(d.addNestedSub,l.getState,f||l.getState,h,s);return(0,e.useDebugValue)(g),g}}var j=$();n(2110),n(6900);var M={notify:function(){},get:function(){return[]}};function H(e,t){var n,r=M,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){var e=E(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=M)}var c={addNestedSub:function(e){a();var t=r.subscribe(e),n=!1;return function(){n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:function(){return r}};return c}var L=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var F=function(t){var n=t.store,r=t.context,i=t.children,o=t.serverState,s=t.stabilityCheck,a=void 0===s?"once":s,u=t.noopCheck,c=void 0===u?"once":u,l=e.useMemo((function(){var e=H(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0,stabilityCheck:a,noopCheck:c}}),[n,o,a,c]),d=e.useMemo((function(){return n.getState()}),[n]);L((function(){var e=l.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),d!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,d]);var f=r||N;return e.createElement(f.Provider,{value:l},i)};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=e===N?k:O(e);return function(){return t().store}}var B=q();function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=e===N?B:q(e);return function(){return t().dispatch}}var W,G=z();function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Q(e,t){if(null==e)return{};var n,r,i=Y(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){D=e}(b.useSyncExternalStoreWithSelector),function(e){e}(S.useSyncExternalStore),W=T.unstable_batchedUpdates,w=W;var J=n(1694),X=n.n(J),Z=n(184),ee=["as","disabled"];function te(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,o=e.rel,s=e.role,a=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=o?"a":"button");var d={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},d];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},d]}var ne=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ee),s=o(te(Object.assign({tagName:n,disabled:r},i)),2),a=s[0],u=s[1].tagName;return(0,Z.jsx)(u,Object.assign({},i,a,{ref:t}))}));ne.displayName="Button";var re=["xxl","xl","lg","md","sm","xs"],ie=e.createContext({prefixes:{},breakpoints:re,minBreakpoint:"xs"});ie.Consumer,ie.Provider;function oe(t,n){var r=(0,e.useContext)(ie).prefixes;return t||r[n]||n}var se=["as","bsPrefix","variant","size","active","disabled","className"],ae=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,s=void 0===i?"primary":i,a=e.size,u=e.active,c=void 0!==u&&u,l=e.disabled,d=void 0!==l&&l,f=e.className,p=Q(e,se),h=oe(r,"btn"),g=o(te(K({tagName:n,disabled:d},p)),2),v=g[0],m=g[1].tagName;return(0,Z.jsx)(m,K(K(K({},v),p),{},{ref:t,disabled:d,className:X()(f,h,c&&"active",s&&"".concat(h,"-").concat(s),a&&"".concat(h,"-").concat(a),p.href&&d&&"disabled")}))}));ae.displayName="Button";var ue=ae,ce="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,le="undefined"!==typeof document||ce?e.useLayoutEffect:e.useEffect,de=new WeakMap,fe=function(e,t){if(e&&t){var n=de.get(t)||new Map;de.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function pe(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window,r=fe(t,n),i=o((0,e.useState)((function(){return!!r&&r.matches})),2),s=i[0],a=i[1];return le((function(){var e=fe(t,n);if(!e)return a(!1);var r=de.get(n),i=function(){a(e.matches)};return e.refCount++,e.addListener(i),i(),function(){e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),s}var he=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function i(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),i=t[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,a){var u;return"object"===typeof n?(u=n,a=s,s=!0):u=R({},n,s=s||!0),pe((0,e.useMemo)((function(){return Object.entries(u).reduce((function(e,n){var s=o(n,2),a=s[0],u=s[1];return"up"!==u&&!0!==u||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(a))),"down"!==u&&!0!==u||(e=r(e,i(a))),e}),"")}),[JSON.stringify(u)]),a)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});var ge=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function ve(t){var n=ge(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function me(e){return e&&e.ownerDocument||document}function ye(e){void 0===e&&(e=me());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}function Se(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var be=!("undefined"===typeof window||!window.document||!window.document.createElement),Te=!1,we=!1;try{var Ee={get passive(){return Te=!0},get once(){return we=Te=!0}};be&&(window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,!0))}catch(Rs){}var Ce=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!we){var i=r.once,o=r.capture,s=n;!we&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,Te?r:o)}e.addEventListener(t,n,r)};var _e=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Re=function(e,t,n,r){return Ce(e,t,n,r),function(){_e(e,t,n,r)}};function xe(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Ae(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function Oe(e,t,n){return t&&Ne(e.prototype,t),n&&Ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e,t){return function(e){var t=me(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Pe=/([A-Z])/g;var De=/^ms-/;function Ue(e){return function(e){return e.replace(Pe,"-$1").toLowerCase()}(e).replace(De,"-ms-")}var $e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var je=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ue(t))||ke(e).getPropertyValue(Ue(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!$e.test(e))}(i)?n+=Ue(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Ue(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var Me,He=(Me="modal-open","".concat("data-rr-ui-").concat(Me)),Le=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,o=t.isRTL,s=void 0!==o&&o;Ie(this,e),this.handleContainerOverflow=i,this.isRTL=s,this.modals=[],this.ownerDocument=n}return Oe(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=R({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(je(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(He,""),je(r,t)}},{key:"reset",value:function(){var e=this;Ae(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(He),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Fe=Le,qe=(0,e.createContext)(be?window:void 0);qe.Provider;function Be(){return(0,e.useContext)(qe)}var ze=function(e,t){return be?null==e?(t||me()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null};var We=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ge=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=We(e),r=We(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var Ve=function(t){var n=t.children,r=t.in,i=t.onExited,o=t.mountOnEnter,s=t.unmountOnExit,a=(0,e.useRef)(null),u=(0,e.useRef)(r),c=ve(i);(0,e.useEffect)((function(){r?u.current=!0:c(a.current)}),[r,c]);var l=Ge(a,n.ref),d=(0,e.cloneElement)(n,{ref:l});return r?d:s||!u.current&&o?null:d};function Ke(t){var n=t.children,r=t.in,i=t.onExited,s=t.onEntered,a=t.transition,u=o((0,e.useState)(!r),2),c=u[0],l=u[1];r&&c&&l(!1);var d=function(t){var n=t.in,r=t.onTransition,i=(0,e.useRef)(null),o=(0,e.useRef)(!0),s=ve(r);return le((function(){if(i.current){var e=!1;return s({in:n,element:i.current,initial:o.current,isStale:function(){return e}}),function(){e=!0}}}),[n,s]),le((function(){return o.current=!1,function(){o.current=!0}}),[]),i}({in:!!r,onTransition:function(e){Promise.resolve(a(e)).then((function(){e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(function(t){throw e.in||l(!0),t}))}}),f=Ge(d,n.ref);return c&&!r?null:(0,e.cloneElement)(n,{ref:f})}function Ye(e,t,n){return e?(0,Z.jsx)(e,Object.assign({},n)):t?(0,Z.jsx)(Ke,Object.assign({},n,{transition:t})):(0,Z.jsx)(Ve,Object.assign({},n))}var Qe,Je=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Xe(t){var n=Be(),r=t||function(e){return Qe||(Qe=new Fe({ownerDocument:null==e?void 0:e.document})),Qe}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var Ze=(0,e.forwardRef)((function(t,n){var r=t.show,i=void 0!==r&&r,s=t.role,a=void 0===s?"dialog":s,u=t.className,c=t.style,l=t.children,d=t.backdrop,f=void 0===d||d,p=t.keyboard,h=void 0===p||p,g=t.onBackdropClick,v=t.onEscapeKeyDown,m=t.transition,y=t.runTransition,S=t.backdropTransition,b=t.runBackdropTransition,w=t.autoFocus,E=void 0===w||w,C=t.enforceFocus,_=void 0===C||C,R=t.restoreFocus,x=void 0===R||R,A=t.restoreFocusOptions,I=t.renderDialog,N=t.renderBackdrop,O=void 0===N?function(e){return(0,Z.jsx)("div",Object.assign({},e))}:N,k=t.manager,P=t.container,D=t.onShow,U=t.onHide,$=void 0===U?function(){}:U,j=t.onExit,M=t.onExited,H=t.onExiting,L=t.onEnter,F=t.onEntering,q=t.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,Je),z=Be(),W=function(t,n){var r=Be(),i=o((0,e.useState)((function(){return ze(t,null==r?void 0:r.document)})),2),s=i[0],a=i[1];if(!s){var u=ze(t);u&&a(u)}return(0,e.useEffect)((function(){n&&s&&n(s)}),[n,s]),(0,e.useEffect)((function(){var e=ze(t);e!==s&&a(e)}),[t,s]),s}(P),G=Xe(k),V=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),K=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),Y=o((0,e.useState)(!i),2),Q=Y[0],J=Y[1],X=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return G}),[G]),be&&!K&&i&&(X.current=ye(null==z?void 0:z.document)),i&&Q&&J(!1);var ee=ve((function(){if(G.add(),se.current=Re(document,"keydown",ie),oe.current=Re(document,"focus",(function(){return setTimeout(ne)}),!0),D&&D(),E){var e,t,n=ye(null!=(e=null==(t=G.dialog)?void 0:t.ownerDocument)?e:null==z?void 0:z.document);G.dialog&&n&&!Se(G.dialog,n)&&(X.current=n,G.dialog.focus())}})),te=ve((function(){var e;(G.remove(),null==se.current||se.current(),null==oe.current||oe.current(),x)&&(null==(e=X.current)||null==e.focus||e.focus(A),X.current=null)}));(0,e.useEffect)((function(){i&&W&&ee()}),[i,W,ee]),(0,e.useEffect)((function(){Q&&te()}),[Q,te]),xe((function(){te()}));var ne=ve((function(){if(_&&V()&&G.isTopModal()){var e=ye(null==z?void 0:z.document);G.dialog&&e&&!Se(G.dialog,e)&&G.dialog.focus()}})),re=ve((function(e){e.target===e.currentTarget&&(null==g||g(e),!0===f&&$())})),ie=ve((function(e){h&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&G.isTopModal()&&(null==v||v(e),e.defaultPrevented||$())})),oe=(0,e.useRef)(),se=(0,e.useRef)();if(!W)return null;var ae=Object.assign({role:a,ref:G.setDialogRef,"aria-modal":"dialog"===a||void 0},B,{style:c,className:u,tabIndex:-1}),ue=I?I(ae):(0,Z.jsx)("div",Object.assign({},ae,{children:e.cloneElement(l,{role:"document"})}));ue=Ye(m,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:j,onExiting:H,onExited:function(){J(!0),null==M||M.apply(void 0,arguments)},onEnter:L,onEntering:F,onEntered:q,children:ue});var ce=null;return f&&(ce=O({ref:G.setBackdropRef,onClick:re}),ce=Ye(S,b,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ce})),(0,Z.jsx)(Z.Fragment,{children:T.createPortal((0,Z.jsxs)(Z.Fragment,{children:[ce,ue]}),W)})}));Ze.displayName="Modal";var et=Object.assign(Ze,{Manager:Fe});function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}var nt=!1,rt=e.createContext(null),it="unmounted",ot="exited",st="entering",at="entered",ut="exiting",ct=function(t){var n,r;function i(e,n){var r;r=t.call(this,e,n)||this;var i,o=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=ot,r.appearStatus=st):i=at:i=e.unmountOnExit||e.mountOnEnter?it:ot,r.state={status:i},r.nextCallback=null,r}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,tt(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===it?{status:ot}:null};var o=i.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==st&&n!==at&&(t=st):n!==st&&n!==at||(t=ut)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===st){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ot&&this.setState({status:it})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[T.findDOMNode(this),r],o=i[0],s=i[1],a=this.getTimeouts(),u=r?a.appear:a.enter;!e&&!n||nt?this.safeSetState({status:at},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:st},(function(){t.props.onEntering(o,s),t.onTransitionEnd(u,(function(){t.safeSetState({status:at},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:T.findDOMNode(this);t&&!nt?(this.props.onExit(r),this.safeSetState({status:ut},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ot},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ot},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:T.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],s=i[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if(t===it)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Y(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(rt.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},i}(e.Component);function lt(){}ct.contextType=rt,ct.propTypes={},ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lt,onEntering:lt,onEntered:lt,onExit:lt,onExiting:lt,onExited:lt},ct.UNMOUNTED=it,ct.EXITED=ot,ct.ENTERING=st,ct.ENTERED=at,ct.EXITING=ut;var dt=ct;function ft(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=Re(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function pt(e,t,n,r){null==n&&(n=function(e){var t=je(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ft(e,n,r),o=Re(e,"transitionend",t);return function(){i(),o()}}function ht(e,t){var n=je(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function gt(e,t){var n=ht(e,"transitionDuration"),r=ht(e,"transitionDelay"),i=pt(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var vt,mt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],yt=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,s=t.onExit,a=t.onExiting,u=t.onExited,c=t.addEndListener,l=t.children,d=t.childRef,f=Q(t,mt),p=(0,e.useRef)(null),h=Ge(p,d),g=function(e){var t;h((t=e)&&"setState"in t?T.findDOMNode(t):null!=t?t:null)},v=function(e){return function(t){e&&p.current&&e(p.current,t)}},m=(0,e.useCallback)(v(r),[r]),y=(0,e.useCallback)(v(i),[i]),S=(0,e.useCallback)(v(o),[o]),b=(0,e.useCallback)(v(s),[s]),w=(0,e.useCallback)(v(a),[a]),E=(0,e.useCallback)(v(u),[u]),C=(0,e.useCallback)(v(c),[c]);return(0,Z.jsx)(dt,K(K({ref:n},f),{},{onEnter:m,onEntered:S,onEntering:y,onExit:b,onExited:E,onExiting:w,addEndListener:C,nodeRef:p,children:"function"===typeof l?function(e,t){return l(e,K(K({},t),{},{ref:g}))}:e.cloneElement(l,{ref:g})}))})),St=yt,bt=["className","children","transitionClasses","onEnter"],Tt=(R(vt={},st,"show"),R(vt,at,"show"),vt),wt=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,s=void 0===o?{}:o,a=t.onEnter,u=K({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Q(t,bt)),c=(0,e.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==a||a(e,t)}),[a]);return(0,Z.jsx)(St,K(K({ref:n,addEndListener:gt},u),{},{onEnter:c,childRef:i.ref,children:function(t,n){return e.cloneElement(i,K(K({},n),{},{className:X()("fade",r,i.props.className,Tt[t],s[t])}))}}))}));wt.displayName="Fade";var Et=wt,Ct=["className","bsPrefix","as"],_t=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"div":i,s=Q(e,Ct);return r=oe(r,"offcanvas-body"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));_t.displayName="OffcanvasBody";var Rt,xt=_t,At=["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"],It=(R(Rt={},st,"show"),R(Rt,at,"show"),Rt),Nt=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,s=t.in,a=void 0!==s&&s,u=t.mountOnEnter,c=void 0!==u&&u,l=t.unmountOnExit,d=void 0!==l&&l,f=t.appear,p=void 0!==f&&f,h=Q(t,At);return r=oe(r,"offcanvas"),(0,Z.jsx)(St,K(K({ref:n,addEndListener:gt,in:a,mountOnEnter:c,unmountOnExit:d,appear:p},h),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,K(K({},n),{},{className:X()(i,o.props.className,(t===st||t===ut)&&"".concat(r,"-toggling"),It[t])}))}}))}));Nt.displayName="OffcanvasToggling";var Ot=Nt,kt=e.createContext({onHide:function(){}}),Pt=e.createContext(null);Pt.displayName="NavbarContext";var Dt=Pt,Ut=n(2007),$t=n.n(Ut),jt=["className","variant","aria-label"],Mt={"aria-label":$t().string,onClick:$t().func,variant:$t().oneOf(["white"])},Ht=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],o=void 0===i?"Close":i,s=Q(e,jt);return(0,Z.jsx)("button",K({ref:t,type:"button",className:X()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":o},s))}));Ht.displayName="CloseButton",Ht.propTypes=Mt;var Lt=Ht,Ft=["closeLabel","closeVariant","closeButton","onHide","children"],qt=e.forwardRef((function(t,n){var r=t.closeLabel,i=void 0===r?"Close":r,o=t.closeVariant,s=t.closeButton,a=void 0!==s&&s,u=t.onHide,c=t.children,l=Q(t,Ft),d=(0,e.useContext)(kt),f=ve((function(){null==d||d.onHide(),null==u||u()}));return(0,Z.jsxs)("div",K(K({ref:n},l),{},{children:[c,a&&(0,Z.jsx)(Lt,{"aria-label":i,variant:o,onClick:f})]}))})),Bt=qt,zt=["bsPrefix","className","closeLabel","closeButton"],Wt=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.closeLabel,o=void 0===i?"Close":i,s=e.closeButton,a=void 0!==s&&s,u=Q(e,zt);return n=oe(n,"offcanvas-header"),(0,Z.jsx)(Bt,K(K({ref:t},u),{},{className:X()(r,n),closeLabel:o,closeButton:a}))}));Wt.displayName="OffcanvasHeader";var Gt=Wt,Vt=function(t){return e.forwardRef((function(e,n){return(0,Z.jsx)("div",K(K({},e),{},{ref:n,className:X()(e.className,t)}))}))},Kt=["className","bsPrefix","as"],Yt=Vt("h5"),Qt=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?Yt:i,s=Q(e,Kt);return r=oe(r,"offcanvas-title"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));Qt.displayName="OffcanvasTitle";var Jt=Qt;function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xt(e)}function Zt(){return Zt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Zt.apply(this,arguments)}function en(e,t){if(t&&("object"===C(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Rs){return!1}}();return function(){var n,r=Xt(e);if(t){var i=Xt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return en(this,n)}}var nn=Function.prototype.bind.call(Function.prototype.call,[].slice);function rn(e,t){return nn(e.querySelectorAll(t))}function on(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var sn,an=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",un=".sticky-top",cn=".navbar-toggler",ln=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(n,e);var t=tn(n);function n(){return Ie(this,n),t.apply(this,arguments)}return Oe(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,je(t,R({},e,"".concat(parseFloat(je(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],je(t,R({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Zt(Xt(n.prototype),"setContainerStyle",this).call(this,e);var r,i,o=this.getElement();if(i="modal-open",(r=o).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";rn(o,an).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)})),rn(o,un).forEach((function(n){return t.adjustAndStore(a,n,-e.scrollBarWidth)})),rn(o,cn).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Zt(Xt(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,o=this.getElement();i="modal-open",(r=o).classList?r.classList.remove(i):"string"===typeof r.className?r.className=on(r.className,i):r.setAttribute("class",on(r.className&&r.className.baseVal||"",i));var s=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";rn(o,an).forEach((function(e){return t.restore(s,e)})),rn(o,un).forEach((function(e){return t.restore(a,e)})),rn(o,cn).forEach((function(e){return t.restore(a,e)}))}}]),n}(Fe);var dn=ln,fn=["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"];function pn(e){return(0,Z.jsx)(Ot,K({},e))}function hn(e){return(0,Z.jsx)(Et,K({},e))}var gn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,s=t.children,a=t["aria-labelledby"],u=t.placement,c=void 0===u?"start":u,l=t.responsive,d=t.show,f=void 0!==d&&d,p=t.backdrop,h=void 0===p||p,g=t.keyboard,v=void 0===g||g,m=t.scroll,y=void 0!==m&&m,S=t.onEscapeKeyDown,b=t.onShow,T=t.onHide,w=t.container,E=t.autoFocus,C=void 0===E||E,_=t.enforceFocus,R=void 0===_||_,x=t.restoreFocus,A=void 0===x||x,I=t.restoreFocusOptions,N=t.onEntered,O=t.onExit,k=t.onExiting,P=t.onEnter,D=t.onEntering,U=t.onExited,$=t.backdropClassName,j=t.manager,M=t.renderStaticNode,H=void 0!==M&&M,L=Q(t,fn),F=(0,e.useRef)();r=oe(r,"offcanvas");var q=((0,e.useContext)(Dt)||{}).onToggle,B=o((0,e.useState)(!1),2),z=B[0],W=B[1],G=he(l||"xs","up");(0,e.useEffect)((function(){W(l?f&&!G:f)}),[f,l,G]);var V=ve((function(){null==q||q(),null==T||T()})),Y=(0,e.useMemo)((function(){return{onHide:V}}),[V]);var J=(0,e.useCallback)((function(e){return(0,Z.jsx)("div",K(K({},e),{},{className:X()("".concat(r,"-backdrop"),$)}))}),[$,r]),ee=function(e){return(0,Z.jsx)("div",K(K(K({},e),L),{},{className:X()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(c)),"aria-labelledby":a,children:s}))};return(0,Z.jsxs)(Z.Fragment,{children:[!z&&(l||H)&&ee({}),(0,Z.jsx)(kt.Provider,{value:Y,children:(0,Z.jsx)(et,{show:z,ref:n,backdrop:h,container:w,keyboard:v,autoFocus:C,enforceFocus:R&&!y,restoreFocus:A,restoreFocusOptions:I,onEscapeKeyDown:S,onShow:b,onHide:V,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==P||P.apply(void 0,[e].concat(n))},onEntering:D,onEntered:N,onExit:O,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==U||U.apply(void 0,n)},manager:j||(y?(F.current||(F.current=new dn({handleContainerOverflow:!1})),F.current):function(e){return sn||(sn=new ln(e)),sn}()),transition:pn,backdropTransition:hn,renderBackdrop:J,renderDialog:ee})})]})}));gn.displayName="Offcanvas";var vn=Object.assign(gn,{Body:xt,Header:Gt,Title:Jt}),mn=["as","className","type","tooltip"],yn={type:$t().string,tooltip:$t().bool,as:$t().elementType},Sn=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.type,s=void 0===o?"valid":o,a=e.tooltip,u=void 0!==a&&a,c=Q(e,mn);return(0,Z.jsx)(r,K(K({},c),{},{ref:t,className:X()(i,"".concat(s,"-").concat(u?"tooltip":"feedback"))}))}));Sn.displayName="Feedback",Sn.propTypes=yn;var bn=Sn,Tn=e.createContext({}),wn=["id","bsPrefix","className","type","isValid","isInvalid","as"],En=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.className,s=t.type,a=void 0===s?"checkbox":s,u=t.isValid,c=void 0!==u&&u,l=t.isInvalid,d=void 0!==l&&l,f=t.as,p=void 0===f?"input":f,h=Q(t,wn),g=(0,e.useContext)(Tn).controlId;return i=oe(i,"form-check-input"),(0,Z.jsx)(p,K(K({},h),{},{ref:n,type:a,id:r||g,className:X()(o,i,c&&"is-valid",d&&"is-invalid")}))}));En.displayName="FormCheckInput";var Cn=En,_n=["bsPrefix","className","htmlFor"],Rn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.htmlFor,s=Q(t,_n),a=(0,e.useContext)(Tn).controlId;return r=oe(r,"form-check-label"),(0,Z.jsx)("label",K(K({},s),{},{ref:n,htmlFor:o||a,className:X()(i,r)}))}));Rn.displayName="FormCheckLabel";var xn=Rn;var An=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],In=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsSwitchPrefix,s=t.inline,a=void 0!==s&&s,u=t.reverse,c=void 0!==u&&u,l=t.disabled,d=void 0!==l&&l,f=t.isValid,p=void 0!==f&&f,h=t.isInvalid,g=void 0!==h&&h,v=t.feedbackTooltip,m=void 0!==v&&v,y=t.feedback,S=t.feedbackType,b=t.className,T=t.style,w=t.title,E=void 0===w?"":w,C=t.type,_=void 0===C?"checkbox":C,R=t.label,x=t.children,A=t.as,I=void 0===A?"input":A,N=Q(t,An);i=oe(i,"form-check"),o=oe(o,"form-switch");var O=(0,e.useContext)(Tn).controlId,k=(0,e.useMemo)((function(){return{controlId:r||O}}),[O,r]),P=!x&&null!=R&&!1!==R||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(x,xn),D=(0,Z.jsx)(Cn,K(K({},N),{},{type:"switch"===_?"checkbox":_,ref:n,isValid:p,isInvalid:g,disabled:d,as:I}));return(0,Z.jsx)(Tn.Provider,{value:k,children:(0,Z.jsx)("div",{style:T,className:X()(b,P&&i,a&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===_&&o),children:x||(0,Z.jsxs)(Z.Fragment,{children:[D,P&&(0,Z.jsx)(xn,{title:E,children:R}),y&&(0,Z.jsx)(bn,{type:S,tooltip:m,children:y})]})})})}));In.displayName="FormCheck";var Nn=Object.assign(In,{Input:Cn,Label:xn}),On=(n(2391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),kn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.type,o=t.size,s=t.htmlSize,a=t.id,u=t.className,c=t.isValid,l=void 0!==c&&c,d=t.isInvalid,f=void 0!==d&&d,p=t.plaintext,h=t.readOnly,g=t.as,v=void 0===g?"input":g,m=Q(t,On),y=(0,e.useContext)(Tn).controlId;return r=oe(r,"form-control"),(0,Z.jsx)(v,K(K({},m),{},{type:i,size:s,ref:n,readOnly:h,id:a||y,className:X()(u,p?"".concat(r,"-plaintext"):r,o&&"".concat(r,"-").concat(o),"color"===i&&"".concat(r,"-color"),l&&"is-valid",f&&"is-invalid")}))}));kn.displayName="FormControl";var Pn=Object.assign(kn,{Feedback:bn}),Dn=["className","bsPrefix","as"],Un=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"div":i,s=Q(e,Dn);return r=oe(r,"form-floating"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));Un.displayName="FormFloating";var $n=Un,jn=["controlId","as"],Mn=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,o=void 0===i?"div":i,s=Q(t,jn),a=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,Z.jsx)(Tn.Provider,{value:a,children:(0,Z.jsx)(o,K(K({},s),{},{ref:n}))})}));Mn.displayName="FormGroup";var Hn=Mn,Ln=["as","bsPrefix","className"],Fn=["className"];function qn(t){var n=t.as,r=t.bsPrefix,i=t.className,o=Q(t,Ln);r=oe(r,"col");var s=(0,e.useContext)(ie).breakpoints,a=(0,e.useContext)(ie).minBreakpoint,u=[],c=[];return s.forEach((function(e){var t,n,i,s=o[e];delete o[e],"object"===typeof s&&null!=s?(t=s.span,n=s.offset,i=s.order):t=s;var l=e!==a?"-".concat(e):"";t&&u.push(!0===t?"".concat(r).concat(l):"".concat(r).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=n&&c.push("offset".concat(l,"-").concat(n))})),[K(K({},o),{},{className:X().apply(void 0,[i].concat(u,c))}),{as:n,bsPrefix:r,spans:u}]}var Bn=e.forwardRef((function(e,t){var n=o(qn(e),2),r=n[0],i=r.className,s=Q(r,Fn),a=n[1],u=a.as,c=void 0===u?"div":u,l=a.bsPrefix,d=a.spans;return(0,Z.jsx)(c,K(K({},s),{},{ref:t,className:X()(i,!d.length&&l)}))}));Bn.displayName="Col";var zn=Bn,Wn=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Gn=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,s=t.column,a=void 0!==s&&s,u=t.visuallyHidden,c=void 0!==u&&u,l=t.className,d=t.htmlFor,f=Q(t,Wn),p=(0,e.useContext)(Tn).controlId;o=oe(o,"form-label");var h="col-form-label";"string"===typeof a&&(h="".concat(h," ").concat(h,"-").concat(a));var g=X()(l,o,c&&"visually-hidden",a&&h);return d=d||p,a?(0,Z.jsx)(zn,K({ref:n,as:"label",className:g,htmlFor:d},f)):(0,Z.jsx)(i,K({ref:n,className:g,htmlFor:d},f))}));Gn.displayName="FormLabel";var Vn=Gn,Kn=["bsPrefix","className","id"],Yn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.id,s=Q(t,Kn),a=(0,e.useContext)(Tn).controlId;return r=oe(r,"form-range"),(0,Z.jsx)("input",K(K({},s),{},{type:"range",ref:n,className:X()(i,r),id:o||a}))}));Yn.displayName="FormRange";var Qn=Yn,Jn=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Xn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.htmlSize,s=t.className,a=t.isValid,u=void 0!==a&&a,c=t.isInvalid,l=void 0!==c&&c,d=t.id,f=Q(t,Jn),p=(0,e.useContext)(Tn).controlId;return r=oe(r,"form-select"),(0,Z.jsx)("select",K(K({},f),{},{size:o,ref:n,className:X()(s,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:d||p}))}));Xn.displayName="FormSelect";var Zn=Xn,er=["bsPrefix","className","as","muted"],tr=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"small":i,s=e.muted,a=Q(e,er);return n=oe(n,"form-text"),(0,Z.jsx)(o,K(K({},a),{},{ref:t,className:X()(r,n,s&&"text-muted")}))}));tr.displayName="FormText";var nr=tr,rr=e.forwardRef((function(e,t){return(0,Z.jsx)(Nn,K(K({},e),{},{ref:t,type:"switch"}))}));rr.displayName="Switch";var ir=Object.assign(rr,{Input:Nn.Input,Label:Nn.Label}),or=["bsPrefix","className","children","controlId","label"],sr=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,o=e.controlId,s=e.label,a=Q(e,or);return n=oe(n,"form-floating"),(0,Z.jsxs)(Hn,K(K({ref:t,className:X()(r,n),controlId:o},a),{},{children:[i,(0,Z.jsx)("label",{htmlFor:o,children:s})]}))}));sr.displayName="FloatingLabel";var ar=sr,ur=["className","validated","as"],cr={_ref:$t().any,validated:$t().bool,as:$t().elementType},lr=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,o=void 0===i?"form":i,s=Q(e,ur);return(0,Z.jsx)(o,K(K({},s),{},{ref:t,className:X()(n,r&&"was-validated")}))}));lr.displayName="Form",lr.propTypes=cr;var dr=Object.assign(lr,{Group:Hn,Control:Pn,Floating:$n,Check:Nn,Switch:ir,Label:Vn,Text:nr,Range:Qn,Select:Zn,FloatingLabel:ar});function fr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function pr(e){return!!e&&!!e[ni]}function hr(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ri}(e)||Array.isArray(e)||!!e[ti]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ti])||Tr(e)||wr(e))}function gr(e,t,n){void 0===n&&(n=!1),0===vr(e)?(n?Object.keys:ii)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function vr(e){var t=e[ni];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Tr(e)?2:wr(e)?3:0}function mr(e,t){return 2===vr(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yr(e,t){return 2===vr(e)?e.get(t):e[t]}function Sr(e,t,n){var r=vr(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function br(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Tr(e){return Jr&&e instanceof Map}function wr(e){return Xr&&e instanceof Set}function Er(e){return e.o||e.t}function Cr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=oi(e);delete t[ni];for(var n=ii(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function _r(e,t){return void 0===t&&(t=!1),xr(e)||pr(e)||!hr(e)||(vr(e)>1&&(e.set=e.add=e.clear=e.delete=Rr),Object.freeze(e),t&&gr(e,(function(e,t){return _r(t,!0)}),!0)),e}function Rr(){fr(2)}function xr(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Ar(e){var t=si[e];return t||fr(18,e),t}function Ir(e,t){si[e]||(si[e]=t)}function Nr(){return Yr}function Or(e,t){t&&(Ar("Patches"),e.u=[],e.s=[],e.v=t)}function kr(e){Pr(e),e.p.forEach(Ur),e.p=null}function Pr(e){e===Yr&&(Yr=e.l)}function Dr(e){return Yr={p:[],l:Yr,h:e,m:!0,_:0}}function Ur(e){var t=e[ni];0===t.i||1===t.i?t.j():t.g=!0}function $r(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Ar("ES5").S(t,e,r),r?(n[ni].P&&(kr(t),fr(4)),hr(e)&&(e=jr(t,e),t.l||Hr(t,e)),t.u&&Ar("Patches").M(n[ni].t,e,t.u,t.s)):e=jr(t,n,[]),kr(t),t.u&&t.v(t.u,t.s),e!==ei?e:void 0}function jr(e,t,n){if(xr(t))return t;var r=t[ni];if(!r)return gr(t,(function(i,o){return Mr(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Hr(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Cr(r.k):r.o,o=i,s=!1;3===r.i&&(o=new Set(i),i.clear(),s=!0),gr(o,(function(t,o){return Mr(e,r,i,t,o,n,s)})),Hr(e,i,!1),n&&e.u&&Ar("Patches").N(r,n,e.u,e.s)}return r.o}function Mr(e,t,n,r,i,o,s){if(pr(i)){var a=jr(e,i,o&&t&&3!==t.i&&!mr(t.R,r)?o.concat(r):void 0);if(Sr(n,r,a),!pr(a))return;e.m=!1}else s&&n.add(i);if(hr(i)&&!xr(i)){if(!e.h.D&&e._<1)return;jr(e,i),t&&t.A.l||Hr(e,i)}}function Hr(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&_r(t,n)}function Lr(e,t){var n=e[ni];return(n?Er(n):e)[t]}function Fr(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function qr(e){e.P||(e.P=!0,e.l&&qr(e.l))}function Br(e){e.o||(e.o=Cr(e.t))}function zr(e,t,n){var r=Tr(t)?Ar("MapSet").F(t,n):wr(t)?Ar("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Nr(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ai;n&&(i=[r],o=ui);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):Ar("ES5").J(t,n);return(n?n.A:Nr()).p.push(r),r}function Wr(e){return pr(e)||fr(22,e),function e(t){if(!hr(t))return t;var n,r=t[ni],i=vr(t);if(r){if(!r.P&&(r.i<4||!Ar("ES5").K(r)))return r.t;r.I=!0,n=Gr(t,i),r.I=!1}else n=Gr(t,i);return gr(n,(function(t,i){r&&yr(r.t,t)===i||Sr(n,t,e(i))})),3===i?new Set(n):n}(e)}function Gr(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Cr(e)}function Vr(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ni];return ai.get(t,e)},set:function(t){var n=this[ni];ai.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ni];if(!i.P)switch(i.i){case 5:r(i)&&qr(i);break;case 4:n(i)&&qr(i)}}}function n(e){for(var t=e.t,n=e.k,r=ii(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ni){var s=t[o];if(void 0===s&&!mr(t,o))return!0;var a=n[o],u=a&&a[ni];if(u?u.t!==s:!br(a,s))return!0}}var c=!!t[ni];return r.length!==ii(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Ir("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=oi(n);delete o[ni];for(var s=ii(o),a=0;a<s.length;a++){var u=s[a];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:Nr(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,ni,{value:o,writable:!0}),i},S:function(e,n,i){i?pr(n)&&n[ni].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ni];if(n){var i=n.t,o=n.k,s=n.R,a=n.i;if(4===a)gr(o,(function(t){t!==ni&&(void 0!==i[t]||mr(i,t)?s[t]||e(o[t]):(s[t]=!0,qr(n)))})),gr(i,(function(e){void 0!==o[e]||mr(o,e)||(s[e]=!1,qr(n))}));else if(5===a){if(r(n)&&(qr(n),s.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)s[u]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var l=Math.min(o.length,i.length),d=0;d<l;d++)o.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Kr,Yr,Qr="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Jr="undefined"!=typeof Map,Xr="undefined"!=typeof Set,Zr="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ei=Qr?Symbol.for("immer-nothing"):((Kr={})["immer-nothing"]=!0,Kr),ti=Qr?Symbol.for("immer-draftable"):"__$immer_draftable",ni=Qr?Symbol.for("immer-state"):"__$immer_state",ri=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ii="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,oi=Object.getOwnPropertyDescriptors||function(e){var t={};return ii(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},si={},ai={get:function(e,t){if(t===ni)return e;var n=Er(e);if(!mr(n,t))return function(e,t,n){var r,i=Fr(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!hr(r)?r:r===Lr(e.t,t)?(Br(e),e.o[t]=zr(e.A.h,r,e)):r},has:function(e,t){return t in Er(e)},ownKeys:function(e){return Reflect.ownKeys(Er(e))},set:function(e,t,n){var r=Fr(Er(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Lr(Er(e),t),o=null==i?void 0:i[ni];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(br(n,i)&&(void 0!==n||mr(e.t,t)))return!0;Br(e),qr(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Lr(e.t,t)||t in e.t?(e.R[t]=!1,Br(e),qr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Er(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){fr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){fr(12)}},ui={};gr(ai,(function(e,t){ui[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ui.deleteProperty=function(e,t){return ui.set.call(this,e,t,void 0)},ui.set=function(e,t,n){return ai.set.call(this,e[0],t,n,e[0])};var ci=function(){function e(e){var t=this;this.O=Zr,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&fr(6),void 0!==r&&"function"!=typeof r&&fr(7),hr(e)){var a=Dr(t),u=zr(t,e,void 0),c=!0;try{s=n(u),c=!1}finally{c?kr(a):Pr(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return Or(a,r),$r(e,a)}),(function(e){throw kr(a),e})):(Or(a,r),$r(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===ei&&(s=void 0),t.D&&_r(s,!0),r){var l=[],d=[];Ar("Patches").M(e,s,l,d),r(l,d)}return s}fr(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){hr(e)||fr(8),pr(e)&&(e=Wr(e));var t=Dr(this),n=zr(this,e,void 0);return n[ni].C=!0,Pr(t),n},t.finishDraft=function(e,t){var n=(e&&e[ni]).A;return Or(n,t),$r(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Zr&&fr(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Ar("Patches").$;return pr(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),li=new ci,di=li.produce,fi=(li.produceWithPatches.bind(li),li.setAutoFreeze.bind(li),li.setUseProxies.bind(li),li.applyPatches.bind(li),li.createDraft.bind(li),li.finishDraft.bind(li),di);function pi(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var hi="function"===typeof Symbol&&Symbol.observable||"@@observable",gi=function(){return Math.random().toString(36).substring(7).split("").join(".")},vi={INIT:"@@redux/INIT"+gi(),REPLACE:"@@redux/REPLACE"+gi(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gi()}};function mi(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yi(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(pi(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(pi(1));return n(yi)(e,t)}if("function"!==typeof e)throw new Error(pi(2));var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){if(u)throw new Error(pi(3));return o}function d(e){if("function"!==typeof e)throw new Error(pi(4));if(u)throw new Error(pi(5));var t=!0;return c(),a.push(e),function(){if(t){if(u)throw new Error(pi(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function f(e){if(!mi(e))throw new Error(pi(7));if("undefined"===typeof e.type)throw new Error(pi(8));if(u)throw new Error(pi(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:vi.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(pi(10));i=e,f({type:vi.REPLACE})}})[hi]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(pi(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[hi]=function(){return this},e},r}function Si(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:vi.INIT}))throw new Error(pi(12));if("undefined"===typeof n(void 0,{type:vi.PROBE_UNKNOWN_ACTION()}))throw new Error(pi(13))}))}(n)}catch(Rs){o=Rs}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],c=n[u],l=e[u],d=c(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(pi(14))}i[u]=d,r=r||d!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}function bi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ti(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(pi(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=bi.apply(void 0,o)(n.dispatch),K(K({},n),{},{dispatch:r})}}}function wi(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ei=wi();Ei.withExtraArgument=wi;var Ci=Ei,_i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ri=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Rs){o=[6,Rs],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},xi=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ai=Object.defineProperty,Ii=Object.defineProperties,Ni=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,ki=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Di=function(e,t,n){return t in e?Ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ui=function(e,t){for(var n in t||(t={}))ki.call(t,n)&&Di(e,n,t[n]);if(Oi)for(var r=0,i=Oi(t);r<i.length;r++){n=i[r];Pi.call(t,n)&&Di(e,n,t[n])}return e},$i=function(e,t){return Ii(e,Ni(t))},ji=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(Rs){i(Rs)}},s=function(e){try{a(n.throw(e))}catch(Rs){i(Rs)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},Mi="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?bi:bi.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Hi(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}function Li(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ui(Ui({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var Fi=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return _i(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,xi([void 0],e[0].concat(this)))):new(t.bind.apply(t,xi([void 0],e.concat(this))))},t}(Array),qi=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return _i(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,xi([void 0],e[0].concat(this)))):new(t.bind.apply(t,xi([void 0],e.concat(this))))},t}(Array);function Bi(e){return hr(e)?fi(e,(function(){})):e}function zi(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Fi);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ci.withExtraArgument(n.extraArgument)):r.push(Ci));0;return r}(e)}}function Wi(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var Gi=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Vi=["name","message","stack","code"],Ki=function(e,t){this.payload=e,this.meta=t},Yi=function(e,t){this.payload=e,this.meta=t},Qi=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Vi;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Li(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:$i(Ui({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Li(e+"/pending",(function(e,t,n){return{payload:void 0,meta:$i(Ui({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Li(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Qi)(e||"Rejected"),meta:$i(Ui({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,u,c){var l,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Gi(),f=new s;function p(e){l=e,f.abort()}var h=function(){return ji(this,null,(function(){var s,h,g,v,m,y;return Ri(this,(function(S){switch(S.label){case 0:return S.trys.push([0,4,,5]),v=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:u,extra:c}),null===(b=v)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,v];case 1:v=S.sent(),S.label=2;case 2:if(!1===v||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),a(i(d,e,null==(h=null==n?void 0:n.getPendingMeta)?void 0:h.call(n,{requestId:d,arg:e},{getState:u,extra:c}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:a,getState:u,extra:c,requestId:d,signal:f.signal,abort:p,rejectWithValue:function(e,t){return new Ki(e,t)},fulfillWithValue:function(e,t){return new Yi(e,t)}})).then((function(t){if(t instanceof Ki)throw t;return t instanceof Yi?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=S.sent(),[3,5];case 4:return y=S.sent(),g=y instanceof Ki?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var b}))}))}();return Object.assign(h,{abort:p,requestId:d,arg:e,unwrap:function(){return h.then(Ji)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function Ji(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Xi="listenerMiddleware";Li(Xi+"/add"),Li(Xi+"/removeAll"),Li(Xi+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Zi,eo=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:eo(10);Vr();var to,no,ro,io,oo=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Bi(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},u={};function c(){var t="function"===typeof e.extraReducers?Wi(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Ui(Ui({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Wi(t):[t,n,r],s=o[0],a=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Bi(e())};else{var c=Bi(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=xi([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(pr(e))return void 0===(r=n(e,t))?e:r;if(hr(e))return fi(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,u[e]=r?Li(c,r):Li(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"config",initialState:{loading:!1,data:{serverIp:"",serverPort:"",userName:"",password:""},error:""},reducers:{updateConfig:function(e,t){e.data=t.payload}}}),so=oo.actions.updateConfig,ao=oo.reducer,uo=function(){var t=G(),n=o((0,e.useState)(""),2),r=n[0],i=n[1],s=o((0,e.useState)(""),2),a=s[0],u=s[1],c=o((0,e.useState)(""),2),l=c[0],d=c[1],f=o((0,e.useState)(""),2),p=f[0],h=f[1],g=o((0,e.useState)(!1),2),v=g[0],m=g[1];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"page-title",children:[(0,Z.jsx)("h1",{children:"Intercom Testing"}),(0,Z.jsx)(ue,{variant:"secondary",onClick:function(){return m(!0)},children:(0,Z.jsx)("img",{src:"./settings.png"})})]}),(0,Z.jsxs)(vn,{show:v,onHide:function(){return m(!1)},placement:"top",children:[(0,Z.jsx)(vn.Header,{closeButton:!0,children:(0,Z.jsx)(vn.Title,{as:"h1",children:"Setting"})}),(0,Z.jsx)(vn.Body,{style:{display:"flex",justifyContent:"center"},children:(0,Z.jsxs)("div",{className:"intercom-form",children:[(0,Z.jsxs)("div",{className:"intercom-form-group",children:[(0,Z.jsx)(dr.Label,{children:"Server IP"}),(0,Z.jsx)(dr.Control,{size:"sm",value:r,onChange:function(e){return i(e.target.value)}})]}),(0,Z.jsxs)("div",{className:"intercom-form-group",children:[(0,Z.jsx)(dr.Label,{children:"Server Port"}),(0,Z.jsx)(dr.Control,{size:"sm",value:a,onChange:function(e){return u(e.target.value)}})]}),(0,Z.jsxs)("div",{className:"intercom-form-group",children:[(0,Z.jsx)(dr.Label,{children:"User Name"}),(0,Z.jsx)(dr.Control,{size:"sm",value:l,onChange:function(e){return d(e.target.value)}})]}),(0,Z.jsxs)("div",{className:"intercom-form-group",children:[(0,Z.jsx)(dr.Label,{children:"Password"}),(0,Z.jsx)(dr.Control,{size:"sm",type:"password",value:p,onChange:function(e){return h(e.target.value)}}),(0,Z.jsx)("div",{className:"intercom-form-btn",children:(0,Z.jsx)(ue,{size:"sm",variant:"dark",onClick:function(){r?a?l?p?(t(so({serverIp:r,serverPort:a,userName:l,password:p})),m(!1)):alert("Please enter the Password"):alert("Please enter the User Name"):alert("Please enter the Server Port"):alert("Please enter the Server IP")},children:"Submit"})})]})]})})]})]})},co=function(){return{remoteVideo:(0,e.useRef)(null),localVideo:(0,e.useRef)(null)}},lo=(0,e.createContext)(),fo=function(){return(0,e.useContext)(lo)},po=function(e){var t=e.children,n=co();return(0,Z.jsx)(lo.Provider,{value:n,children:t})},ho=n(2549),go=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{audio:!0,video:!1},s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];Ie(this,e),this.connectionErrorHandler=function(){},this.connectingHandler=function(){},this.connectedHandler=function(){},this.disConnectingHandler=function(){},this.disConnectedHandler=function(){},this.inviteHandler=function(e){},this.serverIp=t,this.serverPort=n,this.userName=r,this.password=i,this.mediaOptions=o,this.restartState=s,this.autoConnect=a,this.config()}return Oe(e,[{key:"config",value:function(){this.configuration={uri:"".concat(this.userName,"@").concat(this.serverIp),transportOptions:{wsServers:["wss://".concat(this.serverIp,":").concat(this.serverPort,"/ws")],traceSip:!0},sessionDescriptionHandlerFactoryOptions:{peerConnectionOptions:{iceCheckingTimeout:500,rtcConfiguration:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}},constraints:this.mediaOptions},authorizationUser:this.userName,password:this.password,hackWssInTransport:!0,autostart:!1},this.userAgent=new ho.UA(this.configuration)}},{key:"start",value:function(){var e=this;this.userAgent.once("transportCreated",(function(t){t.on("transportError",(function(){console.log("Network connection error"),e.connectionErrorHandler()})),t.on("connecting",(function(){console.log("Connecting..."),e.connectingHandler()})),t.on("connected",(function(){console.log("Transport connected, props"),e.connectedHandler(),console.log(e.connectedHandler)})),t.on("disconnecting",(function(){e.disConnectingHandler()})),t.on("disconnected",(function(){e.disConnectedHandler(),e.restartState&&e.userName&&e.password&&setTimeout((function(){try{t.connect()}catch(e){console.log(e)}}),5e3)}))})),this.userAgent.on("invite",(function(t){var n=t.request.body;console.log("Remote SDP:",n),e.inviteHandler(t)})),this.userAgent.start()}}]),e}(),vo=!0,mo=function(){var t=j((function(e){return e.config.data})),n=fo(),r=n.remoteVideo,i=n.localVideo,s=o((0,e.useState)("Disconnected"),2),a=s[0],u=s[1],c=o((0,e.useState)("Idle"),2),l=c[0],d=c[1],f=o((0,e.useState)(" - "),2),p=f[0],h=f[1],g=o((0,e.useState)(""),2),v=g[0],m=g[1],y=(0,e.useRef)(null),S=function(){console.log("hangupCall called"),console.log(no),to?(to.terminate(),to=null):no?(no.terminate(),no=null):m("Hangup Error: session variable ")},b=function(e){console.log("Handle Call"),console.log(e),e.on("terminated",(function(e,t){console.log(e),console.log(t),i.current.src="",i.current.srcObject=null,r.current.pause(),r.current.src="",r.current.srcObject=null,r.current.removeAttribute("src"),r.current.removeAttribute("loop"),d("Idle")})),e.on("accepted",(function(){console.log("In Call"),d("InCall"),T()})),e.on("cancel",(function(){d("Canceling")})),e.on("rejected",(function(e,t){to=null,no=null,console.log("rejected")})),e.on("userMediaRequest",(function(e){console.log(e)})),e.on("userMedia",(function(e){console.log(e)})),e.on("failed",(function(e){try{console.log("status code: ".concat(e.statusCode)),console.log("reason: ".concat(e.reasonPhrase)),console.log("data: ".concat(e.data))}catch(t){console.log(t),alert("Please check authentication or microphone")}})),e.on("SessionDescriptionHandler-created",(function(){e.sessionDescriptionHandler.on("userMediaFailed",(function(){}))})),e.on("trackAdded",(function(){if(e.sessionDescriptionHandler&&e.sessionDescriptionHandler.peerConnection){var t=e.sessionDescriptionHandler.peerConnection;try{var n=t.getReceivers().map((function(e){return e.track})).filter((function(e){return"audio"===e.kind}));n.length>0?console.log("Remote audio tracks:",n):console.log("No remote audio tracks found")}catch(Rs){console.log(Rs)}try{var r=t.getSenders().map((function(e){return e.track})).filter((function(e){return"audio"===e.kind}));r.length>0?console.log("Local audio tracks:",r):console.log("No local audio tracks found")}catch(Rs){console.log(Rs)}ro=new MediaStream,t.getReceivers().forEach((function(e){ro.addTrack(e.track)})),io=new MediaStream,setTimeout((function(){t.getSenders().forEach((function(e){e.track&&io.addTrack(e.track)})),i.current.srcObject=io,i.current.play().catch((function(e){console.log(e)}))}),500)}}))},T=function(){if(console.log("callConnected"),ro)try{r.current.srcObject=ro,r.current.play().catch((function(e){console.log(e)}))}catch(Rs){console.log(Rs)}},w=function(){vo=!1,setTimeout((function(){vo=!0}),1e3)};return(0,e.useEffect)((function(){if(t&&"object"===typeof t&&"userName"in t&&"password"in t&&t.userName&&t.password){var e=new go(t.serverIp,t.serverPort,t.userName,t.password);e.connectionErrorHandler=function(){m("Network Connection Error")},e.connectingHandler=function(){u("Connecting...")},e.connectedHandler=function(){u("Connected"),m("")},e.disConnectingHandler=function(){u("Disconnecting...")},e.disConnectedHandler=function(){u("Disconnected")},e.inviteHandler=function(e){!function(e){d("Alerting"),r.current.setAttribute("src","./alert.mp3"),r.current.setAttribute("loop",!0),r.current.play(),to=e,b(e)}(e)},e.start(),y.current=e.userAgent}else y.current&&y.current.stop()}),[t]),(0,e.useEffect)((function(){"Idle"===l?h("Call"):"Alerting"===l?h("Answer"):"InCall"===l?h("Hang up"):"Calling"===l&&h("Cancel")}),[l]),{btnTitle:p,callState:l,intercomError:v,connectionState:a,handleBtn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return vo?"Idle"===l?(w(),r.current.src="./waiting.mp3",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;m(""),d("Calling");var t={extraHeaders:[]};e?no=y.current.invite(e,t):(console.log("default call"),no=y.current.invite("1000",t)),console.log("Calling session start"),b(no)}(e),!0):"Alerting"===l?(w(),function(){if(to)try{m(""),to.accept()}catch(Rs){m("Answer Error: ".concat(Rs)),console.log(Rs)}}(),!0):["InCall","Calling"].includes(l)?(w(),S(),!0):void 0:(alert("Please click more slowly."),!1)},hangupCall:S}},yo=(0,e.createContext)(),So=function(e){var t=e.children,n=mo();return(0,Z.jsx)(yo.Provider,{value:n,children:t})};function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}n(2176);function To(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function wo(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Eo(t,n){return Object.keys(n).reduce((function(r,i){var o,s=r,a=s[To(i)],u=s[i],c=Y(s,[To(i),i].map(wo)),l=n[i],d=function(t,n,r){var i=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),s=o[0],a=o[1],u=void 0!==t,c=i.current;return i.current=u,!u&&c&&s!==n&&a(n),[u?t:s,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(u,a,t[l]),f=d[0],p=d[1];return bo({},c,((o={})[i]=f,o[l]=p,o))}),t)}function Co(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function _o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ro(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Co.__suppressDeprecationWarning=!0,_o.__suppressDeprecationWarning=!0,Ro.__suppressDeprecationWarning=!0;var xo=["className","bsPrefix","as"],Ao=Vt("h4");Ao.displayName="DivStyledAsH4";var Io=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?Ao:i,s=Q(e,xo);return r=oe(r,"alert-heading"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));Io.displayName="AlertHeading";var No=Io;new WeakMap;var Oo=["onKeyDown"];var ko=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Oo),s=o(te(Object.assign({tagName:"a"},i)),1)[0],a=ve((function(e){s.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,Z.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,Z.jsx)("a",Object.assign({ref:t},i,s,{onKeyDown:a}))}));ko.displayName="Anchor";var Po=ko,Do=["className","bsPrefix","as"],Uo=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?Po:i,s=Q(e,Do);return r=oe(r,"alert-link"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));Uo.displayName="AlertLink";var $o=Uo,jo=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Mo=e.forwardRef((function(e,t){var n=Eo(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,o=void 0===i||i,s=n.closeLabel,a=void 0===s?"Close alert":s,u=n.closeVariant,c=n.className,l=n.children,d=n.variant,f=void 0===d?"primary":d,p=n.onClose,h=n.dismissible,g=n.transition,v=void 0===g?Et:g,m=Q(n,jo),y=oe(r,"alert"),S=ve((function(e){p&&p(!1,e)})),b=!0===v?Et:v,T=(0,Z.jsxs)("div",K(K({role:"alert"},b?void 0:m),{},{ref:t,className:X()(c,y,f&&"".concat(y,"-").concat(f),h&&"".concat(y,"-dismissible")),children:[h&&(0,Z.jsx)(Lt,{onClick:S,"aria-label":a,variant:u}),l]}));return b?(0,Z.jsx)(b,K(K({unmountOnExit:!0},m),{},{ref:void 0,in:o,children:T})):o?T:null}));Mo.displayName="Alert";var Ho=Object.assign(Mo,{Link:$o,Heading:No}),Lo=["className","bsPrefix","as"],Fo=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"div":i,s=Q(e,Lo);return r=oe(r,"card-body"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));Fo.displayName="CardBody";var qo=Fo,Bo=["className","bsPrefix","as"],zo=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"div":i,s=Q(e,Bo);return r=oe(r,"card-footer"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));zo.displayName="CardFooter";var Wo=zo,Go=e.createContext(null);Go.displayName="CardHeaderContext";var Vo=Go,Ko=["bsPrefix","className","as"],Yo=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,s=void 0===o?"div":o,a=Q(t,Ko),u=oe(r,"card-header"),c=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,Z.jsx)(Vo.Provider,{value:c,children:(0,Z.jsx)(s,K(K({ref:n},a),{},{className:X()(i,u)}))})}));Yo.displayName="CardHeader";var Qo=Yo,Jo=["bsPrefix","className","variant","as"],Xo=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,o=e.as,s=void 0===o?"img":o,a=Q(e,Jo),u=oe(n,"card-img");return(0,Z.jsx)(s,K({ref:t,className:X()(i?"".concat(u,"-").concat(i):u,r)},a))}));Xo.displayName="CardImg";var Zo=Xo,es=["className","bsPrefix","as"],ts=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"div":i,s=Q(e,es);return r=oe(r,"card-img-overlay"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));ts.displayName="CardImgOverlay";var ns=ts,rs=["className","bsPrefix","as"],is=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"a":i,s=Q(e,rs);return r=oe(r,"card-link"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));is.displayName="CardLink";var os=is,ss=["className","bsPrefix","as"],as=Vt("h6"),us=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?as:i,s=Q(e,ss);return r=oe(r,"card-subtitle"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));us.displayName="CardSubtitle";var cs=us,ls=["className","bsPrefix","as"],ds=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?"p":i,s=Q(e,ls);return r=oe(r,"card-text"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));ds.displayName="CardText";var fs=ds,ps=["className","bsPrefix","as"],hs=Vt("h5"),gs=e.forwardRef((function(e,t){var n=e.className,r=e.bsPrefix,i=e.as,o=void 0===i?hs:i,s=Q(e,ps);return r=oe(r,"card-title"),(0,Z.jsx)(o,K({ref:t,className:X()(n,r)},s))}));gs.displayName="CardTitle";var vs=gs,ms=["bsPrefix","className","bg","text","border","body","children","as"],ys=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,o=e.text,s=e.border,a=e.body,u=void 0!==a&&a,c=e.children,l=e.as,d=void 0===l?"div":l,f=Q(e,ms),p=oe(n,"card");return(0,Z.jsx)(d,K(K({ref:t},f),{},{className:X()(r,p,i&&"bg-".concat(i),o&&"text-".concat(o),s&&"border-".concat(s)),children:u?(0,Z.jsx)(qo,{children:c}):c}))}));ys.displayName="Card";var Ss=Object.assign(ys,{Img:Zo,Title:vs,Subtitle:cs,Body:qo,Link:os,Text:fs,Header:Qo,Footer:Wo,ImgOverlay:ns}),bs=function(t){var n=t.browser,r=t.mediaTested,i=t.mediaSupported,s=(0,e.useContext)(yo),a=s.btnTitle,u=s.callState,c=s.intercomError,l=s.connectionState,d=s.handleBtn,f=o((0,e.useState)(""),2),p=f[0],h=f[1];return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"intercom-widget",children:r?(0,Z.jsx)("div",{className:"media-test",children:i?(0,Z.jsxs)("div",{className:"media-support",children:[(0,Z.jsx)(Ho,{variant:"secondary",children:"Connection State : ".concat(l)}),(0,Z.jsx)(Ho,{variant:"secondary",children:"Call State : ".concat(u)}),c&&(0,Z.jsx)(Ho,{variant:"danger",children:"Error : ".concat(c)}),"Connected"===l&&"Canceling"!==u&&(0,Z.jsxs)(Ss,{children:[(0,Z.jsx)(Ss.Header,{children:"Control"}),(0,Z.jsx)(Ss.Body,{children:(0,Z.jsx)(dr,{children:(0,Z.jsxs)(dr.Group,{children:[(0,Z.jsx)(dr.Label,{children:"Target"}),(0,Z.jsxs)(dr.Group,{className:"widget-form-inner",children:[(0,Z.jsx)(dr.Control,{value:p,onChange:function(e){return h(e.target.value)}}),(0,Z.jsx)(ue,{onClick:function(){p||"Idle"!==u?d(p):alert("Please enter the target")},children:a})]})]})})})]})]}):(0,Z.jsxs)(Ss,{border:"danger",text:"danger",children:[(0,Z.jsx)(Ss.Header,{children:"Media Error"}),"crios"===n?(0,Z.jsx)(Ss.Text,{children:"You are using Chrome on iPhone. It does not support WebRTC. Please test again using Safari."}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ss.Text,{children:"You have not permitted use of camera and microphone, or your device is not WebRTC capable."}),(0,Z.jsx)(Ss.Text,{children:"Please verify your settings."}),(0,Z.jsx)(ue,{onClick:function(){window.location.reload()},children:"Try to reload page"})]})]})}):(0,Z.jsxs)(Ss,{border:"danger",text:"danger",children:[(0,Z.jsx)(Ss.Header,{children:"Permission Error"}),(0,Z.jsxs)(Ss.Body,{children:[(0,Z.jsx)(Ss.Text,{children:"Requesting microphone permission ..."}),(0,Z.jsx)(Ss.Text,{children:"Please allow the application to use microphone"})]})]})})})},Ts=function(){var e=fo(),t=e.localVideo,n=e.remoteVideo;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("video",{width:"0.01%",id:"localVideo",autoPlay:!0,playsInline:!0,loop:!0,muted:"muted",ref:function(e){e&&(t.current=e)},style:{display:"none"}}),(0,Z.jsx)("video",{ref:function(e){e&&(n.current=e)},width:"0.01%",id:"remoteVideo",autoPlay:!0,playsInline:!0,loop:!0,style:{display:"none"}})]})},ws={audio:!0,video:!1};var Es=function(){var t=o((0,e.useState)(null),2),n=t[0],r=t[1],i=o((0,e.useState)(!1),2),s=i[0],a=i[1],u=o((0,e.useState)(!1),2),c=u[0],l=u[1];return(0,e.useEffect)((function(){!function(){if(navigator.mediaDevices)navigator.mediaDevices.getUserMedia(ws).then((function(){a(!0),l(!0)})).catch((function(e){console.error(e),a(!0),l(!1)}));else{var e=v();console.warn(e),r(e.name),a(!0),l(!1)}}()}),[]),(0,Z.jsx)("div",{className:"page",children:(0,Z.jsxs)("div",{className:"page-inner",children:[(0,Z.jsx)(uo,{}),(0,Z.jsx)(bs,{browser:n,mediaTested:s,mediaSupported:c}),(0,Z.jsx)(Ts,{})]})})},Cs=function(e){var t,n=zi(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,u=r.devTools,c=void 0===u||u,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!Hi(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Si(o)}var h=a;"function"===typeof h&&(h=h(n));var g=Ti.apply(void 0,h),v=bi;c&&(v=Mi(Ui({trace:!1},"object"===typeof c&&c)));var m=new qi(g),y=m;return Array.isArray(p)?y=xi([g],p):"function"===typeof p&&(y=p(m)),yi(t,d,v.apply(void 0,y))}({reducer:{config:ao}}),_s=Cs;t.createRoot(document.getElementById("root")).render((0,Z.jsx)(F,{store:_s,children:(0,Z.jsx)(po,{children:(0,Z.jsx)(So,{children:(0,Z.jsx)(Es,{})})})}))}()}();
//# sourceMappingURL=main.159a1949.js.map